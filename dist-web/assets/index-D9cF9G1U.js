const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/core-ai-yFIunLTZ.js","chunks/vendor-zustand-BWsgwsXr.js","chunks/vendor-react-gmX1Lmvt.js","chunks/vendor-react-dom-Bkb6jJ_S.js","chunks/vendor-Vl2WtvH-.js","chunks/mode-manager.ts-DwguZmJt.js","chunks/core-memory-DmK-uh9X.js","chunks/AppShell-CJtR0Pw4.js","chunks/History-kg0LrAO3.js","chunks/vendor-framer-motion-DDE19Uim.js","chunks/Downloads-CU-ngJEB.js","chunks/OmniDesk-C5fSodZ1.js","chunks/vendor-utils-5Vdoy44w.js","chunks/mode-research-BclgCwOH.js","chunks/mode-docs-FcsoolLb.js","chunks/vendor-pdf-ejcqEZLU.js","chunks/vendor-mammoth-BPQIafDs.js","chunks/WorkspacesPanel-3geKynW_.js","chunks/bookmarksStore-CAScveEF.js","chunks/workspacesStore-BSqEl-CQ.js","chunks/tradeStore-CHfkU4NA.js","chunks/dataService-HUHZrGu9.js","chunks/registry-CG5fPtjR.js","chunks/trustDashboardStore-BRaGSCcb.js","chunks/Home-l_WNGaND.js","chunks/Settings-DqH3fooY.js","chunks/crash-reporting-Dtoe4cFC.js","chunks/auth-Cg8cvnkf.js","chunks/PrivacyDashboard-B5QYv-jo.js","chunks/Workspace-C0xs19MI.js","chunks/AgentConsole-Crl6GhHY.js","chunks/Runs-t798C8nQ.js","chunks/Replay-CsX37nwI.js","chunks/PlaybookForge-BZ4gBW8J.js","chunks/automationBridge-DqKbbR2V.js","chunks/DocumentEditor-D--hkoBG.js","chunks/Watchers-D9YXaUTw.js","chunks/Video-DUSaFHTc.js","chunks/ConsentTimeline-7BgCPkqX.js","chunks/meiliIndexer-C-Al5lgE.js","chunks/meili-setup-DMuaSvqB.js","chunks/sync-C-mJ7UTb.js","chunks/tabSyncService-lTHTJeOg.js"])))=>i.map(i=>d[i]);
import{h as $,i as b,j as w,k as W,_ as u,a as A,l as O,u as Se,t as k,b as D,m as Ee}from"../chunks/core-ai-yFIunLTZ.js";import{r as m,j as s,t as Pe,O as ke,u as ge,P as Te,X as Re,Q as Ce,S as re,o as Ie,M as ne,m as oe,V as Ae,N as ye,W as Le}from"../chunks/vendor-react-gmX1Lmvt.js";import{d as je}from"../chunks/vendor-react-dom-Bkb6jJ_S.js";import{ax as Me}from"../chunks/vendor-Vl2WtvH-.js";import{c as Oe}from"../chunks/vendor-zustand-BWsgwsXr.js";import{l as T}from"../chunks/mode-research-BclgCwOH.js";import{A as De,m as B}from"../chunks/vendor-framer-motion-DDE19Uim.js";import{invoke as N}from"@tauri-apps/api/core";import"../chunks/mode-manager.ts-DwguZmJt.js";import"../chunks/core-memory-DmK-uh9X.js";import"../chunks/vendor-utils-5Vdoy44w.js";import"../chunks/mode-docs-FcsoolLb.js";import"../chunks/vendor-pdf-ejcqEZLU.js";import"../chunks/vendor-mammoth-BPQIafDs.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();const ie={global:"https://api.co2signal.com/v1/latest?country="};let se=!1;async function Ne(r){const e=W("CARBON_DEFAULT_REGION")||"global",t=r??e,o=W("CARBON_API_URL")??ie.global,n=W("CARBON_API_TOKEN");if(!o)return{intensity:null,region:t};if(o===ie.global&&!n)return w()&&!se&&(se=!0,console.info("[battery] Skipping carbon intensity fetch: CARBON_API_TOKEN not configured.")),{intensity:null,region:t};try{const a=await fetch(`${o}${encodeURIComponent(t)}`,{headers:n?{Authorization:`Bearer ${n}`}:void 0});if(!a.ok)return{intensity:null,region:t};const c=await a.json(),h=c.data?.carbonIntensity??c.data?.intensity?.forecast??c.data?.intensity?.average;if(typeof h=="number"&&Number.isFinite(h))return{intensity:h,region:t}}catch(a){w()&&console.warn("[battery] Carbon intensity lookup failed",a)}return{intensity:null,region:t}}async function Fe(){if(!(typeof navigator>"u"||typeof navigator.getBattery!="function")&&$())try{const r=await navigator.getBattery();let e=0,t=null,o=null;const n=async(a=!1)=>{const c=Date.now();if(a||c-e>900*1e3){const{intensity:i,region:l}=await Ne(t);e=Date.now(),o=i??o,t=l??t}try{b.performance?.battery?.update&&await b.performance.battery.update({level:typeof r.level=="number"?r.level:null,charging:r.charging,chargingTime:Number.isFinite(r.chargingTime)?r.chargingTime:null,dischargingTime:Number.isFinite(r.dischargingTime)?r.dischargingTime:null,carbonIntensity:o,regionCode:t})}catch(i){w()&&console.warn("[battery] Failed to push battery update",i)}};n(!0),r.addEventListener("levelchange",()=>void n()),r.addEventListener("chargingchange",()=>void n(!0)),r.addEventListener("chargingtimechange",()=>void n()),r.addEventListener("dischargingtimechange",()=>void n())}catch(r){w()&&console.warn("[battery] Battery API unavailable",r)}}Fe();var $e=Object.defineProperty,Ve=(r,e,t)=>e in r?$e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R=(r,e,t)=>Ve(r,typeof e!="symbol"?e+"":e,t);class ze{constructor(){R(this,"listeners",new Map),R(this,"ipcListeners",new Map),R(this,"customEventHandlers",new Map),R(this,"registeredChannels",new Set),R(this,"ipcHandlers",new Map)}on(e,t){if(this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),window.ipc&&window.ipc.on){this.ipcListeners.has(e)||this.ipcListeners.set(e,new WeakSet);const n=this.ipcListeners.get(e);if(!this.registeredChannels.has(e)){this.registeredChannels.add(e);const a=(c,h)=>{const i=this.listeners.get(e);if(i){const l=h||c;i.forEach(d=>{try{d(l)}catch(f){console.error(`Error in IPC event handler for ${e}:`,f)}})}};window.ipc.on(e,a),this.ipcHandlers.set(e,a)}n.add(t)}this.customEventHandlers.has(e)||this.customEventHandlers.set(e,new WeakMap);const o=this.customEventHandlers.get(e);if(!o.has(t)){const n=a=>{try{t(a.detail)}catch(c){console.error(`Error in custom event handler for ${e}:`,c)}};o.set(t,n),window.addEventListener(e,n)}return()=>{this.listeners.get(e)?.delete(t);const n=this.customEventHandlers.get(e);if(n?.has(t)){const a=n.get(t);a&&window.removeEventListener(e,a)}}}emit(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}off(e,t){this.listeners.get(e)?.delete(t)}removeAllListeners(e){if(this.listeners.delete(e),this.ipcListeners.delete(e),this.customEventHandlers.delete(e),this.registeredChannels.delete(e),window.ipc&&window.ipc.removeListener){const t=this.ipcHandlers.get(e);t&&(window.ipc.removeListener(e,t),this.ipcHandlers.delete(e))}}}const p=new ze;if(typeof window<"u"){if(window.ipc&&window.ipc.on){const r=(n,a)=>{const c=Array.isArray(a)?a:Array.isArray(n)?n:[];p.emit("tabs:updated",c)},e=(n,a)=>{const c=a||n;p.emit("tabs:progress",c)},t=(n,a)=>{const c=a||n;p.emit("tabs:navigation-state",c)};window.ipc.on("tabs:updated",r),window.ipc.on("ob://ipc/v1/tabs:updated",r),window.ipc.on("tabs:progress",e),window.ipc.on("ob://ipc/v1/tabs:progress",e),window.ipc.on("tabs:navigation-state",t),window.ipc.on("ob://ipc/v1/tabs:navigation-state",t);const o=()=>{window.ipc&&window.ipc.removeListener&&(window.ipc.removeListener("tabs:updated",r),window.ipc.removeListener("ob://ipc/v1/tabs:updated",r),window.ipc.removeListener("tabs:progress",e),window.ipc.removeListener("ob://ipc/v1/tabs:progress",e),window.ipc.removeListener("tabs:navigation-state",t),window.ipc.removeListener("ob://ipc/v1/tabs:navigation-state",t))};if("onpagehide"in window&&window.addEventListener("pagehide",o),typeof document<"u"&&"visibilityState"in document){const n=()=>{};document.addEventListener("visibilitychange",n)}}if(window.addEventListener("shields:counters",(r=>{p.emit("shields:counters",r.detail)})),window.addEventListener("net:status",(r=>{p.emit("net:status",r.detail)})),window.addEventListener("downloads:started",(r=>{p.emit("downloads:started",r.detail)})),window.addEventListener("downloads:progress",(r=>{p.emit("downloads:progress",r.detail)})),window.addEventListener("downloads:done",(r=>{p.emit("downloads:done",r.detail)})),window.addEventListener("agent:plan",(r=>{p.emit("agent:plan",r.detail)})),window.addEventListener("agent:step",(r=>{p.emit("agent:step",r.detail)})),window.addEventListener("agent:log",(r=>{p.emit("agent:log",r.detail)})),window.addEventListener("agent:consent:request",(r=>{p.emit("agent:consent:request",r.detail)})),window.ipc&&window.ipc.on&&(window.ipc.on("agent:stream:chunk",(r,e)=>{p.emit("agent:stream:chunk",e)}),window.ipc.on("agent:stream:done",(r,e)=>{p.emit("agent:stream:done",e)}),window.ipc.on("agent:stream:error",(r,e)=>{p.emit("agent:stream:error",e)})),window.addEventListener("permissions:request",(r=>{p.emit("permissions:request",r.detail)})),window.addEventListener("app:fullscreen-changed",(r=>{p.emit("app:fullscreen-changed",r.detail)})),window.addEventListener("games:sandbox:warning",(r=>{p.emit("games:sandbox:warning",r.detail)})),window.ipc&&window.ipc.on){const r=o=>{p.emit("app:fullscreen-changed",o)};window.ipc.on("app:fullscreen-changed",r);const e=(o,n)=>{p.emit("games:sandbox:warning",n)};window.ipc.on("games:sandbox:warning",e);const t=()=>{window.ipc&&window.ipc.removeListener&&(window.ipc.removeListener("app:fullscreen-changed",r),window.ipc.removeListener("games:sandbox:warning",e))};"onpagehide"in window&&window.addEventListener("pagehide",t,{once:!0})}}const dr=Object.freeze(Object.defineProperty({__proto__:null,ipcEvents:p},Symbol.toStringTag,{value:"Module"}));var qe=Object.defineProperty,We=(r,e,t)=>e in r?qe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,U=(r,e,t)=>We(r,typeof e!="symbol"?e+"":e,t);class Be extends Me{constructor(){super("ResearchCache"),U(this,"documents"),U(this,"chunks"),U(this,"embeddings"),this.version(1).stores({documents:"id, type, uploadedAt, url, title",chunks:"id, documentId, chunkIndex, [documentId+chunkIndex], cachedAt",embeddings:"chunkId, documentId, cachedAt"})}}const Z=new Be;async function Ue(r){try{await Z.documents.put({...r,metadata:r.metadata||{}})}catch(e){console.error("[Research Cache] Failed to cache document:",e)}}async function He(r){try{const e=r.map(t=>({...t,contentLower:t.content.toLowerCase(),cachedAt:Date.now()}));await Z.chunks.bulkPut(e)}catch(e){console.error("[Research Cache] Failed to cache chunks:",e)}}async function ur(r,e=20){try{const o=r.toLowerCase().split(/\s+/).filter(c=>c.length>2);return o.length===0?[]:(await Z.chunks.toArray()).map(c=>{let h=0;for(const i of o){const l=(c.contentLower.match(new RegExp(i,"g"))||[]).length;h+=l}return{chunk:c,score:h}}).filter(c=>c.score>0).sort((c,h)=>h.score-c.score).slice(0,e).map(c=>c.chunk)}catch(t){return console.error("[Research Cache] Failed to search chunks:",t),[]}}async function ae(){try{const{ipc:r}=await u(async()=>{const{ipc:t}=await import("../chunks/core-ai-yFIunLTZ.js").then(o=>o.U);return{ipc:t}},__vite__mapDeps([0,1,2,3,4,5,6])),{documents:e}=await r.research.listDocuments();for(const t of e){await Ue({id:t.id,type:t.type,title:t.title,uploadedAt:t.uploadedAt,chunkCount:t.chunkCount,size:0});const{chunks:o}=await r.research.getDocumentChunks(t.id);o.length>0&&await He(o.map((n,a)=>({id:n.id||`${t.id}-chunk-${a}`,documentId:t.id,content:n.content,chunkIndex:n.chunkIndex??a,startChar:n.startChar??0,endChar:n.endChar??n.content.length,metadata:n.metadata||{}})))}}catch(r){console.error("[Research Cache] Failed to sync from backend:",r)}}function Qe(){p.on("research:capture-from-context-menu",async r=>{try{const{activeId:e}=A.getState();if(e){const t=await b.research.capturePage(e);console.log("[Research Clipper] Page captured:",t.snapshotId),setTimeout(async()=>{try{await ae()}catch(o){console.error("Failed to sync after capture:",o)}},2e3)}}catch(e){console.error("[Research Clipper] Failed to capture from context menu:",e)}}),p.on("research:capture-selection-from-context",async r=>{try{const{activeId:e}=A.getState(),t=await b.research.captureSelection(r.text?r.text:void 0,e??void 0);console.log("[Research Clipper] Selection captured:",t.clipId)}catch(e){console.error("[Research Clipper] Failed to capture selection:",e)}}),p.on("research:keyboard-capture",async()=>{try{const{activeId:r}=A.getState();if(r){const e=await b.research.capturePage(r);console.log("[Research Clipper] Page captured via keyboard:",e.snapshotId),setTimeout(async()=>{try{await ae()}catch(t){console.error("Failed to sync after capture:",t)}},2e3)}}catch(r){console.error("[Research Clipper] Failed to capture via keyboard:",r)}}),p.on("research:keyboard-open-pane",()=>{console.log("[Research Clipper] Open Research Pane requested")})}async function Ke(){}async function Ge(){}async function Je(){if(!(!$()&&!O()))try{(await b.telemetry.getStatus()).optIn?await Ke():await Ge()}catch{}}let ee=!1;async function Ye(r){await b.analytics.setOptIn(r),ee=r}async function X(){if(!$())return;const r=await b.analytics.getStatus();ee=r.enabled&&r.optIn}function be(r,e){ee&&b.analytics.track(r,e)}function ve(r){be("page_view",{path:r,title:document.title})}const Xe=Object.freeze(Object.defineProperty({__proto__:null,applyAnalyticsOptIn:Ye,syncAnalyticsOptIn:X,trackAnalyticsEvent:be,trackPageView:ve},Symbol.toStringTag,{value:"Module"})),_e="regen:theme-preference",V=typeof window<"u",z=()=>!V||typeof window.matchMedia!="function"||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",te=r=>{if(typeof document>"u")return;const e=r==="system"?z():r;document.documentElement.dataset.theme=e,document.documentElement.setAttribute("data-theme-resolved",e)},F=(()=>{if(!V)return"system";const r=window.localStorage.getItem(_e);return r==="light"||r==="dark"||r==="system"?r:"system"})(),Ze=F==="system"?z():F;typeof document<"u"&&te(F);const x=Oe((r,e)=>({preference:F,resolved:Ze,setPreference:t=>{V&&window.localStorage.setItem(_e,t),te(t);const o=t==="system"?z():t;r({preference:t,resolved:o})},cyclePreference:()=>{const t=["system","light","dark"],o=e().preference,n=t[(t.indexOf(o)+1)%t.length];e().setPreference(n)}}));if(V&&typeof window.matchMedia=="function"){const r=window.matchMedia("(prefers-color-scheme: dark)"),e=()=>{const{preference:t}=x.getState();if(t==="system"){te("system");const o=z();x.setState({resolved:o})}};try{r.addEventListener("change",e)}catch{r.addListener(e)}}function et({children:r}){const e=x(o=>o.resolved),t=m.useCallback(()=>{if(typeof document>"u")return;const o=window.innerWidth;let n="1rem";o>=1440?n="2.25rem":o>=1024?n="1.75rem":o>=640&&(n="1.25rem"),document.documentElement.style.setProperty("--layout-page-padding",n)},[]);return m.useLayoutEffect(()=>(t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)),[t]),m.useLayoutEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[e]),s.jsx(s.Fragment,{children:r})}function hr(){const r=x(n=>n.preference),e=x(n=>n.resolved),t=x(n=>n.setPreference),o=x(n=>n.cyclePreference);return{preference:r,resolved:e,setPreference:t,cyclePreference:o}}const ce=["default-src * 'unsafe-inline' 'unsafe-eval' 'unsafe-hashes' data: blob: javascript:;","base-uri *;","img-src * data: blob:;","font-src * data:;","style-src * 'unsafe-inline' 'unsafe-hashes';","script-src * 'unsafe-inline' 'unsafe-eval' 'unsafe-hashes' javascript:;","connect-src * wss: ws:;","frame-src *;","media-src * data: blob:;","object-src *;","form-action * javascript:;","worker-src * blob:;","manifest-src *;"].join(" "),pr="allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-pointer-lock allow-top-navigation allow-top-navigation-by-user-activation allow-downloads allow-modals allow-presentation allow-orientation-lock allow-pointer-lock allow-storage-access-by-user-activation",tt=[/Tracking Prevention blocked/i,/blocked access to storage/i,/Tracking Prevention/i,/Tracking Prevention blocked access to storage for/i,/Tracking Prevention blocked access to storage for <URL>/i,/violates the following Content Security Policy directive/i,/Content Security Policy directive/i,/was blocked due to Content Security Policy/i,/javascript:.*violates.*Content Security Policy/i,/Running the JavaScript URL violates/i,/Content Security Policy directive 'script-src'/i,/CSP directive/i,/script-src.*strict-dynamic/i,/Content Security Policy blocks inline execution/i,/blocks inline execution of scripts and stylesheets/i,/Either the 'unsafe-inline' keyword/i,/a hash \('sha256-\.\.\.'\)/i,/or a nonce \('nonce-\.\.\.'\) is required/i,/'unsafe-hashes' keyword is present/i,/was blocked due to CSP/i,/frame-ancestors.*ignored.*meta element/i,/The Content Security Policy directive 'frame-ancestors' is ignored when delivered via a <meta> element/i,/Unrecognized Content-Security-Policy directive/i,/navigate-to.*is an invalid/i,/An iframe which has both allow-scripts and allow-same-origin for its sandbox attribute can escape its sandboxing/i,/An iframe which has both allow-scripts and allow-same-origin/i,/iframe which has both allow-scripts and allow-same-origin/i,/iframe.*has.*both.*allow-scripts.*allow-same-origin/i,/allow-scripts.*allow-same-origin.*sandbox/i,/sandbox.*allow-scripts.*allow-same-origin/i,/iframe.*sandbox.*escape/i,/sandbox.*can escape/i,/can escape.*sandboxing/i,/escape.*sandboxing/i,/sandbox.*escape/i,/iframe.*allow-scripts.*allow-same-origin/i,/allow-scripts.*allow-same-origin/i,/Error while parsing the 'sandbox' attribute/i,/allow-storage-access.*is an invalid sandbox flag/i,/403.*Forbidden/i,/GET.*bing.*403/i,/POST.*bing.*403/i,/\.bing\.com.*403/i,/Forbidden.*bing/i,/bing\.com.*403/i,/Failed to load resource.*403/i,/the server responded with a status of 403/i,/the server responded with a status of 404/i,/missing Origin header/i,/Uncaught.*missing Origin header/i,/Uncaught \(in promise\) missing Origin header/i,/401.*Unauthorized.*meili/i,/MeiliSearch.*Error/i,/\[MeiliSearch\].*Error/i,/\[MeiliIndexer\].*Failed/i,/missing_authorization_header/i,/Authorization header is missing/i,/GET.*\/indexes.*401/i,/POST.*\/indexes.*401/i,/MeiliSearch.*401/i,/Tab not found.*local-/i,/Tab not found.*system-/i,/\[TABS\].*Tab not found/i,/form field element should have an id or name attribute/i,/form field.*id or name/i,/A form field element should have an id or name attribute/i,/Quirks Mode/i,/Page layout may be unexpected due to Quirks Mode/i,/unexpected due to Quirks Mode/i];let le,de,ue,he=!1;function _(r){if(!r)return!1;let e="";return typeof r=="string"?e=r:r?.message?e=String(r.message):r?.error?e=String(r.error):Array.isArray(r)?e=r.map(t=>String(t)).join(" "):typeof r=="object"?e=JSON.stringify(r):e=String(r),tt.some(t=>{try{return t.test(e)}catch{return!1}})}function rt(){if(he)return;he=!0,le=console.warn,console.warn=(...n)=>{n.some(c=>_(c))||_(n.join(" "))||le.apply(console,n)},de=console.error,console.error=(...n)=>{n.some(c=>_(c))||_(n.join(" "))||de.apply(console,n)},ue=console.log,console.log=(...n)=>{n.some(c=>_(c))||_(n.join(" "))||ue.apply(console,n)};const r=n=>{const a=n.message||n.filename||"",c=`${a} ${n.filename||""} ${n.lineno||""}`;return _(c)||_(a)?(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),!1):!0};window.addEventListener("error",r,!0);const e=console.warn,t=console.error;new Proxy(console,{get(n,a){return a==="warn"?function(...c){!c.some(h=>_(h))&&!_(c.join(" "))&&e.apply(n,c)}:a==="error"?function(...c){!c.some(h=>_(h))&&!_(c.join(" "))&&t.apply(n,c)}:n[a]}});const o=n=>{const a=n.reason?.message||String(n.reason||"");if(_(a)){n.preventDefault();return}};window.addEventListener("unhandledrejection",o)}function nt(r){const e=document.documentElement;if(r){e.setAttribute("data-performance-mode","true");const t=document.createElement("style");t.id="performance-mode-styles",t.textContent=`
      [data-performance-mode="true"] *,
      [data-performance-mode="true"] *::before,
      [data-performance-mode="true"] *::after {
        animation-duration: 0.01ms !important;
        animation-delay: 0.01ms !important;
        transition-duration: 0.01ms !important;
        transition-delay: 0.01ms !important;
        scroll-behavior: auto !important;
      }
      
      [data-performance-mode="true"] iframe {
        will-change: auto !important;
      }
    `,document.head.appendChild(t),"serviceWorker"in navigator&&console.log("[PerformanceMode] Performance optimizations enabled")}else{e.removeAttribute("data-performance-mode");const t=document.getElementById("performance-mode-styles");t&&t.remove()}}function ot(){const r=Se(),e=x(o=>o.preference),t=x(o=>o.setPreference);return m.useEffect(()=>{const o=r.appearance.theme;(o==="system"||o==="light"||o==="dark")&&e!==o&&t(o)},[r.appearance.theme,e,t]),m.useEffect(()=>{const o=r.appearance.compactUI;nt(o)},[r.appearance.compactUI]),null}function pe(r){if(r instanceof Error){const e=r.message.toLowerCase();return e.includes("network")||e.includes("fetch")||e.includes("connection")?"Connection failed. Please check your internet connection and try again.":e.includes("timeout")?"Request timed out. The server may be slow or unavailable. Please try again.":e.includes("quota")||e.includes("storage")?"Storage is full. Please free up some space and try again.":e.includes("permission")||e.includes("denied")?"Permission denied. Please check your browser settings.":e.includes("search")||e.includes("meilisearch")?"Search is temporarily unavailable. Using local search instead.":e.includes("agent")||e.includes("automation")?"Automation failed. Please check your automation script and try again.":`Something went wrong: ${r.message}. Please try again or contact support if the problem persists.`}return typeof r=="string"?r:"An unexpected error occurred. Please try again."}let me=0;const it=3,st=6e4,C=[];function at(r,e){const t=Date.now();for(C.push(t);C.length>0&&t-C[0]>st;)C.shift();me=C.length,console.error("[ErrorRecovery] Crash recorded:",r,e),me>=it&&k.error("Multiple crashes detected. The app may be unstable. Consider restarting.",{duration:1e4}),ct(r)}function ct(r,e){try{typeof window<"u"&&window.caches&&caches.keys().then(t=>{t.forEach(o=>caches.delete(o))})}catch{}if(r.message.includes("QuotaExceeded")||r.message.includes("storage"))try{localStorage.clear(),console.log("[ErrorRecovery] Cleared localStorage due to storage error")}catch{}(r.message.includes("ChunkLoadError")||r.message.includes("Loading chunk"))&&setTimeout(()=>{confirm("A critical error occurred. Reload the app?")&&window.location.reload()},1e3)}var lt=Object.defineProperty,dt=(r,e,t)=>e in r?lt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,L=(r,e,t)=>dt(r,typeof e!="symbol"?e+"":e,t);class ut{constructor(){L(this,"performanceMetrics",[]),L(this,"featureUsage",new Map),L(this,"errorMetrics",new Map),L(this,"userFlows",[])}trackPerformance(e,t,o="ms",n){const a={name:e,value:t,unit:o,timestamp:Date.now(),metadata:n};this.performanceMetrics.push(a),this.performanceMetrics.length>100&&this.performanceMetrics.shift();try{b.telemetry?.trackPerf?.(e,Math.round(t))}catch{}console.log(`[Telemetry] ${e}: ${t}${o}`)}trackFeature(e,t){const o=this.featureUsage.get(e),n={feature:e,count:(o?.count||0)+1,lastUsed:Date.now(),metadata:t};this.featureUsage.set(e,n);try{u(()=>Promise.resolve().then(()=>Xe),void 0).then(a=>{a.trackAnalyticsEvent&&a.trackAnalyticsEvent("feature_used",{feature:e,...t})})}catch{}}trackError(e,t){const o=this.errorMetrics.get(e),n={error:e,count:(o?.count||0)+1,firstSeen:o?.firstSeen||Date.now(),lastSeen:Date.now(),context:t};this.errorMetrics.set(e,n),typeof window<"u"&&window.Sentry&&window.Sentry.captureException(new Error(e),{contexts:{custom:t}})}startFlow(e){const t=`flow-${Date.now()}-${Math.random().toString(36).slice(2)}`;return this.userFlows.push({flow:e,startTime:Date.now()}),t}endFlow(e){const t=this.userFlows.find(o=>o.flow===e);if(t){t.endTime=Date.now();const o=t.endTime-t.startTime;this.trackPerformance(`flow_${t.flow}`,o,"ms")}}getSummary(){return{performance:[...this.performanceMetrics],features:Array.from(this.featureUsage.values()),errors:Array.from(this.errorMetrics.values()),flows:this.userFlows.filter(e=>e.endTime).map(e=>({flow:e.flow,duration:(e.endTime||0)-e.startTime}))}}clear(){this.performanceMetrics=[],this.featureUsage.clear(),this.errorMetrics.clear(),this.userFlows=[]}}const xe=new ut,H=Object.freeze(Object.defineProperty({__proto__:null,telemetryMetrics:xe},Symbol.toStringTag,{value:"Module"}));var ht=Object.defineProperty,pt=(r,e,t)=>e in r?ht(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,j=(r,e,t)=>pt(r,typeof e!="symbol"?e+"":e,t);const E=3;class mt extends m.Component{constructor(e){super(e),j(this,"retryTimeoutId",null),j(this,"handleRetry",()=>{const{retryCount:t}=this.state,{retryable:o=!0}=this.props;if(!o||t>=E){k.warning("Maximum retry attempts reached. Please reload the app.");return}T.info(`Retrying after error (attempt ${t+1}/${E})`),this.setState(n=>({hasError:!1,error:null,errorInfo:null,retryCount:n.retryCount+1})),k.info(`Retrying... (${t+1}/${E})`)}),j(this,"handleReload",()=>{window.location.reload()}),j(this,"handleCopyError",async()=>{const{error:t,errorInfo:o}=this.state;if(!t)return;const n=`
Error Report
============
Component: ${this.props.componentName||"Unknown"}
Time: ${new Date().toISOString()}
Retry Count: ${this.state.retryCount}

Error Message:
${t.message}

Stack Trace:
${t.stack||"No stack trace available"}

Component Stack:
${o?.componentStack||"No component stack available"}
    `.trim();try{await navigator.clipboard.writeText(n),this.setState({copyStatus:"success"}),k.success("Error details copied to clipboard"),setTimeout(()=>this.setState({copyStatus:"idle"}),2e3)}catch(a){this.setState({copyStatus:"error"}),k.error("Failed to copy error details"),T.error("Failed to copy error details",a)}}),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,copyStatus:"idle"}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){const{componentName:o,level:n="component",onError:a}=this.props;T.error(`ErrorBoundary [${n}]${o?` in ${o}`:""}:`,e.message,t.componentStack),at(e,{componentName:o,level:n,componentStack:t.componentStack}),xe.trackError(e.message,{componentName:o,level:n}),this.setState({error:e,errorInfo:t});const c=pe(e);if(k.error(`${o||"Component"} error: ${c}. ${this.props.retryable?"Retrying...":"Check console for details."}`),a&&a(e,t),typeof window<"u"&&window.Sentry)try{window.Sentry.captureException(e,{contexts:{react:{componentStack:t.componentStack}},tags:{component:o||"unknown",level:n||"component"}})}catch(h){console.warn("Failed to send error to Sentry:",h)}}componentWillUnmount(){this.retryTimeoutId&&clearTimeout(this.retryTimeoutId)}render(){if(this.state.hasError){const{fallback:e,componentName:t,retryable:o=!0}=this.props,{error:n,retryCount:a}=this.state;if(e)return e;const c=o&&a<E;return s.jsx("div",{className:"flex min-h-screen w-full items-center justify-center bg-slate-950 px-6 py-12 text-gray-100",children:s.jsxs("div",{className:"w-full max-w-xl space-y-5 rounded-2xl border border-slate-800 bg-slate-900/70 p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"rounded-full bg-red-500/20 p-2 text-red-200",children:s.jsx(Pe,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"text-lg font-semibold text-red-200",children:["Something went wrong",t?` in ${t}`:""]}),n&&s.jsx("p",{className:"mt-2 text-sm text-red-100/80 font-mono",children:pe(n)}),s.jsx("p",{className:"mt-2 text-sm text-gray-400",children:c?"The app will attempt to recover automatically. You can also retry manually or reload.":"Please reload the app to continue. Error details have been logged."})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[c&&s.jsxs("button",{onClick:this.handleRetry,className:"flex items-center gap-2 rounded-lg border border-blue-500/50 bg-blue-500/10 px-4 py-2 text-sm font-medium text-blue-100 hover:border-blue-500/70 transition-colors",children:[s.jsx(ke,{size:16}),"Retry (",a+1,"/",E,")"]}),s.jsx("button",{onClick:this.handleReload,className:"rounded-lg border border-blue-500/50 bg-blue-500/10 px-4 py-2 text-sm font-medium text-blue-100 hover:border-blue-500/70 transition-colors",children:"Reload App"}),s.jsx("button",{onClick:this.handleCopyError,className:`flex items-center gap-2 rounded-lg border px-4 py-2 text-sm font-medium transition-colors ${this.state.copyStatus==="success"?"border-emerald-500/50 bg-emerald-500/10 text-emerald-100":this.state.copyStatus==="error"?"border-red-500/50 bg-red-500/10 text-red-100":"border-slate-700/50 bg-slate-800/50 text-gray-300 hover:border-slate-600/50"}`,children:this.state.copyStatus==="success"?s.jsxs(s.Fragment,{children:[s.jsx(ge,{size:16}),"Copied"]}):s.jsxs(s.Fragment,{children:[s.jsx(Te,{size:16}),"Copy Error"]})})]}),a>=E&&s.jsxs("div",{className:"rounded-lg border border-amber-500/30 bg-amber-500/10 p-3 text-sm text-amber-100",children:[s.jsx("p",{className:"font-medium",children:"Maximum retries reached"}),s.jsx("p",{className:"mt-1 text-xs text-amber-200/80",children:"Please reload the app. If the error persists, check the console for details."})]})]})})}return this.props.children}}function ft({children:r}){return s.jsx(mt,{level:"global",componentName:"App",retryable:!0,children:r})}const wt="regen_snapshot",gt=2,fe=3e4;let Q=null;function yt(){const r=A.getState(),e=D.getState(),t=Ee.getState();return{tabs:r.tabs,activeTabId:r.activeId,mode:e.mode,agentState:{runId:t.runId,status:t.status,transcript:t.transcript,events:t.events.slice(-100),lastGoal:t.lastGoal},timestamp:Date.now(),version:gt}}function we(r){try{const e=r||yt();localStorage.setItem(wt,JSON.stringify(e)),T.debug("Session snapshot saved",{tabCount:e.tabs.length,timestamp:e.timestamp})}catch(e){T.error("Failed to save snapshot",e)}}function bt(){Q&&clearInterval(Q),we(),Q=setInterval(()=>{we()},fe),T.info("Session snapshotting started",{interval:fe})}const P=[{id:"welcome",title:"Welcome to RegenBrowser!",description:"Your AI-powered browser with voice commands, research, and trading. Let's get started!",icon:s.jsx(re,{className:"w-6 h-6"})},{id:"omni-ai",title:"AI Omni Mode",description:"Press Ctrl+Shift+O or click the AI button to access 6 AI modes: Search, Code, Research, Writing, Translate, and Image.",icon:s.jsx(re,{className:"w-6 h-6"}),action:()=>{const r=new KeyboardEvent("keydown",{key:"o",ctrlKey:!0,shiftKey:!0});window.dispatchEvent(r)}},{id:"research",title:"Research Mode",description:"Switch to Research mode for AI-powered web research with real-time citations and summaries.",icon:s.jsx(Ie,{className:"w-6 h-6"}),action:()=>{D.getState().setMode("Research")}},{id:"voice",title:"Voice Commands",description:"Click the microphone button or press Ctrl+Space to use voice commands in Hindi or English.",icon:s.jsx(ne,{className:"w-6 h-6"})},{id:"trade",title:"Trade Mode",description:"Switch to Trade mode for AI-powered trading signals and real-time market analysis.",icon:s.jsx(oe,{className:"w-6 h-6"}),action:()=>{D.getState().setMode("Trade")}},{id:"trade",title:"Trade Mode",description:"Access Trade mode for real-time market data, charts, and AI-powered trading signals.",icon:s.jsx(oe,{className:"w-6 h-6"}),action:()=>{D.getState().setMode("Trade")}},{id:"voice",title:"Voice Commands",description:'Press Ctrl+Space to activate WISPR voice assistant. Say "Hey WISPR, research BTC" to get started!',icon:s.jsx(ne,{className:"w-6 h-6"})},{id:"complete",title:"You're all set!",description:"Start exploring RegenBrowser. You can always access this tour from Settings.",icon:s.jsx(ge,{className:"w-6 h-6"})}];function vt(){const[r,e]=m.useState(0),[t,o]=m.useState(!1);m.useEffect(()=>{localStorage.getItem("regen:has-seen-tour")==="true"||setTimeout(()=>{o(!0)},2e3)},[]);const n=()=>{if(r<P.length-1){const d=P[r];if(d.action)try{d.action()}catch(f){console.warn("[Tour] Action failed:",f)}e(r+1)}else c()},a=()=>{c()},c=()=>{localStorage.setItem("regen:has-seen-tour","true"),o(!1)};if(!t)return null;const h=P[r],i=r===P.length-1,l=(r+1)/P.length*100;return s.jsx(De,{children:t&&s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:a,children:s.jsxs(B.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:d=>d.stopPropagation(),className:"relative w-full max-w-md mx-4 bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden",children:[s.jsx("div",{className:"h-1 bg-slate-800",children:s.jsx(B.div,{className:"h-full bg-emerald-500",initial:{width:0},animate:{width:`${l}%`},transition:{duration:.3}})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg text-emerald-400",children:h.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:h.title}),s.jsxs("p",{className:"text-xs text-slate-400",children:["Step ",r+1," of ",P.length]})]})]}),s.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-white transition-colors",children:s.jsx(Re,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-slate-300 mb-6 leading-relaxed",children:h.description}),s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("button",{onClick:a,className:"px-4 py-2 text-sm text-slate-400 hover:text-white transition-colors",children:"Skip Tour"}),s.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors",children:[i?"Get Started":"Next",!i&&s.jsx(Ce,{className:"w-4 h-4"})]})]})]})]})})})}var _t=Object.defineProperty,xt=(r,e,t)=>e in r?_t(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,I=(r,e,t)=>xt(r,typeof e!="symbol"?e+"":e,t);class St{constructor(e=1e3){I(this,"capacity"),I(this,"cache"),I(this,"head"),I(this,"tail"),I(this,"diskCache"),this.capacity=e,this.cache=new Map,this.diskCache=new Map,this.head={key:"",value:{},prev:null,next:null},this.tail={key:"",value:{},prev:null,next:null},this.head.next=this.tail,this.tail.prev=this.head}async get(e){const t=this.cache.get(e);if(t)return this.moveToFront(t),t.value.accessCount++,t.value.lastAccessed=Date.now(),t.value;const o=this.diskCache.get(e);if(o)try{const n=await N("read_file",{path:o}),a=new TextDecoder().decode(new Uint8Array(n)),c=JSON.parse(a);return this.put(e,c),c}catch(n){console.warn("[LRUCache] Failed to load from disk:",e,n),this.diskCache.delete(e)}return null}async put(e,t){if(this.cache.has(e)){const n=this.cache.get(e);n.value=t,this.moveToFront(n);return}if(this.cache.size>=this.capacity){const n=this.tail.prev;this.removeNode(n),this.cache.delete(n.key),await this.saveToDisk(n.key,n.value)}const o={key:e,value:t,prev:null,next:null};this.addToFront(o),this.cache.set(e,o)}async saveToDisk(e,t){try{const o=await N("get_app_data_path",{subpath:`embed_cache/${e}.json`}),n=JSON.stringify(t),a=new TextEncoder().encode(n);await N("write_file",{path:o,contents:Array.from(a)}),this.diskCache.set(e,o)}catch(o){console.warn("[LRUCache] Failed to save to disk:",e,o)}}moveToFront(e){this.removeNode(e),this.addToFront(e)}addToFront(e){e.prev=this.head,e.next=this.head.next,this.head.next.prev=e,this.head.next=e}removeNode(e){e.prev.next=e.next,e.next.prev=e.prev}clear(){this.cache.clear(),this.diskCache.clear(),this.head.next=this.tail,this.tail.prev=this.head}getStats(){let e=0;return this.cache.forEach(t=>{e+=t.value.accessCount}),{size:this.cache.size,capacity:this.capacity,hitRate:this.cache.size>0?e/this.cache.size:0,memorySize:this.cache.size,diskSize:this.diskCache.size}}async preload(e){for(const t of e)this.cache.has(t)||await this.get(t)}}let K=null;function q(r){return K||(K=new St(r)),K}async function mr(r,e="nomic-embed-text:4bit"){const t=q(),n=new TextEncoder().encode(`${r}:${e}`),a=await crypto.subtle.digest("SHA-256",n),h=Array.from(new Uint8Array(a)).map(i=>i.toString(16).padStart(2,"0")).join("");return t.get(h)}async function Et(r,e,t="nomic-embed-text:4bit"){const o=q(),a=new TextEncoder().encode(`${r}:${t}`),c=await crypto.subtle.digest("SHA-256",a),i=Array.from(new Uint8Array(c)).map(d=>d.toString(16).padStart(2,"0")).join(""),l={text:r,vector:e,model:t,timestamp:Date.now(),hash:i,accessCount:1,lastAccessed:Date.now()};await o.put(i,l)}var Pt=Object.defineProperty,kt=(r,e,t)=>e in r?Pt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,M=(r,e,t)=>kt(r,typeof e!="symbol"?e+"":e,t);class Tt{constructor(){M(this,"recentQueries",[]),M(this,"maxRecentQueries",50),M(this,"prefetchQueue",new Set),M(this,"isPrefetching",!1)}recordQuery(e){this.recentQueries.push(e),this.recentQueries.length>this.maxRecentQueries&&this.recentQueries.shift(),this.schedulePrefetch(e)}predictNextQueries(e){const t=[];if(this.recentQueries.length>0){const c=this.recentQueries[this.recentQueries.length-1].split(" ");if(c.length>1){const h=c.slice(0,-1).join(" ");t.push({query:h,confidence:.7,reason:"Recent query continuation"})}}return this.findRelatedQueries(e?.currentUrl||"").forEach(a=>{t.push({query:a,confidence:.5,reason:"Related to current context"})}),this.getTimeBasedQueries(e?.timeOfDay).forEach(a=>{t.push({query:a,confidence:.3,reason:"Time-based pattern"})}),t.sort((a,c)=>c.confidence-a.confidence).slice(0,5)}async prefetchQueries(e){if(!this.isPrefetching){this.isPrefetching=!0;try{const t=q(),o=[];for(const n of e){const c=new TextEncoder().encode(`${n}:nomic-embed-text:4bit`),h=await crypto.subtle.digest("SHA-256",c),l=Array.from(new Uint8Array(h)).map(f=>f.toString(16).padStart(2,"0")).join("");await t.get(l)||o.push(n)}for(const n of o.slice(0,3))this.prefetchQueue.has(n)||(this.prefetchQueue.add(n),this.prefetchEmbedding(n).finally(()=>{this.prefetchQueue.delete(n)}))}finally{this.isPrefetching=!1}}}async prefetchEmbedding(e){try{const{isTauriRuntime:t}=await u(async()=>{const{isTauriRuntime:n}=await import("../chunks/core-ai-yFIunLTZ.js").then(a=>a.N);return{isTauriRuntime:n}},__vite__mapDeps([0,1,2,3,4,5,6]));if(!t())return;const o=await N("embed_text",{text:e,model:"nomic-embed-text:4bit"});await Et(e,o,"nomic-embed-text:4bit"),console.log("[Prefetcher] Prefetched embedding for:",e)}catch(t){if(t?.message?.includes("Tauri API not available"))return;t?.message&&!t.message.includes("Tauri")&&console.warn("[Prefetcher] Failed to prefetch:",e,t)}}schedulePrefetch(e){"requestIdleCallback"in window?requestIdleCallback(()=>{const t=this.predictNextQueries();this.prefetchQueries(t.map(o=>o.query))}):setTimeout(()=>{const t=this.predictNextQueries();this.prefetchQueries(t.map(o=>o.query))},2e3)}findRelatedQueries(e){const t=[],o=e.toLowerCase().split(/[^a-z0-9]+/).filter(Boolean);for(const n of this.recentQueries.slice(-10))n.toLowerCase().split(/\s+/).filter(h=>o.includes(h)).length>0&&!t.includes(n)&&t.push(n);return t.slice(0,3)}getTimeBasedQueries(e){const t=e||new Date().getHours(),o=[];return t>=6&&t<12?o.push("news today","weather forecast","stock market"):t>=12&&t<18?o.push("productivity tools","meeting notes","project management"):o.push("entertainment","research topics","learning resources"),o}getStats(){return{recentQueries:this.recentQueries.length,queuedPrefetches:this.prefetchQueue.size,isPrefetching:this.isPrefetching}}}let G=null;function Rt(){return G||(G=new Tt),G}function Ct(){const r=Rt();setInterval(()=>{const e=A.getState(),t=e.tabs.find(o=>o.id===e.activeId);if(t?.url){const o=r.predictNextQueries({currentUrl:t.url,currentTab:t.id,timeOfDay:new Date().getHours()});o.length>0&&r.prefetchQueries(o.map(n=>n.query))}},3e4),console.log("[Prefetcher] Initialized")}var It=Object.defineProperty,At=(r,e,t)=>e in r?It(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J=(r,e,t)=>At(r,typeof e!="symbol"?e+"":e,t);class Lt{constructor(){J(this,"worker",null),J(this,"pendingRequests",new Map),J(this,"requestId",0)}async initialize(){if(!this.worker){try{this.worker=new Worker(new URL("/assets/vectorWorker-UUx-mBKW.js",import.meta.url),{type:"module"})}catch(e){console.warn("[VectorWorker] Failed to create worker from URL, using inline fallback",e);const t=`
        // Inline worker code (fallback)
        self.onmessage = async (event) => {
          const { type, payload, id } = event.data;
          try {
            if (type === 'search') {
              const { queryVector, vectors, k = 5 } = payload;
              const results = vectors.map(v => ({
                id: v.id,
                score: cosineSimilarity(queryVector, v.vector),
                metadata: v.metadata,
              })).sort((a, b) => b.score - a.score).slice(0, k);
              self.postMessage({ type: 'search_result', id, results });
            }
          } catch (error) {
            self.postMessage({ type: 'error', id, error: error.message });
          }
        };
        function cosineSimilarity(a, b) {
          if (a.length !== b.length) return 0;
          let dot = 0, normA = 0, normB = 0;
          for (let i = 0; i < a.length; i++) {
            dot += a[i] * b[i];
            normA += a[i] * a[i];
            normB += b[i] * b[i];
          }
          return dot / (Math.sqrt(normA) * Math.sqrt(normB));
        }
      `,o=new Blob([t],{type:"application/javascript"});this.worker=new Worker(URL.createObjectURL(o))}this.worker.onmessage=e=>{const{type:t,id:o,results:n,vector:a,similarity:c,error:h}=e.data,i=this.pendingRequests.get(o);if(!i){console.warn("[VectorWorker] No pending request for id:",o);return}if(this.pendingRequests.delete(o),h){i.reject(new Error(h));return}switch(t){case"search_result":i.resolve(n);break;case"normalize_result":i.resolve(a);break;case"batch_search_result":i.resolve(n);break;case"similarity_result":i.resolve(c);break;default:i.reject(new Error(`Unknown response type: ${t}`))}},this.worker.onerror=e=>{console.error("[VectorWorker] Worker error:",e),this.pendingRequests.forEach(({reject:t})=>{t(new Error("Worker error"))}),this.pendingRequests.clear()},console.log("[VectorWorker] Initialized")}}async search(e,t,o=5){await this.ensureWorker();const n=`search_${this.requestId++}`;return new Promise((a,c)=>{this.pendingRequests.set(n,{resolve:a,reject:c}),this.worker.postMessage({type:"search",id:n,payload:{queryVector:e,vectors:t,k:o}}),setTimeout(()=>{this.pendingRequests.has(n)&&(this.pendingRequests.delete(n),c(new Error("Vector search timeout")))},1e4)})}async normalize(e){await this.ensureWorker();const t=`normalize_${this.requestId++}`;return new Promise((o,n)=>{this.pendingRequests.set(t,{resolve:o,reject:n}),this.worker.postMessage({type:"normalize",id:t,payload:{vector:e}}),setTimeout(()=>{this.pendingRequests.has(t)&&(this.pendingRequests.delete(t),n(new Error("Normalize timeout")))},5e3)})}async batchSearch(e,t,o=5){await this.ensureWorker();const n=`batch_${this.requestId++}`;return new Promise((a,c)=>{this.pendingRequests.set(n,{resolve:a,reject:c}),this.worker.postMessage({type:"batch_search",id:n,payload:{queryVectors:e,vectors:t,k:o}}),setTimeout(()=>{this.pendingRequests.has(n)&&(this.pendingRequests.delete(n),c(new Error("Batch search timeout")))},3e4)})}async computeSimilarity(e,t){await this.ensureWorker();const o=`similarity_${this.requestId++}`;return new Promise((n,a)=>{this.pendingRequests.set(o,{resolve:n,reject:a}),this.worker.postMessage({type:"compute_similarity",id:o,payload:{vector1:e,vector2:t}}),setTimeout(()=>{this.pendingRequests.has(o)&&(this.pendingRequests.delete(o),a(new Error("Similarity computation timeout")))},5e3)})}async ensureWorker(){this.worker||await this.initialize()}terminate(){this.worker&&(this.worker.terminate(),this.worker=null,this.pendingRequests.clear(),console.log("[VectorWorker] Terminated"))}}let Y=null;function jt(){return Y||(Y=new Lt),Y}w()&&u(()=>import("../chunks/testOmniDesk-DHhGI0Mq.js"),[]).catch(()=>{});const v=(r,e)=>ye.lazy(()=>r().catch(t=>(console.error(`Failed to load ${e}:`,t),{default:()=>s.jsx("div",{className:"flex h-full w-full items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mb-2 text-lg font-semibold text-red-400",children:["Failed to load ",e]}),s.jsx("div",{className:"text-sm text-gray-400",children:String(t)}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:"Reload Page"})]})})}))),Mt=v(()=>u(()=>import("../chunks/AppShell-CJtR0Pw4.js").then(r=>r.A),__vite__mapDeps([7,0,1,2,3,4,5,6,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])).then(r=>({default:r.AppShell})),"AppShell"),Ot=v(()=>u(()=>import("../chunks/Home-l_WNGaND.js"),__vite__mapDeps([24,0,1,2,3,4,5,6,11,9,12,13,14,15,16])),"Home"),Dt=v(()=>u(()=>import("../chunks/Settings-DqH3fooY.js"),__vite__mapDeps([25,2,3,4,0,1,5,6,13,12,14,15,16,9,22,26,27,17,18,19,28])),"Settings"),Nt=v(()=>u(()=>import("../chunks/Workspace-C0xs19MI.js"),__vite__mapDeps([29,2,3,4,0,1,5,6])),"Workspace"),Ft=v(()=>u(()=>import("../chunks/AgentConsole-Crl6GhHY.js"),__vite__mapDeps([30,0,1,2,3,4,5,6,13,12,14,15,16,9])),"AgentConsole"),$t=v(()=>u(()=>import("../chunks/Runs-t798C8nQ.js"),__vite__mapDeps([31,2,3,4,0,1,5,6])),"Runs"),Vt=v(()=>u(()=>import("../chunks/Replay-CsX37nwI.js"),__vite__mapDeps([32,2,3,4,0,1,5,6])),"Replay"),zt=v(()=>u(()=>import("../chunks/PlaybookForge-BZ4gBW8J.js"),__vite__mapDeps([33,2,3,4,0,1,5,6,34])),"PlaybookForge"),qt=v(()=>u(()=>import("../chunks/History-kg0LrAO3.js").then(r=>r.a),__vite__mapDeps([8,2,3,4,0,1,5,6,9])),"HistoryPage"),Wt=v(()=>u(()=>import("../chunks/Downloads-CU-ngJEB.js").then(r=>r.a),__vite__mapDeps([10,2,3,4,0,1,5,6,9])),"DownloadsPage"),Bt=v(()=>u(()=>import("../chunks/DocumentEditor-D--hkoBG.js"),__vite__mapDeps([35,2,3,4,0,1,5,6])),"DocumentEditorPage"),Ut=v(()=>u(()=>import("../chunks/Watchers-D9YXaUTw.js"),__vite__mapDeps([36,2,3,4,0,1,5,6,9,13,12,14,15,16])),"WatchersPage"),Ht=v(()=>u(()=>import("../chunks/Video-DUSaFHTc.js"),__vite__mapDeps([37,2,3,4,0,1,5,6])),"VideoPage"),Qt=v(()=>u(()=>import("../chunks/ConsentTimeline-7BgCPkqX.js"),__vite__mapDeps([38,2,3,4,0,1,5,6,23,9,12])),"ConsentTimelinePage"),Kt=()=>{if(typeof document>"u")return;const r=document.querySelector('meta[http-equiv="Content-Security-Policy"]');if(r)r.content=ce;else{const e=document.createElement("meta");e.httpEquiv="Content-Security-Policy",e.content=ce,document.head.prepend(e)}};Kt();rt();function g(){return s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",backgroundColor:"#1A1D28",color:"#94a3b8",fontFamily:"system-ui, sans-serif",position:"fixed",top:0,left:0,zIndex:1e3},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"üåê"}),s.jsx("div",{style:{fontSize:"14px"},children:"Loading..."})]})})}const Gt=Ae([{path:"/",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(Mt,{})}),children:[{index:!0,element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(Ot,{})})},{path:"settings",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(Dt,{})})},{path:"w/:id",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(Nt,{})})},{path:"agent",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(Ft,{})})},{path:"runs",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx($t,{})})},{path:"replay/:id",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(Vt,{})})},{path:"playbooks",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(zt,{})})},{path:"history",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(qt,{})})},{path:"downloads",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(Wt,{})})},{path:"watchers",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(Ut,{})})},{path:"video",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(Ht,{})})},{path:"consent-timeline",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(Qt,{})})},{path:"doc-editor",element:s.jsx(m.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(Bt,{})})}]}],{future:{v7_startTransition:!0}}),y=document.getElementById("root");if(!y)throw document.body.innerHTML=`
    <div style="padding: 40px; color: white; background-color: #1A1D28; min-height: 100vh; font-family: system-ui, sans-serif;">
      <h1 style="color: #ef4444;">‚ùå Critical Error</h1>
      <p style="color: #94a3b8; margin-top: 16px;">Root element (#root) not found in the DOM.</p>
      <p style="color: #94a3b8; margin-top: 8px;">Please check that index.html contains &lt;div id="root"&gt;&lt;/div&gt;</p>
    </div>
  `,new Error("Root element not found");y.style.display="block";y.style.visibility="visible";y.style.opacity="1";y.hasAttribute("data-initialized")||(y.setAttribute("data-initialized","true"),w()&&console.log("[Main] Root element initialized:",y));try{w()&&(console.log("%cüöÄ Mounting Regen...","color:#34d399;font-weight:bold;"),console.log("[Main] Root element:",y),console.log("[Main] Document ready state:",document.readyState));const r="__OMNIBROWSER_REACT_ROOT__",e=window[r];e&&w()&&console.log("[Main] Reusing existing React root");const t=e||je.createRoot(y);Qe(),u(async()=>{const{track:i}=await import("../chunks/mode-research-BclgCwOH.js").then(l=>l.h);return{track:i}},__vite__mapDeps([13,0,1,2,3,4,5,6,12,14,15,16,9])).then(({track:i})=>{i("app_open")}),u(async()=>{const{crashReporter:i}=await import("../chunks/crash-reporting-Dtoe4cFC.js");return{crashReporter:i}},__vite__mapDeps([26,13,0,1,2,3,4,5,6,12,14,15,16,9,27])).then(({crashReporter:i})=>{i.initialize()}).catch(()=>{w()&&console.warn("[Main] Crash reporter not available")}),$()&&(window.addEventListener("ollama-progress",(i=>{w()&&console.log(`[Ollama] Setup progress: ${i.detail}%`)})),window.addEventListener("ai-ready",()=>{w()&&console.log("[Ollama] AI ready!"),u(async()=>{const{toast:i}=await import("../chunks/core-ai-yFIunLTZ.js").then(l=>l.P);return{toast:i}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({toast:i})=>{i.success("AI brain ready! Press Ctrl+Space for WISPR.")})}),window.addEventListener("backend-ready",()=>{w()&&console.log("[Backend] All services ready!"),u(async()=>{const{toast:i}=await import("../chunks/core-ai-yFIunLTZ.js").then(l=>l.P);return{toast:i}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({toast:i})=>{i.success("Backend ready! Ollama, MeiliSearch, and n8n are running."),Promise.all([u(async()=>{const{initMeiliIndexing:l}=await import("../chunks/meiliIndexer-C-Al5lgE.js");return{initMeiliIndexing:l}},__vite__mapDeps([39,13,0,1,2,3,4,5,6,12,14,15,16,9])).then(({initMeiliIndexing:l})=>l().catch(()=>{})),u(async()=>{const{setupMeiliIndexes:l}=await import("../chunks/meili-setup-DMuaSvqB.js");return{setupMeiliIndexes:l}},__vite__mapDeps([40,13,0,1,2,3,4,5,6,12,14,15,16,9])).then(({setupMeiliIndexes:l})=>l().catch(console.error)),u(async()=>{const{verifySearchSystem:l,startSearchHealthMonitoring:d}=await import("../chunks/mode-research-BclgCwOH.js").then(f=>f.j);return{verifySearchSystem:l,startSearchHealthMonitoring:d}},__vite__mapDeps([13,0,1,2,3,4,5,6,12,14,15,16,9])).then(({verifySearchSystem:l,startSearchHealthMonitoring:d})=>l().then(f=>(f.success?(console.log(`[Search] ${f.message}`),d(3e4)):console.warn(`[Search] ${f.message}`),f)))]).then(()=>{console.log("[Search] Search system initialization complete")}),u(()=>import("../chunks/mode-research-BclgCwOH.js").then(l=>l.k),__vite__mapDeps([13,0,1,2,3,4,5,6,12,14,15,16,9])).then(()=>{console.log("[Search] Search services initialized")}).catch(console.error),u(()=>import("../chunks/mode-research-BclgCwOH.js").then(l=>l.n),__vite__mapDeps([13,0,1,2,3,4,5,6,12,14,15,16,9])).then(()=>{console.log("[Search] Live web search initialized")}).catch(console.error)})}),window.addEventListener("ollama-ready",()=>{w()&&console.log("[Ollama] Ready!")}),window.addEventListener("wispr-wake",()=>{console.log("[Main] WISPR wake triggered via global hotkey"),window.dispatchEvent(new CustomEvent("activate-wispr"))}),window.addEventListener("research-metrics",(i=>{console.log("[Research] Metrics updated:",i.detail)})),window.addEventListener("research-start",(i=>{console.log("[Research] Started:",i.detail)})),window.addEventListener("research-end",(i=>{console.log("[Research] Completed:",i.detail)})),window.addEventListener("iframe-call",(i=>{try{const l=typeof i.detail=="string"?JSON.parse(i.detail):i.detail,d=l.fn,f=l.args||{};b&&typeof b[d]=="function"&&b[d](f).catch(S=>{console.warn("[Iframe] Invoke failed:",S)})}catch{console.warn("[Iframe] Invalid iframe-call payload")}})),window.addEventListener("ollama-missing",()=>{u(async()=>{const{toast:i}=await import("../chunks/core-ai-yFIunLTZ.js").then(l=>l.P);return{toast:i}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({toast:i})=>{i.warning("Ollama not detected. Install from ollama.com for offline AI features.")})}),window.addEventListener("request-localhost-access",(i=>{localStorage.getItem("localhost-access-prompted")||u(async()=>{const{toast:d}=await import("../chunks/core-ai-yFIunLTZ.js").then(f=>f.P);return{toast:d}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({toast:d})=>{d.info("RegenBrowser needs localhost access for offline AI. This is safe and local-only.",{duration:8e3}),localStorage.setItem("localhost-access-prompted","true")})}))),O()&&u(async()=>{const{preconnectOllama:i}=await import("../chunks/preconnect-uPwzlOZM.js");return{preconnectOllama:i}},[]).then(({preconnectOllama:i})=>{setTimeout(()=>{i().catch(()=>{})},1e3)}).catch(()=>{}),setTimeout(()=>{Promise.resolve().catch(i=>{console.error("[Main] Critical path initialization failed:",i)})},500);const o=()=>{"requestIdleCallback"in window?requestIdleCallback(()=>{n()},{timeout:3e3}):setTimeout(n,500)},n=async()=>{setTimeout(async()=>{try{const i=await u(()=>import("../chunks/auth-Cg8cvnkf.js"),__vite__mapDeps([27,13,0,1,2,3,4,5,6,12,14,15,16,9])).catch(()=>null);i?.authService&&(await i.authService.initialize(),i.authService.getState().isAuthenticated&&setTimeout(async()=>{try{const l=await u(()=>import("../chunks/sync-C-mJ7UTb.js"),__vite__mapDeps([41,27,13,0,1,2,3,4,5,6,12,14,15,16,9,19,18])).catch(()=>null);l?.syncService&&await l.syncService.startAutoSync()}catch{}},1e3))}catch{}},2e3),setTimeout(async()=>{try{const i=await u(()=>import("../chunks/registry-CG5fPtjR.js"),__vite__mapDeps([22,13,0,1,2,3,4,5,6,12,14,15,16,9])).catch(()=>null);i?.pluginRegistry&&i.pluginRegistry.restorePluginState()}catch{}},3e3),setTimeout(()=>{if(X().catch(()=>{}),O())try{typeof window<"u"&&window.__TAURI__&&Promise.resolve().then(()=>u(()=>import("../chunks/tauri-api-stub-CwaEJLay.js"),[])).then(i=>{i&&typeof i.check=="function"&&i.check().catch(()=>{})}).catch(i=>{})}catch{}},5e3)},a=performance.now(),c={domContentLoaded:0,load:0,firstPaint:0,firstContentfulPaint:0,timeToInteractive:0};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{c.domContentLoaded=performance.now()-a,console.log(`[Perf] DOMContentLoaded: ${c.domContentLoaded.toFixed(2)}ms`)}):c.domContentLoaded=performance.now()-a,window.addEventListener("load",()=>{if(c.load=performance.now()-a,console.log(`[Perf] Load: ${c.load.toFixed(2)}ms`),"PerformanceObserver"in window)try{new PerformanceObserver(l=>{for(const d of l.getEntries())d.name==="first-paint"&&(c.firstPaint=d.startTime,console.log(`[Perf] First Paint: ${c.firstPaint.toFixed(2)}ms`)),d.name==="first-contentful-paint"&&(c.firstContentfulPaint=d.startTime,console.log(`[Perf] First Contentful Paint: ${c.firstContentfulPaint.toFixed(2)}ms`))}).observe({entryTypes:["paint"]})}catch{console.warn("[Perf] Paint observer not supported")}setTimeout(()=>{c.timeToInteractive=performance.now()-a,console.log(`[Perf] Time to Interactive: ${c.timeToInteractive.toFixed(2)}ms`),typeof window<"u"&&window.Sentry&&(window.Sentry.setMeasurement("startup_time",c.load),window.Sentry.setMeasurement("first_paint",c.firstPaint),window.Sentry.setMeasurement("time_to_interactive",c.timeToInteractive)),c.firstPaint>3e3&&console.warn(`[Perf] Slow startup: First Paint took ${c.firstPaint.toFixed(2)}ms (target: <3000ms)`)},100)}),u(async()=>{const{initPerformanceMonitoring:i}=await import("../chunks/performance-ChLDEW8-.js");return{initPerformanceMonitoring:i}},[]).then(({initPerformanceMonitoring:i})=>{i()}).catch(()=>{}),u(async()=>{const{telemetryMetrics:i}=await Promise.resolve().then(()=>H);return{telemetryMetrics:i}},void 0).then(({telemetryMetrics:i})=>{const l=performance.now();i.trackPerformance("app_startup",l,"ms"),i.trackFeature("app_launched"),console.log("[Telemetry] Metrics tracking initialized")}).catch(()=>{}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(i=>{console.log("[SW] Service Worker registered:",i.scope)}).catch(i=>{console.warn("[SW] Service Worker registration failed:",i)})}),u(async()=>{const{visibilityManager:i}=await import("../chunks/visibilityManager-9BlGHrQJ.js");return{visibilityManager:i}},[]).then(({visibilityManager:i})=>{i.onHidden(()=>{console.log("[Visibility] Tab hidden - pausing heavy tasks")})}).catch(()=>{}),window.addEventListener("error",i=>{console.error("[Global Error]",i.error),typeof window<"u"&&window.Sentry&&window.Sentry.captureException(i.error,{tags:{source:"unhandled-error"}})}),window.addEventListener("unhandledrejection",i=>{console.error("[Unhandled Rejection]",i.reason),typeof window<"u"&&window.Sentry&&window.Sentry.captureException(i.reason,{tags:{source:"unhandled-rejection"}}),i.preventDefault()}),"performance"in window&&"memory"in performance&&setInterval(()=>{const l=performance.memory;if(l){const d=l.usedJSHeapSize/1048576,f=l.jsHeapSizeLimit/1048576,S=d/f*100;S>85&&(console.warn(`[Memory] High usage: ${S.toFixed(1)}% (${d.toFixed(0)}MB / ${f.toFixed(0)}MB)`),typeof window<"u"&&window.Sentry&&window.Sentry.captureMessage(`High memory usage: ${S.toFixed(1)}%`,window.Sentry.Severity.Warning)),S>95&&(console.error(`[Memory] CRITICAL: ${S.toFixed(1)}% - OOM risk!`),typeof window<"u"&&window.Sentry&&window.Sentry.captureMessage(`Critical memory usage: ${S.toFixed(1)}% - OOM risk`,window.Sentry.Severity.Error))}},3e4);const h=()=>{Je().catch(i=>{}),X().then(()=>{ve(window.location.pathname)}).catch(i=>{}),Promise.all([u(()=>import("../chunks/crash-reporting-Dtoe4cFC.js"),__vite__mapDeps([26,13,0,1,2,3,4,5,6,12,14,15,16,9,27])).catch(()=>null),u(()=>import("../chunks/auth-Cg8cvnkf.js"),__vite__mapDeps([27,13,0,1,2,3,4,5,6,12,14,15,16,9])).catch(()=>null),u(()=>import("../chunks/sync-C-mJ7UTb.js"),__vite__mapDeps([41,27,13,0,1,2,3,4,5,6,12,14,15,16,9,19,18])).catch(()=>null),u(()=>import("../chunks/registry-CG5fPtjR.js"),__vite__mapDeps([22,13,0,1,2,3,4,5,6,12,14,15,16,9])).catch(()=>null)]).then(([i,l,d,f])=>{w()&&console.log("[Startup] Heavy services loaded (deferred)")}),q(1e3),jt().initialize().catch(i=>{console.warn("[Startup] Vector worker initialization failed:",i)}),Ct(),O()&&setTimeout(()=>{u(async()=>{const{initializeTabSync:i}=await import("../chunks/tabSyncService-lTHTJeOg.js");return{initializeTabSync:i}},__vite__mapDeps([42,4,2,3,0,1,5,6])).then(({initializeTabSync:i})=>{const l=`session-${Date.now()}`;i(l,"ws://127.0.0.1:18080/yjs").catch(d=>{console.warn("[Startup] Tab sync initialization failed:",d)})}).catch(()=>{})},2e3)};if(document.readyState==="complete"?requestIdleCallback?requestIdleCallback(h):setTimeout(h,100):window.addEventListener("load",()=>{requestIdleCallback?requestIdleCallback(h):setTimeout(h,100)},{once:!0}),o(),typeof performance<"u"&&performance.now){const i=Math.round(performance.now());b.telemetry?.trackPerf?.("renderer_boot_ms",i)}e||(window[r]=t),setTimeout(()=>{bt()},1e3),y&&(y.style.display="block",y.style.visibility="visible",y.style.opacity="1"),window.addEventListener("unhandledrejection",i=>{const l=i.reason;if(console.error("[Main] Unhandled promise rejection:",l),typeof window<"u"&&window.Sentry){try{window.Sentry.captureException(l,{tags:{error_type:"unhandled_rejection"}})}catch(d){console.warn("[Sentry] Failed to capture unhandled rejection:",d)}u(async()=>{const{telemetryMetrics:d}=await Promise.resolve().then(()=>H);return{telemetryMetrics:d}},void 0).then(({telemetryMetrics:d})=>{d.trackError(String(reason),{type:"unhandled_rejection"})}).catch(()=>{})}i.preventDefault(),w()&&console.error("[Main] Promise rejection details:",{reason:i.reason,promise:i.promise})}),window.addEventListener("error",i=>{const l=i.error||new Error(i.message);if(console.error("[Main] Uncaught error:",l),typeof window<"u"&&window.Sentry){try{window.Sentry.captureException(l,{tags:{error_type:"uncaught_error"},contexts:{error:{message:i.message,filename:i.filename,lineno:i.lineno,colno:i.colno}}})}catch(d){console.warn("[Sentry] Failed to capture uncaught error:",d)}u(async()=>{const{telemetryMetrics:d}=await Promise.resolve().then(()=>H);return{telemetryMetrics:d}},void 0).then(({telemetryMetrics:d})=>{d.trackError(l.message,{type:"uncaught_error",stack:l.stack})}).catch(()=>{})}w()&&console.error("[Main] Error details:",{message:i.message,filename:i.filename,lineno:i.lineno,colno:i.colno,error:i.error})}),w()&&console.log("[Main] Rendering React app..."),t.render(s.jsx(ye.StrictMode,{children:s.jsx(et,{children:s.jsxs(ft,{children:[s.jsx(ot,{}),s.jsxs(m.Suspense,{fallback:s.jsx(g,{}),children:[s.jsx(Le,{router:Gt,future:{v7_startTransition:!0}}),s.jsx(vt,{})]})]})})})),w()&&console.log("%c‚úÖ Regen mounted successfully","color:#60a5fa;font-weight:bold;")}catch(r){console.error("‚ùå Failed to mount application:",r),y&&(y.innerHTML=`
      <div style="padding: 40px; color: white; background-color: #1A1D28; min-height: 100vh; font-family: system-ui, sans-serif;">
        <div style="max-width: 800px; margin: 0 auto;">
          <h1 style="color: #ef4444; font-size: 32px; margin-bottom: 16px;">‚ùå Failed to Load Application</h1>
          <p style="color: #94a3b8; margin-bottom: 24px; font-size: 16px;">
            The application failed to initialize. This is usually caused by a JavaScript error.
          </p>
          <div style="background-color: #0f172a; border-radius: 8px; padding: 20px; margin-bottom: 24px; border: 1px solid #1e293b;">
            <pre style="color: #f1f5f9; white-space: pre-wrap; font-size: 14px; overflow: auto; max-height: 400px;">${String(r)}</pre>
          </div>
          <div style="display: flex; gap: 12px;">
            <button onclick="window.location.reload()" style="padding: 12px 24px; background-color: #3b82f6; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: 500;">
              üîÑ Reload Application
            </button>
            <button onclick="console.clear(); location.reload();" style="padding: 12px 24px; background-color: #475569; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 16px;">
              Clear & Reload
            </button>
          </div>
          <div style="margin-top: 32px; padding-top: 24px; border-top: 1px solid #1e293b;">
            <p style="color: #64748b; font-size: 14px; margin-bottom: 8px;">Troubleshooting:</p>
            <ul style="color: #64748b; font-size: 14px; padding-left: 24px; line-height: 1.8;">
              <li>Open Developer Tools (F12) to see detailed error messages</li>
              <li>Check the Console tab for JavaScript errors</li>
              <li>Ensure all dependencies are installed: <code style="background: #0f172a; padding: 2px 6px; border-radius: 4px;">npm install</code></li>
              <li>Try clearing browser cache and reloading</li>
            </ul>
          </div>
        </div>
      </div>
    `)}export{mt as E,pr as S,ae as a,ur as b,yt as c,nt as d,mr as e,Et as f,Rt as g,dr as h,p as i,bt as s,H as t,hr as u};
//# sourceMappingURL=index-D9cF9G1U.js.map
