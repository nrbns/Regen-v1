{"version":3,"file":"meili-setup-DMuaSvqB.js","sources":["../../src/lib/meili-setup.ts"],"sourcesContent":["// MeiliSearch Index Setup - Run once to create indexes\r\n// This is called automatically when backend is ready\r\n\r\nimport { ensureIndex } from './meili';\r\n\r\nconst INDEXES = [\r\n  { name: 'tabs', primaryKey: 'id' },\r\n  { name: 'notes', primaryKey: 'id' },\r\n  { name: 'research', primaryKey: 'id' },\r\n  { name: 'charts', primaryKey: 'id' },\r\n];\r\n\r\n/**\r\n * Setup MeiliSearch indexes (creates if they don't exist)\r\n */\r\nexport async function setupMeiliIndexes(): Promise<void> {\r\n  try {\r\n    console.log('[MeiliSetup] Creating indexes...');\r\n\r\n    for (const index of INDEXES) {\r\n      try {\r\n        await ensureIndex(index.name, index.primaryKey);\r\n        console.log(`[MeiliSetup] âœ“ Index \"${index.name}\" ready`);\r\n      } catch (error) {\r\n        console.error(`[MeiliSetup] Failed to create index \"${index.name}\":`, error);\r\n      }\r\n    }\r\n\r\n    console.log('[MeiliSetup] All indexes ready!');\r\n  } catch (error) {\r\n    console.error('[MeiliSetup] Setup failed:', error);\r\n  }\r\n}\r\n\r\n// Auto-setup when module loads (if MeiliSearch is available)\r\nif (typeof window !== 'undefined') {\r\n  // Wait for backend to be ready\r\n  window.addEventListener('backend-ready', () => {\r\n    setTimeout(() => {\r\n      setupMeiliIndexes().catch(console.error);\r\n    }, 2000);\r\n  });\r\n}\r\n"],"names":["INDEXES","setupMeiliIndexes","index","ensureIndex","error"],"mappings":"sdAKA,MAAMA,EAAU,CACd,CAAE,KAAM,OAAQ,WAAY,IAAA,EAC5B,CAAE,KAAM,QAAS,WAAY,IAAA,EAC7B,CAAE,KAAM,WAAY,WAAY,IAAA,EAChC,CAAE,KAAM,SAAU,WAAY,IAAA,CAChC,EAKA,eAAsBC,GAAmC,CACvD,GAAI,CACF,QAAQ,IAAI,kCAAkC,EAE9C,UAAWC,KAASF,EAClB,GAAI,CACF,MAAMG,EAAYD,EAAM,KAAMA,EAAM,UAAU,EAC9C,QAAQ,IAAI,yBAAyBA,EAAM,IAAI,SAAS,CAC1D,OAASE,EAAO,CACd,QAAQ,MAAM,wCAAwCF,EAAM,IAAI,KAAME,CAAK,CAC7E,CAGF,QAAQ,IAAI,iCAAiC,CAC/C,OAASA,EAAO,CACd,QAAQ,MAAM,6BAA8BA,CAAK,CACnD,CACF,CAGI,OAAO,OAAW,KAEpB,OAAO,iBAAiB,gBAAiB,IAAM,CAC7C,WAAW,IAAM,CACfH,IAAoB,MAAM,QAAQ,KAAK,CACzC,EAAG,GAAI,CACT,CAAC"}