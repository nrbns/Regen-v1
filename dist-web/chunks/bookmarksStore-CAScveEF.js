import{c as t,p as m}from"./vendor-zustand-BWsgwsXr.js";const n=t()(m((k,a)=>{const d=o=>({...o,id:`bookmark-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,createdAt:Date.now()});return{bookmarks:[],folders:[],add:o=>{const r=a().bookmarks.find(s=>s.url===o.url);if(r){a().update(r.id,o);return}const e=d(o);k(s=>({bookmarks:[...s.bookmarks,e]}))},remove:o=>k(r=>({bookmarks:r.bookmarks.filter(e=>e.id!==o)})),update:(o,r)=>k(e=>({bookmarks:e.bookmarks.map(s=>s.id===o?{...s,...r}:s)})),getByUrl:o=>a().bookmarks.find(r=>r.url===o),search:o=>{const r=o.toLowerCase();return a().bookmarks.filter(e=>e.title.toLowerCase().includes(r)||e.url.toLowerCase().includes(r)||e.tags?.some(s=>s.toLowerCase().includes(r))||e.description?.toLowerCase().includes(r))},clear:()=>k({bookmarks:[],folders:[]}),isBookmarked:o=>a().bookmarks.some(r=>r.url===o),addBookmark:o=>{a().add(o)},removeBookmark:o=>{a().remove(o)},updateBookmark:(o,r)=>{a().update(o,r)},getBookmarkByUrl:o=>a().getByUrl(o),searchBookmarks:o=>a().search(o),getBookmarksByFolder:o=>a().bookmarks.filter(r=>r.folder===o),addFolder:o=>{const r={id:`folder-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,name:o,createdAt:Date.now()};k(e=>({folders:[...e.folders,r]}))},removeFolder:o=>{k(r=>({folders:r.folders.filter(e=>e.id!==o),bookmarks:r.bookmarks.map(e=>e.folder===o?{...e,folder:void 0}:e)}))}}},{name:"regen_bookmarks_v1"}));export{n as u};
//# sourceMappingURL=bookmarksStore-CAScveEF.js.map
