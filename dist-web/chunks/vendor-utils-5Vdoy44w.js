import{Q as ye}from"./vendor-Vl2WtvH-.js";const Y=43200,re=1440,ie=Symbol.for("constructDateFrom");function te(o,c){return typeof o=="function"?o(c):o&&typeof o=="object"&&ie in o?o[ie](c):o instanceof Date?new o.constructor(c):new Date(c)}function M(o,c){return te(o,o)}let ge={};function ve(){return ge}function se(o){const c=M(o),t=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds()));return t.setUTCFullYear(c.getFullYear()),+o-+t}function ne(o,...c){const t=te.bind(null,o||c.find(e=>typeof e=="object"));return c.map(t)}function J(o,c){const t=+M(o)-+M(c);return t<0?-1:t>0?1:t}function xe(o){return te(o,Date.now())}function be(o,c,t){const[e,n]=ne(t?.in,o,c),r=e.getFullYear()-n.getFullYear(),s=e.getMonth()-n.getMonth();return r*12+s}function Se(o){return c=>{const e=(o?Math[o]:Math.trunc)(c);return e===0?0:e}}function we(o,c){return+M(o)-+M(c)}function Pe(o,c){const t=M(o);return t.setHours(23,59,59,999),t}function Qe(o,c){const t=M(o),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function Te(o,c){const t=M(o);return+Pe(t)==+Qe(t)}function ke(o,c,t){const[e,n,r]=ne(t?.in,o,o,c),s=J(n,r),i=Math.abs(be(n,r));if(i<1)return 0;n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=J(n,r)===-s;Te(e)&&i===1&&J(e,r)===1&&(a=!1);const u=s*(i-+a);return u===0?0:u}function Le(o,c,t){const e=we(o,c)/1e3;return Se(t?.roundingMethod)(e)}const Oe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ee=(o,c,t)=>{let e;const n=Oe[o];return typeof n=="string"?e=n:c===1?e=n.one:e=n.other.replace("{{count}}",c.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+e:e+" ago":e};function Z(o){return(c={})=>{const t=c.width?String(c.width):o.defaultWidth;return o.formats[t]||o.formats[o.defaultWidth]}}const Ie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Me={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_e={date:Z({formats:Ie,defaultWidth:"full"}),time:Z({formats:Fe,defaultWidth:"full"}),dateTime:Z({formats:Me,defaultWidth:"full"})},De={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Re=(o,c,t,e)=>De[o];function N(o){return(c,t)=>{const e=t?.context?String(t.context):"standalone";let n;if(e==="formatting"&&o.formattingValues){const s=o.defaultFormattingWidth||o.defaultWidth,i=t?.width?String(t.width):s;n=o.formattingValues[i]||o.formattingValues[s]}else{const s=o.defaultWidth,i=t?.width?String(t.width):o.defaultWidth;n=o.values[i]||o.values[s]}const r=o.argumentCallback?o.argumentCallback(c):c;return n[r]}}const Ce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},je={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},We={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ze=(o,c)=>{const t=Number(o),e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Be={ordinalNumber:ze,era:N({values:Ce,defaultWidth:"wide"}),quarter:N({values:je,defaultWidth:"wide",argumentCallback:o=>o-1}),month:N({values:Ae,defaultWidth:"wide"}),day:N({values:We,defaultWidth:"wide"}),dayPeriod:N({values:Ne,defaultWidth:"wide",formattingValues:Ve,defaultFormattingWidth:"wide"})};function V(o){return(c,t={})=>{const e=t.width,n=e&&o.matchPatterns[e]||o.matchPatterns[o.defaultMatchWidth],r=c.match(n);if(!r)return null;const s=r[0],i=e&&o.parsePatterns[e]||o.parsePatterns[o.defaultParseWidth],a=Array.isArray(i)?qe(i,l=>l.test(s)):$e(i,l=>l.test(s));let u;u=o.valueCallback?o.valueCallback(a):a,u=t.valueCallback?t.valueCallback(u):u;const f=c.slice(s.length);return{value:u,rest:f}}}function $e(o,c){for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&c(o[t]))return t}function qe(o,c){for(let t=0;t<o.length;t++)if(c(o[t]))return t}function Xe(o){return(c,t={})=>{const e=c.match(o.matchPattern);if(!e)return null;const n=e[0],r=c.match(o.parsePattern);if(!r)return null;let s=o.valueCallback?o.valueCallback(r[0]):r[0];s=t.valueCallback?t.valueCallback(s):s;const i=c.slice(n.length);return{value:s,rest:i}}}const Ue=/^(\d+)(th|st|nd|rd)?/i,Ye=/\d+/i,Je={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},He={any:[/^b/i,/^(a|c)/i]},Ge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ze={any:[/1/i,/2/i,/3/i,/4/i]},Ke={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},et={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},it={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},st={ordinalNumber:Xe({matchPattern:Ue,parsePattern:Ye,valueCallback:o=>parseInt(o,10)}),era:V({matchPatterns:Je,defaultMatchWidth:"wide",parsePatterns:He,defaultParseWidth:"any"}),quarter:V({matchPatterns:Ge,defaultMatchWidth:"wide",parsePatterns:Ze,defaultParseWidth:"any",valueCallback:o=>o+1}),month:V({matchPatterns:Ke,defaultMatchWidth:"wide",parsePatterns:et,defaultParseWidth:"any"}),day:V({matchPatterns:tt,defaultMatchWidth:"wide",parsePatterns:nt,defaultParseWidth:"any"}),dayPeriod:V({matchPatterns:rt,defaultMatchWidth:"any",parsePatterns:it,defaultParseWidth:"any"})},ot={code:"en-US",formatDistance:Ee,formatLong:_e,formatRelative:Re,localize:Be,match:st,options:{weekStartsOn:0,firstWeekContainsDate:1}};function at(o,c,t){const e=ve(),n=t?.locale??e.locale??ot,r=2520,s=J(o,c);if(isNaN(s))throw new RangeError("Invalid time value");const i=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:s}),[a,u]=ne(t?.in,...s>0?[c,o]:[o,c]),f=Le(u,a),l=(se(u)-se(a))/1e3,d=Math.round((f-l)/60);let y;if(d<2)return t?.includeSeconds?f<5?n.formatDistance("lessThanXSeconds",5,i):f<10?n.formatDistance("lessThanXSeconds",10,i):f<20?n.formatDistance("lessThanXSeconds",20,i):f<40?n.formatDistance("halfAMinute",0,i):f<60?n.formatDistance("lessThanXMinutes",1,i):n.formatDistance("xMinutes",1,i):d===0?n.formatDistance("lessThanXMinutes",1,i):n.formatDistance("xMinutes",d,i);if(d<45)return n.formatDistance("xMinutes",d,i);if(d<90)return n.formatDistance("aboutXHours",1,i);if(d<re){const m=Math.round(d/60);return n.formatDistance("aboutXHours",m,i)}else{if(d<r)return n.formatDistance("xDays",1,i);if(d<Y){const m=Math.round(d/re);return n.formatDistance("xDays",m,i)}else if(d<Y*2)return y=Math.round(d/Y),n.formatDistance("aboutXMonths",y,i)}if(y=ke(u,a),y<12){const m=Math.round(d/Y);return n.formatDistance("xMonths",m,i)}else{const m=y%12,w=Math.trunc(y/12);return m<3?n.formatDistance("aboutXYears",w,i):m<9?n.formatDistance("overXYears",w,i):n.formatDistance("almostXYears",w+1,i)}}function At(o,c){return at(o,xe(o),c)}var ut=typeof global=="object"&&global&&global.Object===Object&&global,ct=typeof self=="object"&&self&&self.Object===Object&&self,le=ut||ct||Function("return this")(),H=le.Symbol,fe=Object.prototype,lt=fe.hasOwnProperty,ft=fe.toString,z=H?H.toStringTag:void 0;function dt(o){var c=lt.call(o,z),t=o[z];try{o[z]=void 0;var e=!0}catch{}var n=ft.call(o);return e&&(c?o[z]=t:delete o[z]),n}var ht=Object.prototype,pt=ht.toString;function mt(o){return pt.call(o)}var yt="[object Null]",gt="[object Undefined]",oe=H?H.toStringTag:void 0;function vt(o){return o==null?o===void 0?gt:yt:oe&&oe in Object(o)?dt(o):mt(o)}function xt(o){return o!=null&&typeof o=="object"}var bt="[object Symbol]";function St(o){return typeof o=="symbol"||xt(o)&&vt(o)==bt}var wt=/\s/;function Pt(o){for(var c=o.length;c--&&wt.test(o.charAt(c)););return c}var Qt=/^\s+/;function Tt(o){return o&&o.slice(0,Pt(o)+1).replace(Qt,"")}function G(o){var c=typeof o;return o!=null&&(c=="object"||c=="function")}var ae=NaN,kt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,Ot=/^0o[0-7]+$/i,Et=parseInt;function ue(o){if(typeof o=="number")return o;if(St(o))return ae;if(G(o)){var c=typeof o.valueOf=="function"?o.valueOf():o;o=G(c)?c+"":c}if(typeof o!="string")return o===0?o:+o;o=Tt(o);var t=Lt.test(o);return t||Ot.test(o)?Et(o.slice(2),t?2:8):kt.test(o)?ae:+o}var K=function(){return le.Date.now()},It="Expected a function",Ft=Math.max,Mt=Math.min;function _t(o,c,t){var e,n,r,s,i,a,u=0,f=!1,l=!1,d=!0;if(typeof o!="function")throw new TypeError(It);c=ue(c)||0,G(t)&&(f=!!t.leading,l="maxWait"in t,r=l?Ft(ue(t.maxWait)||0,c):r,d="trailing"in t?!!t.trailing:d);function y(x){var L=e,I=n;return e=n=void 0,u=x,s=o.apply(I,L),s}function m(x){return u=x,i=setTimeout(P,c),f?y(x):s}function w(x){var L=x-a,I=x-u,F=c-L;return l?Mt(F,r-I):F}function b(x){var L=x-a,I=x-u;return a===void 0||L>=c||L<0||l&&I>=r}function P(){var x=K();if(b(x))return g(x);i=setTimeout(P,w(x))}function g(x){return i=void 0,d&&e?y(x):(e=n=void 0,s)}function v(){i!==void 0&&clearTimeout(i),u=0,e=a=n=i=void 0}function O(){return i===void 0?s:g(K())}function k(){var x=K(),L=b(x);if(e=arguments,n=this,a=x,L){if(i===void 0)return m(a);if(l)return clearTimeout(i),i=setTimeout(P,c),y(a)}return i===void 0&&(i=setTimeout(P,c)),s}return k.cancel=v,k.flush=O,k}var Dt="Expected a function";function Wt(o,c,t){var e=!0,n=!0;if(typeof o!="function")throw new TypeError(Dt);return G(t)&&(e="leading"in t?!0:e,n="trailing"in t?!0:n),_t(o,c,{leading:e,maxWait:c,trailing:n})}var ee={exports:{}};var ce;function Rt(){return ce||(ce=1,(function(o,c){(function(){var t=function(e){var n=new t.Builder;return n.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),n.searchPipeline.add(t.stemmer),e.call(n,n),n.build()};t.version="2.3.9";t.utils={},t.utils.warn=(function(e){return function(n){e.console&&console.warn&&console.warn(n)}})(this),t.utils.asString=function(e){return e==null?"":e.toString()},t.utils.clone=function(e){if(e==null)return e;for(var n=Object.create(null),r=Object.keys(e),s=0;s<r.length;s++){var i=r[s],a=e[i];if(Array.isArray(a)){n[i]=a.slice();continue}if(typeof a=="string"||typeof a=="number"||typeof a=="boolean"){n[i]=a;continue}throw new TypeError("clone is not deep and does not support nested objects")}return n},t.FieldRef=function(e,n,r){this.docRef=e,this.fieldName=n,this._stringValue=r},t.FieldRef.joiner="/",t.FieldRef.fromString=function(e){var n=e.indexOf(t.FieldRef.joiner);if(n===-1)throw"malformed field ref string";var r=e.slice(0,n),s=e.slice(n+1);return new t.FieldRef(s,r,e)},t.FieldRef.prototype.toString=function(){return this._stringValue==null&&(this._stringValue=this.fieldName+t.FieldRef.joiner+this.docRef),this._stringValue};t.Set=function(e){if(this.elements=Object.create(null),e){this.length=e.length;for(var n=0;n<this.length;n++)this.elements[e[n]]=!0}else this.length=0},t.Set.complete={intersect:function(e){return e},union:function(){return this},contains:function(){return!0}},t.Set.empty={intersect:function(){return this},union:function(e){return e},contains:function(){return!1}},t.Set.prototype.contains=function(e){return!!this.elements[e]},t.Set.prototype.intersect=function(e){var n,r,s,i=[];if(e===t.Set.complete)return this;if(e===t.Set.empty)return e;this.length<e.length?(n=this,r=e):(n=e,r=this),s=Object.keys(n.elements);for(var a=0;a<s.length;a++){var u=s[a];u in r.elements&&i.push(u)}return new t.Set(i)},t.Set.prototype.union=function(e){return e===t.Set.complete?t.Set.complete:e===t.Set.empty?this:new t.Set(Object.keys(this.elements).concat(Object.keys(e.elements)))},t.idf=function(e,n){var r=0;for(var s in e)s!="_index"&&(r+=Object.keys(e[s]).length);var i=(n-r+.5)/(r+.5);return Math.log(1+Math.abs(i))},t.Token=function(e,n){this.str=e||"",this.metadata=n||{}},t.Token.prototype.toString=function(){return this.str},t.Token.prototype.update=function(e){return this.str=e(this.str,this.metadata),this},t.Token.prototype.clone=function(e){return e=e||function(n){return n},new t.Token(e(this.str,this.metadata),this.metadata)};t.tokenizer=function(e,n){if(e==null||e==null)return[];if(Array.isArray(e))return e.map(function(y){return new t.Token(t.utils.asString(y).toLowerCase(),t.utils.clone(n))});for(var r=e.toString().toLowerCase(),s=r.length,i=[],a=0,u=0;a<=s;a++){var f=r.charAt(a),l=a-u;if(f.match(t.tokenizer.separator)||a==s){if(l>0){var d=t.utils.clone(n)||{};d.position=[u,l],d.index=i.length,i.push(new t.Token(r.slice(u,a),d))}u=a+1}}return i},t.tokenizer.separator=/[\s\-]+/;t.Pipeline=function(){this._stack=[]},t.Pipeline.registeredFunctions=Object.create(null),t.Pipeline.registerFunction=function(e,n){n in this.registeredFunctions&&t.utils.warn("Overwriting existing registered function: "+n),e.label=n,t.Pipeline.registeredFunctions[e.label]=e},t.Pipeline.warnIfFunctionNotRegistered=function(e){var n=e.label&&e.label in this.registeredFunctions;n||t.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,e)},t.Pipeline.load=function(e){var n=new t.Pipeline;return e.forEach(function(r){var s=t.Pipeline.registeredFunctions[r];if(s)n.add(s);else throw new Error("Cannot load unregistered function: "+r)}),n},t.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(n){t.Pipeline.warnIfFunctionNotRegistered(n),this._stack.push(n)},this)},t.Pipeline.prototype.after=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var r=this._stack.indexOf(e);if(r==-1)throw new Error("Cannot find existingFn");r=r+1,this._stack.splice(r,0,n)},t.Pipeline.prototype.before=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var r=this._stack.indexOf(e);if(r==-1)throw new Error("Cannot find existingFn");this._stack.splice(r,0,n)},t.Pipeline.prototype.remove=function(e){var n=this._stack.indexOf(e);n!=-1&&this._stack.splice(n,1)},t.Pipeline.prototype.run=function(e){for(var n=this._stack.length,r=0;r<n;r++){for(var s=this._stack[r],i=[],a=0;a<e.length;a++){var u=s(e[a],a,e);if(!(u==null||u===""))if(Array.isArray(u))for(var f=0;f<u.length;f++)i.push(u[f]);else i.push(u)}e=i}return e},t.Pipeline.prototype.runString=function(e,n){var r=new t.Token(e,n);return this.run([r]).map(function(s){return s.toString()})},t.Pipeline.prototype.reset=function(){this._stack=[]},t.Pipeline.prototype.toJSON=function(){return this._stack.map(function(e){return t.Pipeline.warnIfFunctionNotRegistered(e),e.label})};t.Vector=function(e){this._magnitude=0,this.elements=e||[]},t.Vector.prototype.positionForIndex=function(e){if(this.elements.length==0)return 0;for(var n=0,r=this.elements.length/2,s=r-n,i=Math.floor(s/2),a=this.elements[i*2];s>1&&(a<e&&(n=i),a>e&&(r=i),a!=e);)s=r-n,i=n+Math.floor(s/2),a=this.elements[i*2];if(a==e||a>e)return i*2;if(a<e)return(i+1)*2},t.Vector.prototype.insert=function(e,n){this.upsert(e,n,function(){throw"duplicate index"})},t.Vector.prototype.upsert=function(e,n,r){this._magnitude=0;var s=this.positionForIndex(e);this.elements[s]==e?this.elements[s+1]=r(this.elements[s+1],n):this.elements.splice(s,0,e,n)},t.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e=0,n=this.elements.length,r=1;r<n;r+=2){var s=this.elements[r];e+=s*s}return this._magnitude=Math.sqrt(e)},t.Vector.prototype.dot=function(e){for(var n=0,r=this.elements,s=e.elements,i=r.length,a=s.length,u=0,f=0,l=0,d=0;l<i&&d<a;)u=r[l],f=s[d],u<f?l+=2:u>f?d+=2:u==f&&(n+=r[l+1]*s[d+1],l+=2,d+=2);return n},t.Vector.prototype.similarity=function(e){return this.dot(e)/this.magnitude()||0},t.Vector.prototype.toArray=function(){for(var e=new Array(this.elements.length/2),n=1,r=0;n<this.elements.length;n+=2,r++)e[r]=this.elements[n];return e},t.Vector.prototype.toJSON=function(){return this.elements};t.stemmer=(function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},n={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},r="[^aeiou]",s="[aeiouy]",i=r+"[^aeiouy]*",a=s+"[aeiou]*",u="^("+i+")?"+a+i,f="^("+i+")?"+a+i+"("+a+")?$",l="^("+i+")?"+a+i+a+i,d="^("+i+")?"+s,y=new RegExp(u),m=new RegExp(l),w=new RegExp(f),b=new RegExp(d),P=/^(.+?)(ss|i)es$/,g=/^(.+?)([^s])s$/,v=/^(.+?)eed$/,O=/^(.+?)(ed|ing)$/,k=/.$/,x=/(at|bl|iz)$/,L=new RegExp("([^aeiouylsz])\\1$"),I=new RegExp("^"+i+s+"[^aeiouwxy]$"),F=/^(.+?[^aeiou])y$/,B=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,$=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,A=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,q=/^(.+?)(s|t)(ion)$/,_=/^(.+?)e$/,X=/ll$/,U=new RegExp("^"+i+s+"[^aeiouwxy]$"),W=function(h){var S,D,E,p,Q,R,j;if(h.length<3)return h;if(E=h.substr(0,1),E=="y"&&(h=E.toUpperCase()+h.substr(1)),p=P,Q=g,p.test(h)?h=h.replace(p,"$1$2"):Q.test(h)&&(h=h.replace(Q,"$1$2")),p=v,Q=O,p.test(h)){var T=p.exec(h);p=y,p.test(T[1])&&(p=k,h=h.replace(p,""))}else if(Q.test(h)){var T=Q.exec(h);S=T[1],Q=b,Q.test(S)&&(h=S,Q=x,R=L,j=I,Q.test(h)?h=h+"e":R.test(h)?(p=k,h=h.replace(p,"")):j.test(h)&&(h=h+"e"))}if(p=F,p.test(h)){var T=p.exec(h);S=T[1],h=S+"i"}if(p=B,p.test(h)){var T=p.exec(h);S=T[1],D=T[2],p=y,p.test(S)&&(h=S+e[D])}if(p=$,p.test(h)){var T=p.exec(h);S=T[1],D=T[2],p=y,p.test(S)&&(h=S+n[D])}if(p=A,Q=q,p.test(h)){var T=p.exec(h);S=T[1],p=m,p.test(S)&&(h=S)}else if(Q.test(h)){var T=Q.exec(h);S=T[1]+T[2],Q=m,Q.test(S)&&(h=S)}if(p=_,p.test(h)){var T=p.exec(h);S=T[1],p=m,Q=w,R=U,(p.test(S)||Q.test(S)&&!R.test(S))&&(h=S)}return p=X,Q=m,p.test(h)&&Q.test(h)&&(p=k,h=h.replace(p,"")),E=="y"&&(h=E.toLowerCase()+h.substr(1)),h};return function(C){return C.update(W)}})(),t.Pipeline.registerFunction(t.stemmer,"stemmer");t.generateStopWordFilter=function(e){var n=e.reduce(function(r,s){return r[s]=s,r},{});return function(r){if(r&&n[r.toString()]!==r.toString())return r}},t.stopWordFilter=t.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),t.Pipeline.registerFunction(t.stopWordFilter,"stopWordFilter");t.trimmer=function(e){return e.update(function(n){return n.replace(/^\W+/,"").replace(/\W+$/,"")})},t.Pipeline.registerFunction(t.trimmer,"trimmer");t.TokenSet=function(){this.final=!1,this.edges={},this.id=t.TokenSet._nextId,t.TokenSet._nextId+=1},t.TokenSet._nextId=1,t.TokenSet.fromArray=function(e){for(var n=new t.TokenSet.Builder,r=0,s=e.length;r<s;r++)n.insert(e[r]);return n.finish(),n.root},t.TokenSet.fromClause=function(e){return"editDistance"in e?t.TokenSet.fromFuzzyString(e.term,e.editDistance):t.TokenSet.fromString(e.term)},t.TokenSet.fromFuzzyString=function(e,n){for(var r=new t.TokenSet,s=[{node:r,editsRemaining:n,str:e}];s.length;){var i=s.pop();if(i.str.length>0){var a=i.str.charAt(0),u;a in i.node.edges?u=i.node.edges[a]:(u=new t.TokenSet,i.node.edges[a]=u),i.str.length==1&&(u.final=!0),s.push({node:u,editsRemaining:i.editsRemaining,str:i.str.slice(1)})}if(i.editsRemaining!=0){if("*"in i.node.edges)var f=i.node.edges["*"];else{var f=new t.TokenSet;i.node.edges["*"]=f}if(i.str.length==0&&(f.final=!0),s.push({node:f,editsRemaining:i.editsRemaining-1,str:i.str}),i.str.length>1&&s.push({node:i.node,editsRemaining:i.editsRemaining-1,str:i.str.slice(1)}),i.str.length==1&&(i.node.final=!0),i.str.length>=1){if("*"in i.node.edges)var l=i.node.edges["*"];else{var l=new t.TokenSet;i.node.edges["*"]=l}i.str.length==1&&(l.final=!0),s.push({node:l,editsRemaining:i.editsRemaining-1,str:i.str.slice(1)})}if(i.str.length>1){var d=i.str.charAt(0),y=i.str.charAt(1),m;y in i.node.edges?m=i.node.edges[y]:(m=new t.TokenSet,i.node.edges[y]=m),i.str.length==1&&(m.final=!0),s.push({node:m,editsRemaining:i.editsRemaining-1,str:d+i.str.slice(2)})}}}return r},t.TokenSet.fromString=function(e){for(var n=new t.TokenSet,r=n,s=0,i=e.length;s<i;s++){var a=e[s],u=s==i-1;if(a=="*")n.edges[a]=n,n.final=u;else{var f=new t.TokenSet;f.final=u,n.edges[a]=f,n=f}}return r},t.TokenSet.prototype.toArray=function(){for(var e=[],n=[{prefix:"",node:this}];n.length;){var r=n.pop(),s=Object.keys(r.node.edges),i=s.length;r.node.final&&(r.prefix.charAt(0),e.push(r.prefix));for(var a=0;a<i;a++){var u=s[a];n.push({prefix:r.prefix.concat(u),node:r.node.edges[u]})}}return e},t.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var e=this.final?"1":"0",n=Object.keys(this.edges).sort(),r=n.length,s=0;s<r;s++){var i=n[s],a=this.edges[i];e=e+i+a.id}return e},t.TokenSet.prototype.intersect=function(e){for(var n=new t.TokenSet,r=void 0,s=[{qNode:e,output:n,node:this}];s.length;){r=s.pop();for(var i=Object.keys(r.qNode.edges),a=i.length,u=Object.keys(r.node.edges),f=u.length,l=0;l<a;l++)for(var d=i[l],y=0;y<f;y++){var m=u[y];if(m==d||d=="*"){var w=r.node.edges[m],b=r.qNode.edges[d],P=w.final&&b.final,g=void 0;m in r.output.edges?(g=r.output.edges[m],g.final=g.final||P):(g=new t.TokenSet,g.final=P,r.output.edges[m]=g),s.push({qNode:b,output:g,node:w})}}}return n},t.TokenSet.Builder=function(){this.previousWord="",this.root=new t.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},t.TokenSet.Builder.prototype.insert=function(e){var n,r=0;if(e<this.previousWord)throw new Error("Out of order word insertion");for(var s=0;s<e.length&&s<this.previousWord.length&&e[s]==this.previousWord[s];s++)r++;this.minimize(r),this.uncheckedNodes.length==0?n=this.root:n=this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(var s=r;s<e.length;s++){var i=new t.TokenSet,a=e[s];n.edges[a]=i,this.uncheckedNodes.push({parent:n,char:a,child:i}),n=i}n.final=!0,this.previousWord=e},t.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},t.TokenSet.Builder.prototype.minimize=function(e){for(var n=this.uncheckedNodes.length-1;n>=e;n--){var r=this.uncheckedNodes[n],s=r.child.toString();s in this.minimizedNodes?r.parent.edges[r.char]=this.minimizedNodes[s]:(r.child._str=s,this.minimizedNodes[s]=r.child),this.uncheckedNodes.pop()}};t.Index=function(e){this.invertedIndex=e.invertedIndex,this.fieldVectors=e.fieldVectors,this.tokenSet=e.tokenSet,this.fields=e.fields,this.pipeline=e.pipeline},t.Index.prototype.search=function(e){return this.query(function(n){var r=new t.QueryParser(e,n);r.parse()})},t.Index.prototype.query=function(e){for(var n=new t.Query(this.fields),r=Object.create(null),s=Object.create(null),i=Object.create(null),a=Object.create(null),u=Object.create(null),f=0;f<this.fields.length;f++)s[this.fields[f]]=new t.Vector;e.call(n,n);for(var f=0;f<n.clauses.length;f++){var l=n.clauses[f],d=null,y=t.Set.empty;l.usePipeline?d=this.pipeline.runString(l.term,{fields:l.fields}):d=[l.term];for(var m=0;m<d.length;m++){var w=d[m];l.term=w;var b=t.TokenSet.fromClause(l),P=this.tokenSet.intersect(b).toArray();if(P.length===0&&l.presence===t.Query.presence.REQUIRED){for(var g=0;g<l.fields.length;g++){var v=l.fields[g];a[v]=t.Set.empty}break}for(var O=0;O<P.length;O++)for(var k=P[O],x=this.invertedIndex[k],L=x._index,g=0;g<l.fields.length;g++){var v=l.fields[g],I=x[v],F=Object.keys(I),B=k+"/"+v,$=new t.Set(F);if(l.presence==t.Query.presence.REQUIRED&&(y=y.union($),a[v]===void 0&&(a[v]=t.Set.complete)),l.presence==t.Query.presence.PROHIBITED){u[v]===void 0&&(u[v]=t.Set.empty),u[v]=u[v].union($);continue}if(s[v].upsert(L,l.boost,function(pe,me){return pe+me}),!i[B]){for(var A=0;A<F.length;A++){var q=F[A],_=new t.FieldRef(q,v),X=I[q],U;(U=r[_])===void 0?r[_]=new t.MatchData(k,v,X):U.add(k,v,X)}i[B]=!0}}}if(l.presence===t.Query.presence.REQUIRED)for(var g=0;g<l.fields.length;g++){var v=l.fields[g];a[v]=a[v].intersect(y)}}for(var W=t.Set.complete,C=t.Set.empty,f=0;f<this.fields.length;f++){var v=this.fields[f];a[v]&&(W=W.intersect(a[v])),u[v]&&(C=C.union(u[v]))}var h=Object.keys(r),S=[],D=Object.create(null);if(n.isNegated()){h=Object.keys(this.fieldVectors);for(var f=0;f<h.length;f++){var _=h[f],E=t.FieldRef.fromString(_);r[_]=new t.MatchData}}for(var f=0;f<h.length;f++){var E=t.FieldRef.fromString(h[f]),p=E.docRef;if(W.contains(p)&&!C.contains(p)){var Q=this.fieldVectors[E],R=s[E.fieldName].similarity(Q),j;if((j=D[p])!==void 0)j.score+=R,j.matchData.combine(r[E]);else{var T={ref:p,score:R,matchData:r[E]};D[p]=T,S.push(T)}}}return S.sort(function(de,he){return he.score-de.score})},t.Index.prototype.toJSON=function(){var e=Object.keys(this.invertedIndex).sort().map(function(r){return[r,this.invertedIndex[r]]},this),n=Object.keys(this.fieldVectors).map(function(r){return[r,this.fieldVectors[r].toJSON()]},this);return{version:t.version,fields:this.fields,fieldVectors:n,invertedIndex:e,pipeline:this.pipeline.toJSON()}},t.Index.load=function(e){var n={},r={},s=e.fieldVectors,i=Object.create(null),a=e.invertedIndex,u=new t.TokenSet.Builder,f=t.Pipeline.load(e.pipeline);e.version!=t.version&&t.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+t.version+"' does not match serialized index '"+e.version+"'");for(var l=0;l<s.length;l++){var d=s[l],y=d[0],m=d[1];r[y]=new t.Vector(m)}for(var l=0;l<a.length;l++){var d=a[l],w=d[0],b=d[1];u.insert(w),i[w]=b}return u.finish(),n.fields=e.fields,n.fieldVectors=r,n.invertedIndex=i,n.tokenSet=u.root,n.pipeline=f,new t.Index(n)};t.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=t.tokenizer,this.pipeline=new t.Pipeline,this.searchPipeline=new t.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},t.Builder.prototype.ref=function(e){this._ref=e},t.Builder.prototype.field=function(e,n){if(/\//.test(e))throw new RangeError("Field '"+e+"' contains illegal character '/'");this._fields[e]=n||{}},t.Builder.prototype.b=function(e){e<0?this._b=0:e>1?this._b=1:this._b=e},t.Builder.prototype.k1=function(e){this._k1=e},t.Builder.prototype.add=function(e,n){var r=e[this._ref],s=Object.keys(this._fields);this._documents[r]=n||{},this.documentCount+=1;for(var i=0;i<s.length;i++){var a=s[i],u=this._fields[a].extractor,f=u?u(e):e[a],l=this.tokenizer(f,{fields:[a]}),d=this.pipeline.run(l),y=new t.FieldRef(r,a),m=Object.create(null);this.fieldTermFrequencies[y]=m,this.fieldLengths[y]=0,this.fieldLengths[y]+=d.length;for(var w=0;w<d.length;w++){var b=d[w];if(m[b]==null&&(m[b]=0),m[b]+=1,this.invertedIndex[b]==null){var P=Object.create(null);P._index=this.termIndex,this.termIndex+=1;for(var g=0;g<s.length;g++)P[s[g]]=Object.create(null);this.invertedIndex[b]=P}this.invertedIndex[b][a][r]==null&&(this.invertedIndex[b][a][r]=Object.create(null));for(var v=0;v<this.metadataWhitelist.length;v++){var O=this.metadataWhitelist[v],k=b.metadata[O];this.invertedIndex[b][a][r][O]==null&&(this.invertedIndex[b][a][r][O]=[]),this.invertedIndex[b][a][r][O].push(k)}}}},t.Builder.prototype.calculateAverageFieldLengths=function(){for(var e=Object.keys(this.fieldLengths),n=e.length,r={},s={},i=0;i<n;i++){var a=t.FieldRef.fromString(e[i]),u=a.fieldName;s[u]||(s[u]=0),s[u]+=1,r[u]||(r[u]=0),r[u]+=this.fieldLengths[a]}for(var f=Object.keys(this._fields),i=0;i<f.length;i++){var l=f[i];r[l]=r[l]/s[l]}this.averageFieldLength=r},t.Builder.prototype.createFieldVectors=function(){for(var e={},n=Object.keys(this.fieldTermFrequencies),r=n.length,s=Object.create(null),i=0;i<r;i++){for(var a=t.FieldRef.fromString(n[i]),u=a.fieldName,f=this.fieldLengths[a],l=new t.Vector,d=this.fieldTermFrequencies[a],y=Object.keys(d),m=y.length,w=this._fields[u].boost||1,b=this._documents[a.docRef].boost||1,P=0;P<m;P++){var g=y[P],v=d[g],O=this.invertedIndex[g]._index,k,x,L;s[g]===void 0?(k=t.idf(this.invertedIndex[g],this.documentCount),s[g]=k):k=s[g],x=k*((this._k1+1)*v)/(this._k1*(1-this._b+this._b*(f/this.averageFieldLength[u]))+v),x*=w,x*=b,L=Math.round(x*1e3)/1e3,l.insert(O,L)}e[a]=l}this.fieldVectors=e},t.Builder.prototype.createTokenSet=function(){this.tokenSet=t.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},t.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new t.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},t.Builder.prototype.use=function(e){var n=Array.prototype.slice.call(arguments,1);n.unshift(this),e.apply(this,n)},t.MatchData=function(e,n,r){for(var s=Object.create(null),i=Object.keys(r||{}),a=0;a<i.length;a++){var u=i[a];s[u]=r[u].slice()}this.metadata=Object.create(null),e!==void 0&&(this.metadata[e]=Object.create(null),this.metadata[e][n]=s)},t.MatchData.prototype.combine=function(e){for(var n=Object.keys(e.metadata),r=0;r<n.length;r++){var s=n[r],i=Object.keys(e.metadata[s]);this.metadata[s]==null&&(this.metadata[s]=Object.create(null));for(var a=0;a<i.length;a++){var u=i[a],f=Object.keys(e.metadata[s][u]);this.metadata[s][u]==null&&(this.metadata[s][u]=Object.create(null));for(var l=0;l<f.length;l++){var d=f[l];this.metadata[s][u][d]==null?this.metadata[s][u][d]=e.metadata[s][u][d]:this.metadata[s][u][d]=this.metadata[s][u][d].concat(e.metadata[s][u][d])}}}},t.MatchData.prototype.add=function(e,n,r){if(!(e in this.metadata)){this.metadata[e]=Object.create(null),this.metadata[e][n]=r;return}if(!(n in this.metadata[e])){this.metadata[e][n]=r;return}for(var s=Object.keys(r),i=0;i<s.length;i++){var a=s[i];a in this.metadata[e][n]?this.metadata[e][n][a]=this.metadata[e][n][a].concat(r[a]):this.metadata[e][n][a]=r[a]}},t.Query=function(e){this.clauses=[],this.allFields=e},t.Query.wildcard=new String("*"),t.Query.wildcard.NONE=0,t.Query.wildcard.LEADING=1,t.Query.wildcard.TRAILING=2,t.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},t.Query.prototype.clause=function(e){return"fields"in e||(e.fields=this.allFields),"boost"in e||(e.boost=1),"usePipeline"in e||(e.usePipeline=!0),"wildcard"in e||(e.wildcard=t.Query.wildcard.NONE),e.wildcard&t.Query.wildcard.LEADING&&e.term.charAt(0)!=t.Query.wildcard&&(e.term="*"+e.term),e.wildcard&t.Query.wildcard.TRAILING&&e.term.slice(-1)!=t.Query.wildcard&&(e.term=""+e.term+"*"),"presence"in e||(e.presence=t.Query.presence.OPTIONAL),this.clauses.push(e),this},t.Query.prototype.isNegated=function(){for(var e=0;e<this.clauses.length;e++)if(this.clauses[e].presence!=t.Query.presence.PROHIBITED)return!1;return!0},t.Query.prototype.term=function(e,n){if(Array.isArray(e))return e.forEach(function(s){this.term(s,t.utils.clone(n))},this),this;var r=n||{};return r.term=e.toString(),this.clause(r),this},t.QueryParseError=function(e,n,r){this.name="QueryParseError",this.message=e,this.start=n,this.end=r},t.QueryParseError.prototype=new Error,t.QueryLexer=function(e){this.lexemes=[],this.str=e,this.length=e.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},t.QueryLexer.prototype.run=function(){for(var e=t.QueryLexer.lexText;e;)e=e(this)},t.QueryLexer.prototype.sliceString=function(){for(var e=[],n=this.start,r=this.pos,s=0;s<this.escapeCharPositions.length;s++)r=this.escapeCharPositions[s],e.push(this.str.slice(n,r)),n=r+1;return e.push(this.str.slice(n,this.pos)),this.escapeCharPositions.length=0,e.join("")},t.QueryLexer.prototype.emit=function(e){this.lexemes.push({type:e,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},t.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},t.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return t.QueryLexer.EOS;var e=this.str.charAt(this.pos);return this.pos+=1,e},t.QueryLexer.prototype.width=function(){return this.pos-this.start},t.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},t.QueryLexer.prototype.backup=function(){this.pos-=1},t.QueryLexer.prototype.acceptDigitRun=function(){var e,n;do e=this.next(),n=e.charCodeAt(0);while(n>47&&n<58);e!=t.QueryLexer.EOS&&this.backup()},t.QueryLexer.prototype.more=function(){return this.pos<this.length},t.QueryLexer.EOS="EOS",t.QueryLexer.FIELD="FIELD",t.QueryLexer.TERM="TERM",t.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",t.QueryLexer.BOOST="BOOST",t.QueryLexer.PRESENCE="PRESENCE",t.QueryLexer.lexField=function(e){return e.backup(),e.emit(t.QueryLexer.FIELD),e.ignore(),t.QueryLexer.lexText},t.QueryLexer.lexTerm=function(e){if(e.width()>1&&(e.backup(),e.emit(t.QueryLexer.TERM)),e.ignore(),e.more())return t.QueryLexer.lexText},t.QueryLexer.lexEditDistance=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(t.QueryLexer.EDIT_DISTANCE),t.QueryLexer.lexText},t.QueryLexer.lexBoost=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(t.QueryLexer.BOOST),t.QueryLexer.lexText},t.QueryLexer.lexEOS=function(e){e.width()>0&&e.emit(t.QueryLexer.TERM)},t.QueryLexer.termSeparator=t.tokenizer.separator,t.QueryLexer.lexText=function(e){for(;;){var n=e.next();if(n==t.QueryLexer.EOS)return t.QueryLexer.lexEOS;if(n.charCodeAt(0)==92){e.escapeCharacter();continue}if(n==":")return t.QueryLexer.lexField;if(n=="~")return e.backup(),e.width()>0&&e.emit(t.QueryLexer.TERM),t.QueryLexer.lexEditDistance;if(n=="^")return e.backup(),e.width()>0&&e.emit(t.QueryLexer.TERM),t.QueryLexer.lexBoost;if(n=="+"&&e.width()===1||n=="-"&&e.width()===1)return e.emit(t.QueryLexer.PRESENCE),t.QueryLexer.lexText;if(n.match(t.QueryLexer.termSeparator))return t.QueryLexer.lexTerm}},t.QueryParser=function(e,n){this.lexer=new t.QueryLexer(e),this.query=n,this.currentClause={},this.lexemeIdx=0},t.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var e=t.QueryParser.parseClause;e;)e=e(this);return this.query},t.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},t.QueryParser.prototype.consumeLexeme=function(){var e=this.peekLexeme();return this.lexemeIdx+=1,e},t.QueryParser.prototype.nextClause=function(){var e=this.currentClause;this.query.clause(e),this.currentClause={}},t.QueryParser.parseClause=function(e){var n=e.peekLexeme();if(n!=null)switch(n.type){case t.QueryLexer.PRESENCE:return t.QueryParser.parsePresence;case t.QueryLexer.FIELD:return t.QueryParser.parseField;case t.QueryLexer.TERM:return t.QueryParser.parseTerm;default:var r="expected either a field or a term, found "+n.type;throw n.str.length>=1&&(r+=" with value '"+n.str+"'"),new t.QueryParseError(r,n.start,n.end)}},t.QueryParser.parsePresence=function(e){var n=e.consumeLexeme();if(n!=null){switch(n.str){case"-":e.currentClause.presence=t.Query.presence.PROHIBITED;break;case"+":e.currentClause.presence=t.Query.presence.REQUIRED;break;default:var r="unrecognised presence operator'"+n.str+"'";throw new t.QueryParseError(r,n.start,n.end)}var s=e.peekLexeme();if(s==null){var r="expecting term or field, found nothing";throw new t.QueryParseError(r,n.start,n.end)}switch(s.type){case t.QueryLexer.FIELD:return t.QueryParser.parseField;case t.QueryLexer.TERM:return t.QueryParser.parseTerm;default:var r="expecting term or field, found '"+s.type+"'";throw new t.QueryParseError(r,s.start,s.end)}}},t.QueryParser.parseField=function(e){var n=e.consumeLexeme();if(n!=null){if(e.query.allFields.indexOf(n.str)==-1){var r=e.query.allFields.map(function(a){return"'"+a+"'"}).join(", "),s="unrecognised field '"+n.str+"', possible fields: "+r;throw new t.QueryParseError(s,n.start,n.end)}e.currentClause.fields=[n.str];var i=e.peekLexeme();if(i==null){var s="expecting term, found nothing";throw new t.QueryParseError(s,n.start,n.end)}switch(i.type){case t.QueryLexer.TERM:return t.QueryParser.parseTerm;default:var s="expecting term, found '"+i.type+"'";throw new t.QueryParseError(s,i.start,i.end)}}},t.QueryParser.parseTerm=function(e){var n=e.consumeLexeme();if(n!=null){e.currentClause.term=n.str.toLowerCase(),n.str.indexOf("*")!=-1&&(e.currentClause.usePipeline=!1);var r=e.peekLexeme();if(r==null){e.nextClause();return}switch(r.type){case t.QueryLexer.TERM:return e.nextClause(),t.QueryParser.parseTerm;case t.QueryLexer.FIELD:return e.nextClause(),t.QueryParser.parseField;case t.QueryLexer.EDIT_DISTANCE:return t.QueryParser.parseEditDistance;case t.QueryLexer.BOOST:return t.QueryParser.parseBoost;case t.QueryLexer.PRESENCE:return e.nextClause(),t.QueryParser.parsePresence;default:var s="Unexpected lexeme type '"+r.type+"'";throw new t.QueryParseError(s,r.start,r.end)}}},t.QueryParser.parseEditDistance=function(e){var n=e.consumeLexeme();if(n!=null){var r=parseInt(n.str,10);if(isNaN(r)){var s="edit distance must be numeric";throw new t.QueryParseError(s,n.start,n.end)}e.currentClause.editDistance=r;var i=e.peekLexeme();if(i==null){e.nextClause();return}switch(i.type){case t.QueryLexer.TERM:return e.nextClause(),t.QueryParser.parseTerm;case t.QueryLexer.FIELD:return e.nextClause(),t.QueryParser.parseField;case t.QueryLexer.EDIT_DISTANCE:return t.QueryParser.parseEditDistance;case t.QueryLexer.BOOST:return t.QueryParser.parseBoost;case t.QueryLexer.PRESENCE:return e.nextClause(),t.QueryParser.parsePresence;default:var s="Unexpected lexeme type '"+i.type+"'";throw new t.QueryParseError(s,i.start,i.end)}}},t.QueryParser.parseBoost=function(e){var n=e.consumeLexeme();if(n!=null){var r=parseInt(n.str,10);if(isNaN(r)){var s="boost must be numeric";throw new t.QueryParseError(s,n.start,n.end)}e.currentClause.boost=r;var i=e.peekLexeme();if(i==null){e.nextClause();return}switch(i.type){case t.QueryLexer.TERM:return e.nextClause(),t.QueryParser.parseTerm;case t.QueryLexer.FIELD:return e.nextClause(),t.QueryParser.parseField;case t.QueryLexer.EDIT_DISTANCE:return t.QueryParser.parseEditDistance;case t.QueryLexer.BOOST:return t.QueryParser.parseBoost;case t.QueryLexer.PRESENCE:return e.nextClause(),t.QueryParser.parsePresence;default:var s="Unexpected lexeme type '"+i.type+"'";throw new t.QueryParseError(s,i.start,i.end)}}},(function(e,n){o.exports=n()})(this,function(){return t})})()})(ee)),ee.exports}var Ct=Rt();const Nt=ye(Ct);export{_t as d,At as f,Nt as l,Wt as t};
//# sourceMappingURL=vendor-utils-5Vdoy44w.js.map
