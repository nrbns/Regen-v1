{"version":3,"file":"testOmniDesk-DHhGI0Mq.js","sources":["../../src/utils/testOmniDesk.ts"],"sourcesContent":["/**\n * UI/UX Test Utility for OmniDesk Search Page\n * Run this in the browser console to test functionality\n */\n\nexport function testOmniDesk() {\n  const results: { test: string; passed: boolean; message: string }[] = [];\n\n  // Test 1: Check if OmniDesk container exists\n  const dashboard = document.querySelector('[data-onboarding=\"dashboard\"]');\n  if (dashboard) {\n    results.push({\n      test: 'Dashboard Container Exists',\n      passed: true,\n      message: 'OmniDesk container found',\n    });\n\n    // Test 2: Check visibility\n    const styles = window.getComputedStyle(dashboard as HTMLElement);\n    const isVisible =\n      styles.display !== 'none' && styles.visibility !== 'hidden' && styles.opacity !== '0';\n    results.push({\n      test: 'Dashboard Visibility',\n      passed: isVisible,\n      message: isVisible ? 'Dashboard is visible' : 'Dashboard is hidden',\n    });\n\n    // Test 3: Check z-index\n    const zIndex = parseInt(styles.zIndex || '0');\n    results.push({\n      test: 'Z-Index Check',\n      passed: zIndex >= 10,\n      message: `Z-index is ${zIndex} (should be >= 10)`,\n    });\n\n    // Test 4: Check pointer events\n    const pointerEvents = styles.pointerEvents;\n    results.push({\n      test: 'Pointer Events',\n      passed: pointerEvents === 'auto',\n      message: `Pointer events: ${pointerEvents} (should be 'auto')`,\n    });\n  } else {\n    results.push({\n      test: 'Dashboard Container Exists',\n      passed: false,\n      message: 'OmniDesk container not found',\n    });\n  }\n\n  // Test 5: Check search input\n  const searchInput = document.querySelector(\n    'input[placeholder*=\"Search the open web\"]'\n  ) as HTMLInputElement;\n  if (searchInput) {\n    results.push({ test: 'Search Input Exists', passed: true, message: 'Search input found' });\n\n    // Test if input is clickable\n    const inputStyles = window.getComputedStyle(searchInput);\n    results.push({\n      test: 'Search Input Clickable',\n      passed: inputStyles.pointerEvents !== 'none',\n      message: `Input pointer events: ${inputStyles.pointerEvents}`,\n    });\n\n    // Test input focus\n    try {\n      searchInput.focus();\n      const isFocused = document.activeElement === searchInput;\n      results.push({\n        test: 'Search Input Focusable',\n        passed: isFocused,\n        message: isFocused ? 'Input can be focused' : 'Input cannot be focused',\n      });\n    } catch (e) {\n      results.push({ test: 'Search Input Focusable', passed: false, message: `Focus error: ${e}` });\n    }\n  } else {\n    results.push({ test: 'Search Input Exists', passed: false, message: 'Search input not found' });\n  }\n\n  // Test 6: Check Launch Flow button\n  const launchButton = Array.from(document.querySelectorAll('button')).find(btn =>\n    btn.textContent?.includes('Launch Flow')\n  );\n  if (launchButton) {\n    results.push({\n      test: 'Launch Flow Button Exists',\n      passed: true,\n      message: 'Launch Flow button found',\n    });\n\n    const btnStyles = window.getComputedStyle(launchButton);\n    results.push({\n      test: 'Launch Flow Button Clickable',\n      passed: btnStyles.pointerEvents !== 'none',\n      message: `Button pointer events: ${btnStyles.pointerEvents}`,\n    });\n  } else {\n    results.push({\n      test: 'Launch Flow Button Exists',\n      passed: false,\n      message: 'Launch Flow button not found',\n    });\n  }\n\n  // Test 7: Check suggested prompts\n  const suggestedButtons = Array.from(document.querySelectorAll('button')).filter(\n    btn =>\n      btn.textContent &&\n      [\n        'graph the AI ethics landscape',\n        \"summarize today's markets\",\n        'compare battery life',\n        'find regenerative',\n      ].some(text => btn.textContent?.toLowerCase().includes(text.toLowerCase()))\n  );\n  results.push({\n    test: 'Suggested Prompts Exist',\n    passed: suggestedButtons.length > 0,\n    message: `Found ${suggestedButtons.length} suggested prompt buttons`,\n  });\n\n  // Test 8: Check quick action buttons\n  const quickActionButtons = Array.from(document.querySelectorAll('button')).filter(\n    btn =>\n      btn.textContent &&\n      ['Ask Agent', 'Search Topic', 'Research Notes', 'Run Playbook'].some(text =>\n        btn.textContent?.includes(text)\n      )\n  );\n  results.push({\n    test: 'Quick Action Buttons Exist',\n    passed: quickActionButtons.length > 0,\n    message: `Found ${quickActionButtons.length} quick action buttons`,\n  });\n\n  // Test 9: Check if elements are not blocked by overlays\n  // Note: Some elements may be intentionally blocked or the test may run before full render\n  const allInteractiveElements = [\n    searchInput,\n    launchButton,\n    ...suggestedButtons,\n    ...quickActionButtons,\n  ].filter(Boolean) as HTMLElement[];\n\n  let blockedCount = 0;\n  allInteractiveElements.forEach(el => {\n    const rect = el.getBoundingClientRect();\n    // Only check if element is visible and has size\n    if (rect.width > 0 && rect.height > 0) {\n      const centerX = rect.left + rect.width / 2;\n      const centerY = rect.top + rect.height / 2;\n      const topElement = document.elementFromPoint(centerX, centerY);\n      // Check if element is actually blocked (not just covered by its own children)\n      if (topElement && topElement !== el && !el.contains(topElement)) {\n        // Check if the blocking element is a known overlay (like a modal or tooltip)\n        const isKnownOverlay = topElement.closest(\n          '[role=\"dialog\"], [role=\"tooltip\"], [data-onboarding]'\n        );\n        if (!isKnownOverlay) {\n          blockedCount++;\n        }\n      }\n    }\n  });\n  // Allow up to 30% of elements to be blocked (some may be intentionally blocked for layout reasons)\n  const maxAllowed = Math.max(1, Math.ceil(allInteractiveElements.length * 0.3));\n  results.push({\n    test: 'Elements Not Blocked',\n    passed: blockedCount <= maxAllowed,\n    message: `${blockedCount} of ${allInteractiveElements.length} elements are blocked (max allowed: ${maxAllowed})`,\n  });\n\n  // Print results\n  console.group('ðŸ” OmniDesk UI/UX Test Results');\n  results.forEach(({ test, passed, message }) => {\n    if (passed) {\n      console.log(`âœ… ${test}: ${message}`);\n    } else {\n      console.error(`âŒ ${test}: ${message}`);\n    }\n  });\n  const passedCount = results.filter(r => r.passed).length;\n  const totalCount = results.length;\n  console.log(`\\nðŸ“Š Summary: ${passedCount}/${totalCount} tests passed`);\n  console.groupEnd();\n\n  return results;\n}\n\n// Expose test function to window for manual testing (disabled auto-run)\nif (typeof window !== 'undefined') {\n  (window as any).testOmniDesk = testOmniDesk;\n}\n"],"names":["testOmniDesk","results","dashboard","styles","isVisible","zIndex","pointerEvents","searchInput","inputStyles","isFocused","e","launchButton","btn","btnStyles","suggestedButtons","text","quickActionButtons","allInteractiveElements","blockedCount","el","rect","centerX","centerY","topElement","maxAllowed","test","passed","message","passedCount","r","totalCount"],"mappings":"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"}