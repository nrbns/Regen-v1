var r=Object.defineProperty,a=(e,i,t)=>i in e?r(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,s=(e,i,t)=>a(e,typeof i!="symbol"?i+"":i,t);class l{constructor(){s(this,"callbacks",new Set),s(this,"isVisible",!document.hidden),s(this,"handleVisibilityChange",()=>{const i=this.isVisible;this.isVisible=!document.hidden,i&&!this.isVisible&&this.callbacks.forEach(t=>{try{t()}catch(n){console.error("[VisibilityManager] Error in callback:",n)}})}),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange)}onHidden(i){return this.callbacks.add(i),()=>{this.callbacks.delete(i)}}isTabVisible(){return this.isVisible}destroy(){typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange),this.callbacks.clear()}}const c=new l;export{c as visibilityManager};
//# sourceMappingURL=visibilityManager-9BlGHrQJ.js.map
