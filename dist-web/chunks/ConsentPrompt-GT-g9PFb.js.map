{"version":3,"file":"ConsentPrompt-GT-g9PFb.js","sources":["../../src/components/Overlays/ConsentPrompt.tsx"],"sourcesContent":["/**\r\n * ConsentPrompt - Agent action approval modal\r\n */\r\n\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Shield, AlertTriangle, CheckCircle, XCircle, X } from 'lucide-react';\r\nimport { ConsentRequest } from '../../lib/ipc-events';\r\n\r\ninterface ConsentPromptProps {\r\n  request: ConsentRequest | null;\r\n  onClose: () => void;\r\n}\r\n\r\nconst riskColors = {\r\n  low: 'text-green-400',\r\n  medium: 'text-yellow-400',\r\n  high: 'text-red-400',\r\n};\r\n\r\nconst riskBg = {\r\n  low: 'bg-green-500/20',\r\n  medium: 'bg-yellow-500/20',\r\n  high: 'bg-red-500/20',\r\n};\r\n\r\nexport function ConsentPrompt({ request, onClose }: ConsentPromptProps) {\r\n  if (!request) return null;\r\n\r\n  const handleResponse = (approved: boolean) => {\r\n    request.callback(approved);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {request && (\r\n        <>\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 z-overlayBackdrop bg-black/60 backdrop-blur-sm\"\r\n            onClick={onClose}\r\n          />\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            className=\"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-modalContent w-96 bg-gray-900/95 backdrop-blur-xl border border-gray-700/50 rounded-xl shadow-2xl overflow-hidden\"\r\n          >\r\n            <div className=\"p-6\">\r\n              <div className=\"flex items-start gap-4 mb-4\">\r\n                <div className={`flex-shrink-0 w-12 h-12 ${riskBg[request.action.risk]} rounded-lg flex items-center justify-center`}>\r\n                  <Shield size={24} className={riskColors[request.action.risk]} />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center gap-2 mb-1\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-200\">\r\n                      Consent Required\r\n                    </h3>\r\n                    <span className={`px-2 py-0.5 text-xs font-medium rounded ${riskBg[request.action.risk]} ${riskColors[request.action.risk]}`}>\r\n                      {request.action.risk.toUpperCase()}\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-400\">\r\n                    {request.action.description}\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"p-1 rounded-lg hover:bg-gray-800/60 text-gray-400 hover:text-gray-200 transition-colors\"\r\n                >\r\n                  <X size={18} />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"mb-4 p-3 bg-gray-800/40 rounded-lg\">\r\n                <div className=\"flex items-center gap-2 text-xs text-gray-400 mb-1\">\r\n                  <AlertTriangle size={14} />\r\n                  Action Type: {request.action.type}\r\n                </div>\r\n                <div className=\"text-xs text-gray-500\">\r\n                  The agent wants to perform this action. Review carefully before approving.\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex gap-3\">\r\n                <motion.button\r\n                  onClick={() => handleResponse(false)}\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                  className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-800/60 hover:bg-gray-800/80 border border-gray-700/50 rounded-lg text-gray-300 hover:text-gray-100 transition-colors\"\r\n                >\r\n                  <XCircle size={18} />\r\n                  Deny\r\n                </motion.button>\r\n                <motion.button\r\n                  onClick={() => handleResponse(true)}\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                  className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600/60 hover:bg-blue-600/80 border border-blue-500/30 rounded-lg text-blue-200 hover:text-blue-100 transition-colors\"\r\n                >\r\n                  <CheckCircle size={18} />\r\n                  Approve\r\n                </motion.button>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\n"],"names":["riskColors","riskBg","ConsentPrompt","request","onClose","handleResponse","approved","jsx","AnimatePresence","jsxs","Fragment","motion","Shield","X","AlertTriangle","XCircle","CheckCircle"],"mappings":"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"}