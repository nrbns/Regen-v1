import{r as m,j as e,e as C,O as _,u as k,X as $,b2 as w,bj as u,a0 as I,t as E,c5 as L,ak as M,c6 as D,c7 as O,c8 as U}from"./vendor-react-gmX1Lmvt.js";import{u as P}from"./trustDashboardStore-BRaGSCcb.js";import{f as B}from"./AppShell-CJtR0Pw4.js";import{m as F}from"./vendor-framer-motion-DDE19Uim.js";import{f as g}from"./vendor-utils-5Vdoy44w.js";import"./vendor-react-dom-Bkb6jJ_S.js";import"./vendor-Vl2WtvH-.js";import"./core-ai-yFIunLTZ.js";import"./vendor-zustand-BWsgwsXr.js";import"./mode-manager.ts-DwguZmJt.js";import"./core-memory-DmK-uh9X.js";import"../assets/index-D9cF9G1U.js";import"./mode-research-BclgCwOH.js";import"./mode-docs-FcsoolLb.js";import"./vendor-pdf-ejcqEZLU.js";import"./vendor-mammoth-BPQIafDs.js";import"@tauri-apps/api/core";import"./History-kg0LrAO3.js";import"./Downloads-CU-ngJEB.js";import"./OmniDesk-C5fSodZ1.js";import"./WorkspacesPanel-3geKynW_.js";import"./bookmarksStore-CAScveEF.js";import"./workspacesStore-BSqEl-CQ.js";import"./tradeStore-CHfkU4NA.js";import"./dataService-HUHZrGu9.js";import"./registry-CG5fPtjR.js";const H={download:"Download file",form_submit:"Submit form",login:"Login request",scrape:"Scrape content",export_data:"Export data",access_clipboard:"Clipboard access",access_camera:"Camera access",access_microphone:"Microphone access",access_filesystem:"Filesystem access",ai_cloud:"Cloud AI call"};function ge(){const{visible:a,loading:r,error:d,consentTimeline:n,trustSignals:l,shieldsStatus:c,privacyAudit:t,consentStats:i,blockedSummary:h,lastUpdated:j,refresh:x,close:T}=P(),R=B(s=>s.open);m.useEffect(()=>{if(!a)return;x();const s=window.setInterval(()=>{x()},3e4);return()=>window.clearInterval(s)},[a,x]);const f=m.useMemo(()=>n.slice(0,8),[n]),v=m.useMemo(()=>l.filter(s=>s.verdict!=="trusted").slice(0,6),[l]),N=m.useMemo(()=>l.filter(s=>s.verdict==="trusted").slice(0,6),[l]);if(!a)return null;const z=j?g(j,{addSuffix:!0}):"just now",y=t?.grade==="high"?"danger":t?.grade==="moderate"?"warning":"info";return e.jsx("div",{className:"fixed inset-0 z-[1125] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:e.jsxs(F.div,{initial:{opacity:0,scale:.96,y:12},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.96,y:12},transition:{duration:.18,ease:"easeOut"},className:"relative flex h-[90vh] w-[min(1100px,94vw)] flex-col overflow-hidden rounded-3xl border border-slate-700/70 bg-slate-950/95 text-gray-100 shadow-[0_20px_80px_rgba(0,0,0,0.55)]",children:[e.jsxs("header",{className:"flex items-start justify-between border-b border-slate-800/60 px-6 py-5",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-emerald-300/80",children:[e.jsx(C,{size:14})," Trust & Ethics"]}),e.jsx("h1",{className:"mt-1 text-lg font-semibold text-white",children:"Real-time consent ledger & threat summary"}),e.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:[r?"Refreshing…":`Last updated ${z}`,d&&e.jsxs("span",{className:"ml-2 text-red-300",children:["· ",d]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>void x(),disabled:r,className:"inline-flex items-center gap-2 rounded-xl border border-slate-700/60 bg-slate-900/70 px-3 py-2 text-xs text-slate-200 hover:bg-slate-900/90 disabled:opacity-50",children:[e.jsx(_,{size:14,className:r?"animate-spin text-emerald-300":""}),"Refresh"]}),e.jsxs("button",{type:"button",onClick:()=>void R(),className:"inline-flex items-center gap-2 rounded-xl border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-xs font-medium text-emerald-100 hover:bg-emerald-500/20",children:[e.jsx(k,{size:14}),"Open consent ledger"]}),e.jsx("button",{type:"button",onClick:()=>T(),className:"inline-flex items-center justify-center rounded-full border border-slate-700/60 bg-slate-900/70 p-2 text-slate-200 hover:bg-slate-900/90","aria-label":"Close trust dashboard",children:e.jsx($,{size:16})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-5",children:e.jsxs("div",{className:"grid gap-5 lg:grid-cols-[1.1fr,0.9fr]",children:[e.jsxs("section",{className:"space-y-5",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(S,{title:"Consent posture",icon:w,tone:"emerald",stats:[{label:"Pending",value:i.pending},{label:"Approved",value:i.approved},{label:"Revoked",value:i.revoked}]}),e.jsx(S,{title:"Shields blocked",icon:u,tone:"sky",stats:[{label:"Trackers",value:h.trackers},{label:"Ads",value:h.ads},{label:"HTTPS upgrades",value:h.upgrades}],footer:c?`${c.cookies3p==="block"?"3p cookies blocked":"3p cookies allowed"} · ${c.webrtcBlocked?"WebRTC protected":"WebRTC open"}`:"No shield data yet"})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/70",children:[e.jsx(p,{icon:I,title:"Consent timeline",description:"Live ledger of ethical approvals"}),e.jsx("div",{className:"divide-y divide-slate-800/60",children:f.length===0?e.jsx(b,{message:"No consent activity recorded yet."}):f.map(s=>{const o=s.revokedAt?{label:"Revoked",tone:"text-red-300 border-red-400/40 bg-red-500/10"}:s.approved?{label:"Approved",tone:"text-emerald-300 border-emerald-400/40 bg-emerald-500/10"}:{label:"Pending",tone:"text-amber-300 border-amber-400/40 bg-amber-500/10"},A=s.action.risk==="high"?E:s.action.risk==="medium"?u:k;return e.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 text-sm text-gray-200",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl border border-slate-800/70 bg-slate-900/80",children:e.jsx(A,{size:16,className:"text-emerald-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:H[s.action.type]??s.action.type}),e.jsx("span",{className:"text-xs text-slate-500",children:g(s.timestamp,{addSuffix:!0})})]}),e.jsx("div",{className:"text-xs text-slate-400",children:s.action.description})]}),e.jsx("span",{className:`rounded-full border px-2 py-0.5 text-xs ${o.tone}`,children:o.label})]},s.id)})})]})]}),e.jsxs("section",{className:"space-y-5",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/70",children:[e.jsx(p,{icon:L,title:"Privacy Sentinel",description:"Latest AI risk sweep"}),e.jsx("div",{className:"space-y-3 px-4 py-4",children:t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs ${y==="danger"?"border-red-500/40 bg-red-500/10 text-red-200":y==="warning"?"border-amber-500/40 bg-amber-500/10 text-amber-200":"border-sky-500/40 bg-sky-500/10 text-sky-200"}`,children:[e.jsx(M,{size:12}),t.grade==="high"?"High risk detected":t.grade==="moderate"?"Watch this tab":"Clean"]}),e.jsx("p",{className:"text-sm text-slate-300",children:t.message}),t.trackers.length>0&&e.jsxs("div",{className:"rounded-xl border border-slate-800/60 bg-slate-900/70 p-3",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Trackers"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-300",children:t.trackers.slice(0,6).map(s=>e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-700/60 bg-slate-950/80 px-3 py-1",children:[e.jsx(D,{size:11,className:"text-slate-400"}),s.host,e.jsxs("span",{className:"text-[10px] text-slate-500",children:["×",s.count]})]},`${s.host}-${s.count}`))})]}),t.suggestions.length>0&&e.jsxs("div",{className:"space-y-2 rounded-xl border border-slate-800/60 bg-slate-900/70 p-3",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Suggested fixes"}),e.jsx("ul",{className:"space-y-1 text-xs text-slate-300",children:t.suggestions.slice(0,4).map(s=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(O,{size:11,className:"mt-0.5 text-emerald-300"}),e.jsx("span",{children:s})]},s))})]})]}):e.jsx(b,{message:"No privacy audit data yet. Trigger an audit from the Shield icon in the top bar."})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/70",children:[e.jsx(p,{icon:U,title:"Trust alerts",description:"Domains flagged by the mesh"}),e.jsx("div",{className:"divide-y divide-slate-800/60",children:v.length===0?e.jsx(b,{message:"No high-risk domains flagged."}):v.map(s=>e.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-200",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl border border-red-500/40 bg-red-500/10 text-red-200",children:e.jsx(u,{size:16})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:s.domain}),e.jsx("span",{className:"rounded-full border border-red-500/40 bg-red-500/10 px-2 py-0.5 text-[10px] text-red-200",children:s.verdict.toUpperCase()})]}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Score ",Math.round(s.score)," · ",s.signals," signals ·"," ",g(s.lastUpdated,{addSuffix:!0})]})]})]},s.domain))})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/70",children:[e.jsx(p,{icon:w,title:"Trusted mesh",description:"Domains with positive consensus"}),e.jsx("div",{className:"flex flex-col gap-3 px-4 py-4",children:N.length===0?e.jsx(b,{message:"No trusted domains recorded yet."}):N.map(s=>e.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold",children:s.domain}),e.jsxs("span",{className:"text-xs uppercase tracking-wide text-emerald-300/80",children:["Score ",Math.round(s.score)]})]}),e.jsxs("div",{className:"mt-1 text-xs text-emerald-200/80",children:["Confidence ",Math.round(s.confidence*100),"% · ",s.signals," peer signals"]}),s.tags.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-[11px] text-emerald-200/80",children:s.tags.slice(0,4).map(o=>e.jsxs("span",{className:"rounded-full border border-emerald-400/40 px-2 py-0.5",children:["#",o]},`${s.domain}-${o}`))})]},`trusted-${s.domain}`))})]})]})]})})]})})}function S({title:a,icon:r,stats:d,footer:n,tone:l}){const c=l==="emerald"?"border-emerald-500/30 bg-emerald-500/10 text-emerald-100":"border-sky-500/30 bg-sky-500/10 text-sky-100",t=l==="emerald"?"text-emerald-200":"text-sky-200";return e.jsxs("div",{className:`rounded-2xl border ${c} px-4 py-4`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(r,{size:16,className:t}),a]}),e.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2 text-xs text-slate-300",children:d.map(i=>e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-white",children:i.value}),e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-300",children:i.label})]},i.label))}),n&&e.jsx("div",{className:"mt-3 text-[11px] text-slate-200/80",children:n})]})}function p({icon:a,title:r,description:d}){return e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-800/60 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-200",children:[e.jsx(a,{size:14,className:"text-emerald-300"}),r]}),e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:d})]})}function b({message:a}){return e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 px-4 py-6 text-center text-xs text-slate-500",children:[e.jsx(C,{size:18,className:"text-slate-600"}),e.jsx("span",{children:a})]})}export{ge as TrustEthicsDashboard};
//# sourceMappingURL=TrustEthicsDashboard-xBQUU1OG.js.map
