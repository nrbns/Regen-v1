import{r as h,N as x}from"./vendor-react-gmX1Lmvt.js";import{aq as re,ar as Ze,as as Fo,at as mn,au as Zo,av as Yo}from"./vendor-Vl2WtvH-.js";import{a as Uo,u as Xo,s as se}from"./vendor-zustand-BWsgwsXr.js";import"./vendor-react-dom-Bkb6jJ_S.js";const ut=h.createContext(null),Wo=ut.Provider,ye={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},yn=ye.error001();function K(e,t){const n=h.useContext(ut);if(n===null)throw new Error(yn);return Xo(n,e,t)}const ee=()=>{const e=h.useContext(ut);if(e===null)throw new Error(yn);return h.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Go=e=>e.userSelectionActive?"none":"all";function xn({position:e,children:t,className:n,style:o,...s}){const i=K(Go),r=`${e}`.split("-");return x.createElement("div",{className:re(["react-flow__panel",n,...r]),style:{...o,pointerEvents:i},...s},t)}function Ko({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:x.createElement(xn,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},x.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const jo=({x:e,y:t,label:n,labelStyle:o={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:r=[2,4],labelBgBorderRadius:c=2,children:l,className:u,...a})=>{const d=h.useRef(null),[p,f]=h.useState({x:0,y:0,width:0,height:0}),w=re(["react-flow__edge-textwrapper",u]);return h.useEffect(()=>{if(d.current){const g=d.current.getBBox();f({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:x.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:w,visibility:p.width?"visible":"hidden",...a},s&&x.createElement("rect",{width:p.width+2*r[0],x:-r[0],y:-r[1],height:p.height+2*r[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),x.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:d,style:o},n),l)};var qo=h.memo(jo);const Ht=e=>({width:e.offsetWidth,height:e.offsetHeight}),Xe=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Rt=(e={x:0,y:0},t)=>({x:Xe(e.x,t[0][0],t[1][0]),y:Xe(e.y,t[0][1],t[1][1])}),Xt=(e,t,n)=>e<t?Xe(Math.abs(e-t),1,50)/50:e>n?-Xe(Math.abs(e-n),1,50)/50:0,En=(e,t)=>{const n=Xt(e.x,35,t.width-35)*20,o=Xt(e.y,35,t.height-35)*20;return[n,o]},wn=e=>e.getRootNode?.()||window?.document,Qo=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),_t=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),Jo=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),Wt=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),bt=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},es=e=>le(e.width)&&le(e.height)&&le(e.x)&&le(e.y),le=e=>!isNaN(e)&&isFinite(e),j=Symbol.for("internals"),Sn=["Enter"," ","Escape"],ts=(e,t)=>{},ns=e=>"nativeEvent"in e;function Nt(e){const n=(ns(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const bn=e=>"clientX"in e,Se=(e,t)=>{const n=bn(e),o=n?e.clientX:e.touches?.[0].clientX,s=n?e.clientY:e.touches?.[0].clientY;return{x:o-(t?.left??0),y:s-(t?.top??0)}},ct=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,nt=({id:e,path:t,labelX:n,labelY:o,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u,style:a,markerEnd:d,markerStart:p,interactionWidth:f=20})=>x.createElement(x.Fragment,null,x.createElement("path",{id:e,style:a,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:p}),f&&x.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}),s&&le(n)&&le(o)?x.createElement(qo,{x:n,y:o,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u}):null);nt.displayName="BaseEdge";function je(e,t,n){return n===void 0?n:o=>{const s=t().edges.find(i=>i.id===e);s&&n(o,{...s})}}function Nn({sourceX:e,sourceY:t,targetX:n,targetY:o}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,r=Math.abs(o-t)/2,c=o<t?o+r:o-r;return[i,c,s,r]}function vn({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:s,sourceControlY:i,targetControlX:r,targetControlY:c}){const l=e*.125+s*.375+r*.375+n*.125,u=t*.125+i*.375+c*.375+o*.125,a=Math.abs(l-e),d=Math.abs(u-t);return[l,u,a,d]}var Re;(function(e){e.Strict="strict",e.Loose="loose"})(Re||(Re={}));var He;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(He||(He={}));var et;(function(e){e.Partial="partial",e.Full="full"})(et||(et={}));var we;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(we||(we={}));var at;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(at||(at={}));var z;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(z||(z={}));function Gt({pos:e,x1:t,y1:n,x2:o,y2:s}){return e===z.Left||e===z.Right?[.5*(t+o),n]:[t,.5*(n+s)]}function Cn({sourceX:e,sourceY:t,sourcePosition:n=z.Bottom,targetX:o,targetY:s,targetPosition:i=z.Top}){const[r,c]=Gt({pos:n,x1:e,y1:t,x2:o,y2:s}),[l,u]=Gt({pos:i,x1:o,y1:s,x2:e,y2:t}),[a,d,p,f]=vn({sourceX:e,sourceY:t,targetX:o,targetY:s,sourceControlX:r,sourceControlY:c,targetControlX:l,targetControlY:u});return[`M${e},${t} C${r},${c} ${l},${u} ${o},${s}`,a,d,p,f]}const Dt=h.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:s=z.Bottom,targetPosition:i=z.Top,label:r,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:a,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:w,interactionWidth:g})=>{const[m,y,E]=Cn({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:o,targetPosition:i});return x.createElement(nt,{path:m,labelX:y,labelY:E,label:r,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:a,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:w,interactionWidth:g})});Dt.displayName="SimpleBezierEdge";const Kt={[z.Left]:{x:-1,y:0},[z.Right]:{x:1,y:0},[z.Top]:{x:0,y:-1},[z.Bottom]:{x:0,y:1}},os=({source:e,sourcePosition:t=z.Bottom,target:n})=>t===z.Left||t===z.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},jt=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function ss({source:e,sourcePosition:t=z.Bottom,target:n,targetPosition:o=z.Top,center:s,offset:i}){const r=Kt[t],c=Kt[o],l={x:e.x+r.x*i,y:e.y+r.y*i},u={x:n.x+c.x*i,y:n.y+c.y*i},a=os({source:l,sourcePosition:t,target:u}),d=a.x!==0?"x":"y",p=a[d];let f=[],w,g;const m={x:0,y:0},y={x:0,y:0},[E,N,C,I]=Nn({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(r[d]*c[d]===-1){w=s.x??E,g=s.y??N;const V=[{x:w,y:l.y},{x:w,y:u.y}],T=[{x:l.x,y:g},{x:u.x,y:g}];r[d]===p?f=d==="x"?V:T:f=d==="x"?T:V}else{const V=[{x:l.x,y:u.y}],T=[{x:u.x,y:l.y}];if(d==="x"?f=r.x===p?T:V:f=r.y===p?V:T,t===o){const M=Math.abs(e[d]-n[d]);if(M<=i){const S=Math.min(i-1,i-M);r[d]===p?m[d]=(l[d]>e[d]?-1:1)*S:y[d]=(u[d]>n[d]?-1:1)*S}}if(t!==o){const M=d==="x"?"y":"x",S=r[d]===c[M],A=l[M]>u[M],L=l[M]<u[M];(r[d]===1&&(!S&&A||S&&L)||r[d]!==1&&(!S&&L||S&&A))&&(f=d==="x"?V:T)}const v={x:l.x+m.x,y:l.y+m.y},H={x:u.x+y.x,y:u.y+y.y},R=Math.max(Math.abs(v.x-f[0].x),Math.abs(H.x-f[0].x)),_=Math.max(Math.abs(v.y-f[0].y),Math.abs(H.y-f[0].y));R>=_?(w=(v.x+H.x)/2,g=f[0].y):(w=f[0].x,g=(v.y+H.y)/2)}return[[e,{x:l.x+m.x,y:l.y+m.y},...f,{x:u.x+y.x,y:u.y+y.y},n],w,g,C,I]}function rs(e,t,n,o){const s=Math.min(jt(e,t)/2,jt(t,n)/2,o),{x:i,y:r}=t;if(e.x===i&&i===n.x||e.y===r&&r===n.y)return`L${i} ${r}`;if(e.y===r){const u=e.x<n.x?-1:1,a=e.y<n.y?1:-1;return`L ${i+s*u},${r}Q ${i},${r} ${i},${r+s*a}`}const c=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${r+s*l}Q ${i},${r} ${i+s*c},${r}`}function vt({sourceX:e,sourceY:t,sourcePosition:n=z.Bottom,targetX:o,targetY:s,targetPosition:i=z.Top,borderRadius:r=5,centerX:c,centerY:l,offset:u=20}){const[a,d,p,f,w]=ss({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:s},targetPosition:i,center:{x:c,y:l},offset:u});return[a.reduce((m,y,E)=>{let N="";return E>0&&E<a.length-1?N=rs(a[E-1],y,a[E+1],r):N=`${E===0?"M":"L"}${y.x} ${y.y}`,m+=N,m},""),d,p,f,w]}const ft=h.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u,style:a,sourcePosition:d=z.Bottom,targetPosition:p=z.Top,markerEnd:f,markerStart:w,pathOptions:g,interactionWidth:m})=>{const[y,E,N]=vt({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:o,targetPosition:p,borderRadius:g?.borderRadius,offset:g?.offset});return x.createElement(nt,{path:y,labelX:E,labelY:N,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u,style:a,markerEnd:f,markerStart:w,interactionWidth:m})});ft.displayName="SmoothStepEdge";const Tt=h.memo(e=>x.createElement(ft,{...e,pathOptions:h.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));Tt.displayName="StepEdge";function is({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[s,i,r,c]=Nn({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,s,i,r,c]}const kt=h.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u,style:a,markerEnd:d,markerStart:p,interactionWidth:f})=>{const[w,g,m]=is({sourceX:e,sourceY:t,targetX:n,targetY:o});return x.createElement(nt,{path:w,labelX:g,labelY:m,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u,style:a,markerEnd:d,markerStart:p,interactionWidth:f})});kt.displayName="StraightEdge";function ot(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function qt({pos:e,x1:t,y1:n,x2:o,y2:s,c:i}){switch(e){case z.Left:return[t-ot(t-o,i),n];case z.Right:return[t+ot(o-t,i),n];case z.Top:return[t,n-ot(n-s,i)];case z.Bottom:return[t,n+ot(s-n,i)]}}function Mn({sourceX:e,sourceY:t,sourcePosition:n=z.Bottom,targetX:o,targetY:s,targetPosition:i=z.Top,curvature:r=.25}){const[c,l]=qt({pos:n,x1:e,y1:t,x2:o,y2:s,c:r}),[u,a]=qt({pos:i,x1:o,y1:s,x2:e,y2:t,c:r}),[d,p,f,w]=vn({sourceX:e,sourceY:t,targetX:o,targetY:s,sourceControlX:c,sourceControlY:l,targetControlX:u,targetControlY:a});return[`M${e},${t} C${c},${l} ${u},${a} ${o},${s}`,d,p,f,w]}const lt=h.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:s=z.Bottom,targetPosition:i=z.Top,label:r,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:a,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:w,pathOptions:g,interactionWidth:m})=>{const[y,E,N]=Mn({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:o,targetPosition:i,curvature:g?.curvature});return x.createElement(nt,{path:y,labelX:E,labelY:N,label:r,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:a,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:w,interactionWidth:m})});lt.displayName="BezierEdge";const Pt=h.createContext(null),cs=Pt.Provider;Pt.Consumer;const as=()=>h.useContext(Pt),ls=e=>"id"in e&&"source"in e&&"target"in e,ds=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`reactflow__edge-${e}${t||""}-${n}${o||""}`,Ct=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`,us=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),fs=(e,t)=>{if(!e.source||!e.target)return t;let n;return ls(e)?n={...e}:n={...e,id:ds(e)},us(n,t)?t:t.concat(n)},Mt=({x:e,y:t},[n,o,s],i,[r,c])=>{const l={x:(e-n)/s,y:(t-o)/s};return i?{x:r*Math.round(l.x/r),y:c*Math.round(l.y/c)}:l},An=({x:e,y:t},[n,o,s])=>({x:e*s+n,y:t*s+o}),Ye=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],o=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-o};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-o}:s}},zt=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((o,s)=>{const{x:i,y:r}=Ye(s,t).positionAbsolute;return Qo(o,_t({x:i,y:r,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Jo(n)},$n=(e,t,[n,o,s]=[0,0,1],i=!1,r=!1,c=[0,0])=>{const l={x:(t.x-n)/s,y:(t.y-o)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(a=>{const{width:d,height:p,selectable:f=!0,hidden:w=!1}=a;if(r&&!f||w)return!1;const{positionAbsolute:g}=Ye(a,c),m={x:g.x,y:g.y,width:d||0,height:p||0},y=bt(l,m),E=typeof d>"u"||typeof p>"u"||d===null||p===null,N=i&&y>0,C=(d||0)*(p||0);(E||N||y>=C||a.dragging)&&u.push(a)}),u},In=(e,t)=>{const n=e.map(o=>o.id);return t.filter(o=>n.includes(o.source)||n.includes(o.target))},Hn=(e,t,n,o,s,i=.1)=>{const r=t/(e.width*(1+i)),c=n/(e.height*(1+i)),l=Math.min(r,c),u=Xe(l,o,s),a=e.x+e.width/2,d=e.y+e.height/2,p=t/2-a*u,f=n/2-d*u;return{x:p,y:f,zoom:u}},Ie=(e,t=0)=>e.transition().duration(t);function Qt(e,t,n,o){return(t[n]||[]).reduce((s,i)=>(`${e.id}-${i.id}-${n}`!==o&&s.push({id:i.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+i.x+i.width/2,y:(e.positionAbsolute?.y??0)+i.y+i.height/2}),s),[])}function gs(e,t,n,o,s,i){const{x:r,y:c}=Se(e),u=t.elementsFromPoint(r,c).find(w=>w.classList.contains("react-flow__handle"));if(u){const w=u.getAttribute("data-nodeid");if(w){const g=Bt(void 0,u),m=u.getAttribute("data-handleid"),y=i({nodeId:w,id:m,type:g});if(y){const E=s.find(N=>N.nodeId===w&&N.type===g&&N.id===m);return{handle:{id:m,type:g,nodeId:w,x:E?.x||n.x,y:E?.y||n.y},validHandleResult:y}}}}let a=[],d=1/0;if(s.forEach(w=>{const g=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(g<=o){const m=i(w);g<=d&&(g<d?a=[{handle:w,validHandleResult:m}]:g===d&&a.push({handle:w,validHandleResult:m}),d=g)}}),!a.length)return{handle:null,validHandleResult:Rn()};if(a.length===1)return a[0];const p=a.some(({validHandleResult:w})=>w.isValid),f=a.some(({handle:w})=>w.type==="target");return a.find(({handle:w,validHandleResult:g})=>f?w.type==="target":p?g.isValid:!0)||a[0]}const ps={source:null,target:null,sourceHandle:null,targetHandle:null},Rn=()=>({handleDomNode:null,isValid:!1,connection:ps,endHandle:null});function _n(e,t,n,o,s,i,r){const c=s==="target",l=r.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),u={...Rn(),handleDomNode:l};if(l){const a=Bt(void 0,l),d=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),f=l.classList.contains("connectable"),w=l.classList.contains("connectableend"),g={source:c?d:n,sourceHandle:c?p:o,target:c?n:d,targetHandle:c?o:p};u.connection=g,f&&w&&(t===Re.Strict?c&&a==="source"||!c&&a==="target":d!==n||p!==o)&&(u.endHandle={nodeId:d,handleId:p,type:a},u.isValid=i(g))}return u}function hs({nodes:e,nodeId:t,handleId:n,handleType:o}){return e.reduce((s,i)=>{if(i[j]){const{handleBounds:r}=i[j];let c=[],l=[];r&&(c=Qt(i,r,"source",`${t}-${n}-${o}`),l=Qt(i,r,"target",`${t}-${n}-${o}`)),s.push(...c,...l)}return s},[])}function Bt(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function yt(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function ms(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Dn({event:e,handleId:t,nodeId:n,onConnect:o,isTarget:s,getState:i,setState:r,isValidConnection:c,edgeUpdaterType:l,onReconnectEnd:u}){const a=wn(e.target),{connectionMode:d,domNode:p,autoPanOnConnect:f,connectionRadius:w,onConnectStart:g,panBy:m,getNodes:y,cancelConnection:E}=i();let N=0,C;const{x:I,y:$}=Se(e),V=a?.elementFromPoint(I,$),T=Bt(l,V),v=p?.getBoundingClientRect();if(!v||!T)return;let H,R=Se(e,v),_=!1,M=null,S=!1,A=null;const L=hs({nodes:y(),nodeId:n,handleId:t,handleType:T}),Z=()=>{if(!f)return;const[P,D]=En(R,v);m({x:P,y:D}),N=requestAnimationFrame(Z)};r({connectionPosition:R,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:T,connectionStartHandle:{nodeId:n,handleId:t,type:T},connectionEndHandle:null}),g?.(e,{nodeId:n,handleId:t,handleType:T});function F(P){const{transform:D}=i();R=Se(P,v);const{handle:k,validHandleResult:O}=gs(P,a,Mt(R,D,!1,[1,1]),w,L,Y=>_n(Y,d,n,t,s?"target":"source",c,a));if(C=k,_||(Z(),_=!0),A=O.handleDomNode,M=O.connection,S=O.isValid,r({connectionPosition:C&&S?An({x:C.x,y:C.y},D):R,connectionStatus:ms(!!C,S),connectionEndHandle:O.endHandle}),!C&&!S&&!A)return yt(H);M.source!==M.target&&A&&(yt(H),H=A,A.classList.add("connecting","react-flow__handle-connecting"),A.classList.toggle("valid",S),A.classList.toggle("react-flow__handle-valid",S))}function b(P){(C||A)&&M&&S&&o?.(M),i().onConnectEnd?.(P),l&&u?.(P),yt(H),E(),cancelAnimationFrame(N),_=!1,S=!1,M=null,A=null,a.removeEventListener("mousemove",F),a.removeEventListener("mouseup",b),a.removeEventListener("touchmove",F),a.removeEventListener("touchend",b)}a.addEventListener("mousemove",F),a.addEventListener("mouseup",b),a.addEventListener("touchmove",F),a.addEventListener("touchend",b)}const Jt=()=>!0,ys=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),xs=(e,t,n)=>o=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:r}=o;return{connecting:s?.nodeId===e&&s?.handleId===t&&s?.type===n||i?.nodeId===e&&i?.handleId===t&&i?.type===n,clickConnecting:r?.nodeId===e&&r?.handleId===t&&r?.type===n}},Tn=h.forwardRef(({type:e="source",position:t=z.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:r,onConnect:c,children:l,className:u,onMouseDown:a,onTouchStart:d,...p},f)=>{const w=r||null,g=e==="target",m=ee(),y=as(),{connectOnClick:E,noPanClassName:N}=K(ys,se),{connecting:C,clickConnecting:I}=K(xs(y,w,e),se);y||m.getState().onError?.("010",ye.error010());const $=v=>{const{defaultEdgeOptions:H,onConnect:R,hasDefaultEdges:_}=m.getState(),M={...H,...v};if(_){const{edges:S,setEdges:A}=m.getState();A(fs(M,S))}R?.(M),c?.(M)},V=v=>{if(!y)return;const H=bn(v);s&&(H&&v.button===0||!H)&&Dn({event:v,handleId:w,nodeId:y,onConnect:$,isTarget:g,getState:m.getState,setState:m.setState,isValidConnection:n||m.getState().isValidConnection||Jt}),H?a?.(v):d?.(v)},T=v=>{const{onClickConnectStart:H,onClickConnectEnd:R,connectionClickStartHandle:_,connectionMode:M,isValidConnection:S}=m.getState();if(!y||!_&&!s)return;if(!_){H?.(v,{nodeId:y,handleId:w,handleType:e}),m.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:w}});return}const A=wn(v.target),L=n||S||Jt,{connection:Z,isValid:F}=_n({nodeId:y,id:w,type:e},M,_.nodeId,_.handleId||null,_.type,L,A);F&&$(Z),R?.(v),m.setState({connectionClickStartHandle:null})};return x.createElement("div",{"data-handleid":w,"data-nodeid":y,"data-handlepos":t,"data-id":`${y}-${w}-${e}`,className:re(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",N,u,{source:!g,target:g,connectable:o,connectablestart:s,connectableend:i,connecting:I,connectionindicator:o&&(s&&!C||i&&C)}]),onMouseDown:V,onTouchStart:V,onClick:E?T:void 0,ref:f,...p},l)});Tn.displayName="Handle";var dt=h.memo(Tn);const kn=({data:e,isConnectable:t,targetPosition:n=z.Top,sourcePosition:o=z.Bottom})=>x.createElement(x.Fragment,null,x.createElement(dt,{type:"target",position:n,isConnectable:t}),e?.label,x.createElement(dt,{type:"source",position:o,isConnectable:t}));kn.displayName="DefaultNode";var At=h.memo(kn);const Pn=({data:e,isConnectable:t,sourcePosition:n=z.Bottom})=>x.createElement(x.Fragment,null,e?.label,x.createElement(dt,{type:"source",position:n,isConnectable:t}));Pn.displayName="InputNode";var zn=h.memo(Pn);const Bn=({data:e,isConnectable:t,targetPosition:n=z.Top})=>x.createElement(x.Fragment,null,x.createElement(dt,{type:"target",position:n,isConnectable:t}),e?.label);Bn.displayName="OutputNode";var Vn=h.memo(Bn);const Vt=()=>null;Vt.displayName="GroupNode";const Es=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),st=e=>e.id;function ws(e,t){return se(e.selectedNodes.map(st),t.selectedNodes.map(st))&&se(e.selectedEdges.map(st),t.selectedEdges.map(st))}const Ln=h.memo(({onSelectionChange:e})=>{const t=ee(),{selectedNodes:n,selectedEdges:o}=K(Es,ws);return h.useEffect(()=>{const s={nodes:n,edges:o};e?.(s),t.getState().onSelectionChange.forEach(i=>i(s))},[n,o,e]),null});Ln.displayName="SelectionListener";const Ss=e=>!!e.onSelectionChange;function bs({onSelectionChange:e}){const t=K(Ss);return e||t?x.createElement(Ln,{onSelectionChange:e}):null}const Ns=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Be(e,t){h.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function U(e,t,n){h.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const vs=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:s,onConnectStart:i,onConnectEnd:r,onClickConnectStart:c,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:a,nodesFocusable:d,edgesFocusable:p,edgesUpdatable:f,elevateNodesOnSelect:w,minZoom:g,maxZoom:m,nodeExtent:y,onNodesChange:E,onEdgesChange:N,elementsSelectable:C,connectionMode:I,snapGrid:$,snapToGrid:V,translateExtent:T,connectOnClick:v,defaultEdgeOptions:H,fitView:R,fitViewOptions:_,onNodesDelete:M,onEdgesDelete:S,onNodeDrag:A,onNodeDragStart:L,onNodeDragStop:Z,onSelectionDrag:F,onSelectionDragStart:b,onSelectionDragStop:P,noPanClassName:D,nodeOrigin:k,rfId:O,autoPanOnConnect:Y,autoPanOnNodeDrag:X,onError:q,connectionRadius:te,isValidConnection:ne,nodeDragThreshold:J})=>{const{setNodes:W,setEdges:de,setDefaultNodesAndEdges:ce,setMinZoom:ue,setMaxZoom:ae,setTranslateExtent:Q,setNodeExtent:ge,reset:G}=K(Ns,se),B=ee();return h.useEffect(()=>{const ie=o?.map(be=>({...be,...H}));return ce(n,ie),()=>{G()}},[]),U("defaultEdgeOptions",H,B.setState),U("connectionMode",I,B.setState),U("onConnect",s,B.setState),U("onConnectStart",i,B.setState),U("onConnectEnd",r,B.setState),U("onClickConnectStart",c,B.setState),U("onClickConnectEnd",l,B.setState),U("nodesDraggable",u,B.setState),U("nodesConnectable",a,B.setState),U("nodesFocusable",d,B.setState),U("edgesFocusable",p,B.setState),U("edgesUpdatable",f,B.setState),U("elementsSelectable",C,B.setState),U("elevateNodesOnSelect",w,B.setState),U("snapToGrid",V,B.setState),U("snapGrid",$,B.setState),U("onNodesChange",E,B.setState),U("onEdgesChange",N,B.setState),U("connectOnClick",v,B.setState),U("fitViewOnInit",R,B.setState),U("fitViewOnInitOptions",_,B.setState),U("onNodesDelete",M,B.setState),U("onEdgesDelete",S,B.setState),U("onNodeDrag",A,B.setState),U("onNodeDragStart",L,B.setState),U("onNodeDragStop",Z,B.setState),U("onSelectionDrag",F,B.setState),U("onSelectionDragStart",b,B.setState),U("onSelectionDragStop",P,B.setState),U("noPanClassName",D,B.setState),U("nodeOrigin",k,B.setState),U("rfId",O,B.setState),U("autoPanOnConnect",Y,B.setState),U("autoPanOnNodeDrag",X,B.setState),U("onError",q,B.setState),U("connectionRadius",te,B.setState),U("isValidConnection",ne,B.setState),U("nodeDragThreshold",J,B.setState),Be(e,W),Be(t,de),Be(g,ue),Be(m,ae),Be(T,Q),Be(y,ge),null},en={display:"none"},Cs={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},On="react-flow__node-desc",Fn="react-flow__edge-desc",Ms="react-flow__aria-live",As=e=>e.ariaLiveMessage;function $s({rfId:e}){const t=K(As);return x.createElement("div",{id:`${Ms}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Cs},t)}function Is({rfId:e,disableKeyboardA11y:t}){return x.createElement(x.Fragment,null,x.createElement("div",{id:`${On}-${e}`,style:en},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),x.createElement("div",{id:`${Fn}-${e}`,style:en},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&x.createElement($s,{rfId:e}))}var tt=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,o]=h.useState(!1),s=h.useRef(!1),i=h.useRef(new Set([])),[r,c]=h.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),a=u.reduce((d,p)=>d.concat(...p),[]);return[u,a]}return[[],[]]},[e]);return h.useEffect(()=>{const l=typeof document<"u"?document:null,u=t?.target||l;if(e!==null){const a=f=>{if(s.current=f.ctrlKey||f.metaKey||f.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&Nt(f))return!1;const g=nn(f.code,c);i.current.add(f[g]),tn(r,i.current,!1)&&(f.preventDefault(),o(!0))},d=f=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&Nt(f))return!1;const g=nn(f.code,c);tn(r,i.current,!0)?(o(!1),i.current.clear()):i.current.delete(f[g]),f.key==="Meta"&&i.current.clear(),s.current=!1},p=()=>{i.current.clear(),o(!1)};return u?.addEventListener("keydown",a),u?.addEventListener("keyup",d),window.addEventListener("blur",p),()=>{u?.removeEventListener("keydown",a),u?.removeEventListener("keyup",d),window.removeEventListener("blur",p)}}},[e,o]),n};function tn(e,t,n){return e.filter(o=>n||o.length===t.size).some(o=>o.every(s=>t.has(s)))}function nn(e,t){return t.includes(e)?"code":"key"}function Zn(e,t,n,o){const s=e.parentNode||e.parentId;if(!s)return n;const i=t.get(s),r=Ye(i,o);return Zn(i,t,{x:(n.x??0)+r.x,y:(n.y??0)+r.y,z:(i[j]?.z??0)>(n.z??0)?i[j]?.z??0:n.z??0},o)}function Yn(e,t,n){e.forEach(o=>{const s=o.parentNode||o.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n?.[o.id]){const{x:i,y:r,z:c}=Zn(o,e,{...o.position,z:o[j]?.z??0},t);o.positionAbsolute={x:i,y:r},o[j].z=c,n?.[o.id]&&(o[j].isParent=!0)}})}function xt(e,t,n,o){const s=new Map,i={},r=o?1e3:0;return e.forEach(c=>{const l=(le(c.zIndex)?c.zIndex:0)+(c.selected?r:0),u=t.get(c.id),a={...c,positionAbsolute:{x:c.position.x,y:c.position.y}},d=c.parentNode||c.parentId;d&&(i[d]=!0);const p=u?.type&&u?.type!==c.type;Object.defineProperty(a,j,{enumerable:!1,value:{handleBounds:p?void 0:u?.[j]?.handleBounds,z:l}}),s.set(c.id,a)}),Yn(s,n,i),s}function Un(e,t={}){const{getNodes:n,width:o,height:s,minZoom:i,maxZoom:r,d3Zoom:c,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:a,nodeOrigin:d}=e(),p=t.initial&&!u&&a;if(c&&l&&(p||!t.initial)){const w=n().filter(m=>{const y=t.includeHiddenNodes?m.width&&m.height:!m.hidden;return t.nodes?.length?y&&t.nodes.some(E=>E.id===m.id):y}),g=w.every(m=>m.width&&m.height);if(w.length>0&&g){const m=zt(w,d),{x:y,y:E,zoom:N}=Hn(m,o,s,t.minZoom??i,t.maxZoom??r,t.padding??.1),C=Ze.translate(y,E).scale(N);return typeof t.duration=="number"&&t.duration>0?c.transform(Ie(l,t.duration),C):c.transform(l,C),!0}}return!1}function Hs(e,t){return e.forEach(n=>{const o=t.get(n.id);o&&t.set(o.id,{...o,[j]:o[j],selected:n.selected})}),new Map(t)}function Rs(e,t){return t.map(n=>{const o=e.find(s=>s.id===n.id);return o&&(n.selected=o.selected),n})}function rt({changedNodes:e,changedEdges:t,get:n,set:o}){const{nodeInternals:s,edges:i,onNodesChange:r,onEdgesChange:c,hasDefaultNodes:l,hasDefaultEdges:u}=n();e?.length&&(l&&o({nodeInternals:Hs(e,s)}),r?.(e)),t?.length&&(u&&o({edges:Rs(t,i)}),c?.(t))}const Ve=()=>{},_s={zoomIn:Ve,zoomOut:Ve,zoomTo:Ve,getZoom:()=>1,setViewport:Ve,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ve,fitBounds:Ve,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Ds=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Ts=()=>{const e=ee(),{d3Zoom:t,d3Selection:n}=K(Ds,se);return h.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(Ie(n,s?.duration),1.2),zoomOut:s=>t.scaleBy(Ie(n,s?.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(Ie(n,i?.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[r,c,l]=e.getState().transform,u=Ze.translate(s.x??r,s.y??c).scale(s.zoom??l);t.transform(Ie(n,i?.duration),u)},getViewport:()=>{const[s,i,r]=e.getState().transform;return{x:s,y:i,zoom:r}},fitView:s=>Un(e.getState,s),setCenter:(s,i,r)=>{const{width:c,height:l,maxZoom:u}=e.getState(),a=typeof r?.zoom<"u"?r.zoom:u,d=c/2-s*a,p=l/2-i*a,f=Ze.translate(d,p).scale(a);t.transform(Ie(n,r?.duration),f)},fitBounds:(s,i)=>{const{width:r,height:c,minZoom:l,maxZoom:u}=e.getState(),{x:a,y:d,zoom:p}=Hn(s,r,c,l,u,i?.padding??.1),f=Ze.translate(a,d).scale(p);t.transform(Ie(n,i?.duration),f)},project:s=>{const{transform:i,snapToGrid:r,snapGrid:c}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Mt(s,i,r,c)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:r,snapGrid:c,domNode:l}=e.getState();if(!l)return s;const{x:u,y:a}=l.getBoundingClientRect(),d={x:s.x-u,y:s.y-a};return Mt(d,i,r,c)},flowToScreenPosition:s=>{const{transform:i,domNode:r}=e.getState();if(!r)return s;const{x:c,y:l}=r.getBoundingClientRect(),u=An(s,i);return{x:u.x+c,y:u.y+l}},viewportInitialized:!0}:_s,[t,n])};function Lt(){const e=Ts(),t=ee(),n=h.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),o=h.useCallback(g=>t.getState().nodeInternals.get(g),[]),s=h.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(m=>({...m}))},[]),i=h.useCallback(g=>{const{edges:m=[]}=t.getState();return m.find(y=>y.id===g)},[]),r=h.useCallback(g=>{const{getNodes:m,setNodes:y,hasDefaultNodes:E,onNodesChange:N}=t.getState(),C=m(),I=typeof g=="function"?g(C):g;if(E)y(I);else if(N){const $=I.length===0?C.map(V=>({type:"remove",id:V.id})):I.map(V=>({item:V,type:"reset"}));N($)}},[]),c=h.useCallback(g=>{const{edges:m=[],setEdges:y,hasDefaultEdges:E,onEdgesChange:N}=t.getState(),C=typeof g=="function"?g(m):g;if(E)y(C);else if(N){const I=C.length===0?m.map($=>({type:"remove",id:$.id})):C.map($=>({item:$,type:"reset"}));N(I)}},[]),l=h.useCallback(g=>{const m=Array.isArray(g)?g:[g],{getNodes:y,setNodes:E,hasDefaultNodes:N,onNodesChange:C}=t.getState();if(N){const $=[...y(),...m];E($)}else if(C){const I=m.map($=>({item:$,type:"add"}));C(I)}},[]),u=h.useCallback(g=>{const m=Array.isArray(g)?g:[g],{edges:y=[],setEdges:E,hasDefaultEdges:N,onEdgesChange:C}=t.getState();if(N)E([...y,...m]);else if(C){const I=m.map($=>({item:$,type:"add"}));C(I)}},[]),a=h.useCallback(()=>{const{getNodes:g,edges:m=[],transform:y}=t.getState(),[E,N,C]=y;return{nodes:g().map(I=>({...I})),edges:m.map(I=>({...I})),viewport:{x:E,y:N,zoom:C}}},[]),d=h.useCallback(({nodes:g,edges:m})=>{const{nodeInternals:y,getNodes:E,edges:N,hasDefaultNodes:C,hasDefaultEdges:I,onNodesDelete:$,onEdgesDelete:V,onNodesChange:T,onEdgesChange:v}=t.getState(),H=(g||[]).map(A=>A.id),R=(m||[]).map(A=>A.id),_=E().reduce((A,L)=>{const Z=L.parentNode||L.parentId,F=!H.includes(L.id)&&Z&&A.find(P=>P.id===Z);return(typeof L.deletable=="boolean"?L.deletable:!0)&&(H.includes(L.id)||F)&&A.push(L),A},[]),M=N.filter(A=>typeof A.deletable=="boolean"?A.deletable:!0),S=M.filter(A=>R.includes(A.id));if(_||S){const A=In(_,M),L=[...S,...A],Z=L.reduce((F,b)=>(F.includes(b.id)||F.push(b.id),F),[]);if((I||C)&&(I&&t.setState({edges:N.filter(F=>!Z.includes(F.id))}),C&&(_.forEach(F=>{y.delete(F.id)}),t.setState({nodeInternals:new Map(y)}))),Z.length>0&&(V?.(L),v&&v(Z.map(F=>({id:F,type:"remove"})))),_.length>0&&($?.(_),T)){const F=_.map(b=>({id:b.id,type:"remove"}));T(F)}}},[]),p=h.useCallback(g=>{const m=es(g),y=m?null:t.getState().nodeInternals.get(g.id);return!m&&!y?[null,null,m]:[m?g:Wt(y),y,m]},[]),f=h.useCallback((g,m=!0,y)=>{const[E,N,C]=p(g);return E?(y||t.getState().getNodes()).filter(I=>{if(!C&&(I.id===N.id||!I.positionAbsolute))return!1;const $=Wt(I),V=bt($,E);return m&&V>0||V>=E.width*E.height}):[]},[]),w=h.useCallback((g,m,y=!0)=>{const[E]=p(g);if(!E)return!1;const N=bt(E,m);return y&&N>0||N>=E.width*E.height},[]);return h.useMemo(()=>({...e,getNodes:n,getNode:o,getEdges:s,getEdge:i,setNodes:r,setEdges:c,addNodes:l,addEdges:u,toObject:a,deleteElements:d,getIntersectingNodes:f,isNodeIntersecting:w}),[e,n,o,s,i,r,c,l,u,a,d,f,w])}const ks={actInsideInputWithModifier:!1};var Ps=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=ee(),{deleteElements:o}=Lt(),s=tt(e,ks),i=tt(t);h.useEffect(()=>{if(s){const{edges:r,getNodes:c}=n.getState(),l=c().filter(a=>a.selected),u=r.filter(a=>a.selected);o({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),h.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function zs(e){const t=ee();h.useEffect(()=>{let n;const o=()=>{if(!e.current)return;const s=Ht(e.current);(s.height===0||s.width===0)&&t.getState().onError?.("004",ye.error004()),t.setState({width:s.width||500,height:s.height||500})};return o(),window.addEventListener("resize",o),e.current&&(n=new ResizeObserver(()=>o()),n.observe(e.current)),()=>{window.removeEventListener("resize",o),n&&e.current&&n.unobserve(e.current)}},[])}const Ot={position:"absolute",width:"100%",height:"100%",top:0,left:0},Bs=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,it=e=>({x:e.x,y:e.y,zoom:e.k}),Le=(e,t)=>e.target.closest(`.${t}`),on=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),sn=e=>{const t=e.ctrlKey&&ct()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Vs=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Ls=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:o,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:r=!1,panOnScrollSpeed:c=.5,panOnScrollMode:l=He.Free,zoomOnDoubleClick:u=!0,elementsSelectable:a,panOnDrag:d=!0,defaultViewport:p,translateExtent:f,minZoom:w,maxZoom:g,zoomActivationKeyCode:m,preventScrolling:y=!0,children:E,noWheelClassName:N,noPanClassName:C})=>{const I=h.useRef(),$=ee(),V=h.useRef(!1),T=h.useRef(!1),v=h.useRef(null),H=h.useRef({x:0,y:0,zoom:0}),{d3Zoom:R,d3Selection:_,d3ZoomHandler:M,userSelectionActive:S}=K(Vs,se),A=tt(m),L=h.useRef(0),Z=h.useRef(!1),F=h.useRef();return zs(v),h.useEffect(()=>{if(v.current){const b=v.current.getBoundingClientRect(),P=Fo().scaleExtent([w,g]).translateExtent(f),D=mn(v.current).call(P),k=Ze.translate(p.x,p.y).scale(Xe(p.zoom,w,g)),O=[[0,0],[b.width,b.height]],Y=P.constrain()(k,O,f);P.transform(D,Y),P.wheelDelta(sn),$.setState({d3Zoom:P,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[Y.x,Y.y,Y.k],domNode:v.current.closest(".react-flow")})}},[]),h.useEffect(()=>{_&&R&&(r&&!A&&!S?_.on("wheel.zoom",b=>{if(Le(b,N))return!1;b.preventDefault(),b.stopImmediatePropagation();const P=_.property("__zoom").k||1;if(b.ctrlKey&&i){const ne=Zo(b),J=sn(b),W=P*Math.pow(2,J);R.scaleTo(_,W,ne,b);return}const D=b.deltaMode===1?20:1;let k=l===He.Vertical?0:b.deltaX*D,O=l===He.Horizontal?0:b.deltaY*D;!ct()&&b.shiftKey&&l!==He.Vertical&&(k=b.deltaY*D,O=0),R.translateBy(_,-(k/P)*c,-(O/P)*c,{internal:!0});const Y=it(_.property("__zoom")),{onViewportChangeStart:X,onViewportChange:q,onViewportChangeEnd:te}=$.getState();clearTimeout(F.current),Z.current||(Z.current=!0,t?.(b,Y),X?.(Y)),Z.current&&(e?.(b,Y),q?.(Y),F.current=setTimeout(()=>{n?.(b,Y),te?.(Y),Z.current=!1},150))},{passive:!1}):typeof M<"u"&&_.on("wheel.zoom",function(b,P){if(!y&&b.type==="wheel"&&!b.ctrlKey||Le(b,N))return null;b.preventDefault(),M.call(this,b,P)},{passive:!1}))},[S,r,l,_,R,M,A,i,y,N,t,e,n]),h.useEffect(()=>{R&&R.on("start",b=>{if(!b.sourceEvent||b.sourceEvent.internal)return null;L.current=b.sourceEvent?.button;const{onViewportChangeStart:P}=$.getState(),D=it(b.transform);V.current=!0,H.current=D,b.sourceEvent?.type==="mousedown"&&$.setState({paneDragging:!0}),P?.(D),t?.(b.sourceEvent,D)})},[R,t]),h.useEffect(()=>{R&&(S&&!V.current?R.on("zoom",null):S||R.on("zoom",b=>{const{onViewportChange:P}=$.getState();if($.setState({transform:[b.transform.x,b.transform.y,b.transform.k]}),T.current=!!(o&&on(d,L.current??0)),(e||P)&&!b.sourceEvent?.internal){const D=it(b.transform);P?.(D),e?.(b.sourceEvent,D)}}))},[S,R,e,d,o]),h.useEffect(()=>{R&&R.on("end",b=>{if(!b.sourceEvent||b.sourceEvent.internal)return null;const{onViewportChangeEnd:P}=$.getState();if(V.current=!1,$.setState({paneDragging:!1}),o&&on(d,L.current??0)&&!T.current&&o(b.sourceEvent),T.current=!1,(n||P)&&Bs(H.current,b.transform)){const D=it(b.transform);H.current=D,clearTimeout(I.current),I.current=setTimeout(()=>{P?.(D),n?.(b.sourceEvent,D)},r?150:0)}})},[R,r,d,n,o]),h.useEffect(()=>{R&&R.filter(b=>{const P=A||s,D=i&&b.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&b.button===1&&b.type==="mousedown"&&(Le(b,"react-flow__node")||Le(b,"react-flow__edge")))return!0;if(!d&&!P&&!r&&!u&&!i||S||!u&&b.type==="dblclick"||Le(b,N)&&b.type==="wheel"||Le(b,C)&&(b.type!=="wheel"||r&&b.type==="wheel"&&!A)||!i&&b.ctrlKey&&b.type==="wheel"||!P&&!r&&!D&&b.type==="wheel"||!d&&(b.type==="mousedown"||b.type==="touchstart")||Array.isArray(d)&&!d.includes(b.button)&&b.type==="mousedown")return!1;const k=Array.isArray(d)&&d.includes(b.button)||!b.button||b.button<=1;return(!b.ctrlKey||b.type==="wheel")&&k})},[S,R,s,i,r,u,d,a,A]),x.createElement("div",{className:"react-flow__renderer",ref:v,style:Ot},E)},Os=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Fs(){const{userSelectionActive:e,userSelectionRect:t}=K(Os,se);return e&&t?x.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function rn(e,t){const n=t.parentNode||t.parentId,o=e.find(s=>s.id===n);if(o){const s=t.position.x+t.width-o.width,i=t.position.y+t.height-o.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(o.style={...o.style},o.style.width=o.style.width??o.width,o.style.height=o.style.height??o.height,s>0&&(o.style.width+=s),i>0&&(o.style.height+=i),t.position.x<0){const r=Math.abs(t.position.x);o.position.x=o.position.x-r,o.style.width+=r,t.position.x=0}if(t.position.y<0){const r=Math.abs(t.position.y);o.position.y=o.position.y-r,o.style.height+=r,t.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function Zs(e,t){if(e.some(o=>o.type==="reset"))return e.filter(o=>o.type==="reset").map(o=>o.item);const n=e.filter(o=>o.type==="add").map(o=>o.item);return t.reduce((o,s)=>{const i=e.filter(c=>c.id===s.id);if(i.length===0)return o.push(s),o;const r={...s};for(const c of i)if(c)switch(c.type){case"select":{r.selected=c.selected;break}case"position":{typeof c.position<"u"&&(r.position=c.position),typeof c.positionAbsolute<"u"&&(r.positionAbsolute=c.positionAbsolute),typeof c.dragging<"u"&&(r.dragging=c.dragging),r.expandParent&&rn(o,r);break}case"dimensions":{typeof c.dimensions<"u"&&(r.width=c.dimensions.width,r.height=c.dimensions.height),typeof c.updateStyle<"u"&&(r.style={...r.style||{},...c.dimensions}),typeof c.resizing=="boolean"&&(r.resizing=c.resizing),r.expandParent&&rn(o,r);break}case"remove":return o}return o.push(r),o},n)}function Xn(e,t){return Zs(e,t)}const Ee=(e,t)=>({id:e,type:"select",selected:t});function Fe(e,t){return e.reduce((n,o)=>{const s=t.includes(o.id);return!o.selected&&s?(o.selected=!0,n.push(Ee(o.id,!0))):o.selected&&!s&&(o.selected=!1,n.push(Ee(o.id,!1))),n},[])}const Et=(e,t)=>n=>{n.target===t.current&&e?.(n)},Ys=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Wn=h.memo(({isSelecting:e,selectionMode:t=et.Full,panOnDrag:n,onSelectionStart:o,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:r,onPaneScroll:c,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:a,children:d})=>{const p=h.useRef(null),f=ee(),w=h.useRef(0),g=h.useRef(0),m=h.useRef(),{userSelectionActive:y,elementsSelectable:E,dragging:N}=K(Ys,se),C=()=>{f.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,g.current=0},I=M=>{i?.(M),f.getState().resetSelectedElements(),f.setState({nodesSelectionActive:!1})},$=M=>{if(Array.isArray(n)&&n?.includes(2)){M.preventDefault();return}r?.(M)},V=c?M=>c(M):void 0,T=M=>{const{resetSelectedElements:S,domNode:A}=f.getState();if(m.current=A?.getBoundingClientRect(),!E||!e||M.button!==0||M.target!==p.current||!m.current)return;const{x:L,y:Z}=Se(M,m.current);S(),f.setState({userSelectionRect:{width:0,height:0,startX:L,startY:Z,x:L,y:Z}}),o?.(M)},v=M=>{const{userSelectionRect:S,nodeInternals:A,edges:L,transform:Z,onNodesChange:F,onEdgesChange:b,nodeOrigin:P,getNodes:D}=f.getState();if(!e||!m.current||!S)return;f.setState({userSelectionActive:!0,nodesSelectionActive:!1});const k=Se(M,m.current),O=S.startX??0,Y=S.startY??0,X={...S,x:k.x<O?k.x:O,y:k.y<Y?k.y:Y,width:Math.abs(k.x-O),height:Math.abs(k.y-Y)},q=D(),te=$n(A,X,Z,t===et.Partial,!0,P),ne=In(te,L).map(W=>W.id),J=te.map(W=>W.id);if(w.current!==J.length){w.current=J.length;const W=Fe(q,J);W.length&&F?.(W)}if(g.current!==ne.length){g.current=ne.length;const W=Fe(L,ne);W.length&&b?.(W)}f.setState({userSelectionRect:X})},H=M=>{if(M.button!==0)return;const{userSelectionRect:S}=f.getState();!y&&S&&M.target===p.current&&I?.(M),f.setState({nodesSelectionActive:w.current>0}),C(),s?.(M)},R=M=>{y&&(f.setState({nodesSelectionActive:w.current>0}),s?.(M)),C()},_=E&&(e||y);return x.createElement("div",{className:re(["react-flow__pane",{dragging:N,selection:e}]),onClick:_?void 0:Et(I,p),onContextMenu:Et($,p),onWheel:Et(V,p),onMouseEnter:_?void 0:l,onMouseDown:_?T:void 0,onMouseMove:_?v:u,onMouseUp:_?H:void 0,onMouseLeave:_?R:a,ref:p,style:Ot},d,x.createElement(Fs,null))});Wn.displayName="Pane";function Gn(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const o=t.get(n);return o?o.selected?!0:Gn(o,t):!1}function cn(e,t,n){let o=e;do{if(o?.matches(t))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function Us(e,t,n,o){return Array.from(e.values()).filter(s=>(s.selected||s.id===o)&&(!s.parentNode||s.parentId||!Gn(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(s.positionAbsolute?.x??0),y:n.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function Xs(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Kn(e,t,n,o,s=[0,0],i){const r=Xs(e,e.extent||o);let c=r;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=n.get(l),{x:p,y:f}=Ye(d,s).positionAbsolute;c=d&&le(p)&&le(f)&&le(d.width)&&le(d.height)?[[p+e.width*s[0],f+e.height*s[1]],[p+d.width-e.width+e.width*s[0],f+d.height-e.height+e.height*s[1]]]:c}else i?.("005",ye.error005()),c=r;else if(e.extent&&l&&e.extent!=="parent"){const d=n.get(l),{x:p,y:f}=Ye(d,s).positionAbsolute;c=[[e.extent[0][0]+p,e.extent[0][1]+f],[e.extent[1][0]+p,e.extent[1][1]+f]]}let u={x:0,y:0};if(l){const d=n.get(l);u=Ye(d,s).positionAbsolute}const a=c&&c!=="parent"?Rt(t,c):t;return{position:{x:a.x-u.x,y:a.y-u.y},positionAbsolute:a}}function wt({nodeId:e,dragItems:t,nodeInternals:n}){const o=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?o.find(s=>s.id===e):o[0],o]}const an=(e,t,n,o)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),r=t.getBoundingClientRect(),c={x:r.width*o[0],y:r.height*o[1]};return i.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-r.left-c.x)/n,y:(u.top-r.top-c.y)/n,...Ht(l)}})};function qe(e,t,n){return n===void 0?n:o=>{const s=t().nodeInternals.get(e);s&&n(o,{...s})}}function $t({id:e,store:t,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:r,nodeInternals:c,onError:l}=t.getState(),u=c.get(e);if(!u){l?.("012",ye.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&r)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):s([e])}function Ws(){const e=ee();return h.useCallback(({sourceEvent:n})=>{const{transform:o,snapGrid:s,snapToGrid:i}=e.getState(),r=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,l={x:(r-o[0])/o[2],y:(c-o[1])/o[2]};return{xSnapped:i?s[0]*Math.round(l.x/s[0]):l.x,ySnapped:i?s[1]*Math.round(l.y/s[1]):l.y,...l}},[])}function St(e){return(t,n,o)=>e?.(t,o)}function jn({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:o,nodeId:s,isSelectable:i,selectNodesOnDrag:r}){const c=ee(),[l,u]=h.useState(!1),a=h.useRef([]),d=h.useRef({x:null,y:null}),p=h.useRef(0),f=h.useRef(null),w=h.useRef({x:0,y:0}),g=h.useRef(null),m=h.useRef(!1),y=h.useRef(!1),E=h.useRef(!1),N=Ws();return h.useEffect(()=>{if(e?.current){const C=mn(e.current),I=({x:T,y:v})=>{const{nodeInternals:H,onNodeDrag:R,onSelectionDrag:_,updateNodePositions:M,nodeExtent:S,snapGrid:A,snapToGrid:L,nodeOrigin:Z,onError:F}=c.getState();d.current={x:T,y:v};let b=!1,P={x:0,y:0,x2:0,y2:0};if(a.current.length>1&&S){const k=zt(a.current,Z);P=_t(k)}if(a.current=a.current.map(k=>{const O={x:T-k.distance.x,y:v-k.distance.y};L&&(O.x=A[0]*Math.round(O.x/A[0]),O.y=A[1]*Math.round(O.y/A[1]));const Y=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];a.current.length>1&&S&&!k.extent&&(Y[0][0]=k.positionAbsolute.x-P.x+S[0][0],Y[1][0]=k.positionAbsolute.x+(k.width??0)-P.x2+S[1][0],Y[0][1]=k.positionAbsolute.y-P.y+S[0][1],Y[1][1]=k.positionAbsolute.y+(k.height??0)-P.y2+S[1][1]);const X=Kn(k,O,H,Y,Z,F);return b=b||k.position.x!==X.position.x||k.position.y!==X.position.y,k.position=X.position,k.positionAbsolute=X.positionAbsolute,k}),!b)return;M(a.current,!0,!0),u(!0);const D=s?R:St(_);if(D&&g.current){const[k,O]=wt({nodeId:s,dragItems:a.current,nodeInternals:H});D(g.current,k,O)}},$=()=>{if(!f.current)return;const[T,v]=En(w.current,f.current);if(T!==0||v!==0){const{transform:H,panBy:R}=c.getState();d.current.x=(d.current.x??0)-T/H[2],d.current.y=(d.current.y??0)-v/H[2],R({x:T,y:v})&&I(d.current)}p.current=requestAnimationFrame($)},V=T=>{const{nodeInternals:v,multiSelectionActive:H,nodesDraggable:R,unselectNodesAndEdges:_,onNodeDragStart:M,onSelectionDragStart:S}=c.getState();y.current=!0;const A=s?M:St(S);(!r||!i)&&!H&&s&&(v.get(s)?.selected||_()),s&&i&&r&&$t({id:s,store:c,nodeRef:e});const L=N(T);if(d.current=L,a.current=Us(v,R,L,s),A&&a.current){const[Z,F]=wt({nodeId:s,dragItems:a.current,nodeInternals:v});A(T.sourceEvent,Z,F)}};if(t)C.on(".drag",null);else{const T=Yo().on("start",v=>{const{domNode:H,nodeDragThreshold:R}=c.getState();R===0&&V(v),E.current=!1;const _=N(v);d.current=_,f.current=H?.getBoundingClientRect()||null,w.current=Se(v.sourceEvent,f.current)}).on("drag",v=>{const H=N(v),{autoPanOnNodeDrag:R,nodeDragThreshold:_}=c.getState();if(v.sourceEvent.type==="touchmove"&&v.sourceEvent.touches.length>1&&(E.current=!0),!E.current){if(!m.current&&y.current&&R&&(m.current=!0,$()),!y.current){const M=H.xSnapped-(d?.current?.x??0),S=H.ySnapped-(d?.current?.y??0);Math.sqrt(M*M+S*S)>_&&V(v)}(d.current.x!==H.xSnapped||d.current.y!==H.ySnapped)&&a.current&&y.current&&(g.current=v.sourceEvent,w.current=Se(v.sourceEvent,f.current),I(H))}}).on("end",v=>{if(!(!y.current||E.current)&&(u(!1),m.current=!1,y.current=!1,cancelAnimationFrame(p.current),a.current)){const{updateNodePositions:H,nodeInternals:R,onNodeDragStop:_,onSelectionDragStop:M}=c.getState(),S=s?_:St(M);if(H(a.current,!1,!1),S){const[A,L]=wt({nodeId:s,dragItems:a.current,nodeInternals:R});S(v.sourceEvent,A,L)}}}).filter(v=>{const H=v.target;return!v.button&&(!n||!cn(H,`.${n}`,e))&&(!o||cn(H,o,e))});return C.call(T),()=>{C.on(".drag",null)}}}},[e,t,n,o,i,c,s,r,N]),l}function qn(){const e=ee();return h.useCallback(n=>{const{nodeInternals:o,nodeExtent:s,updateNodePositions:i,getNodes:r,snapToGrid:c,snapGrid:l,onError:u,nodesDraggable:a}=e.getState(),d=r().filter(E=>E.selected&&(E.draggable||a&&typeof E.draggable>"u")),p=c?l[0]:5,f=c?l[1]:5,w=n.isShiftPressed?4:1,g=n.x*p*w,m=n.y*f*w,y=d.map(E=>{if(E.positionAbsolute){const N={x:E.positionAbsolute.x+g,y:E.positionAbsolute.y+m};c&&(N.x=l[0]*Math.round(N.x/l[0]),N.y=l[1]*Math.round(N.y/l[1]));const{positionAbsolute:C,position:I}=Kn(E,N,o,s,void 0,u);E.position=I,E.positionAbsolute=C}return E});i(y,!0,!1)},[])}const Ue={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Qe=e=>{const t=({id:n,type:o,data:s,xPos:i,yPos:r,xPosOrigin:c,yPosOrigin:l,selected:u,onClick:a,onMouseEnter:d,onMouseMove:p,onMouseLeave:f,onContextMenu:w,onDoubleClick:g,style:m,className:y,isDraggable:E,isSelectable:N,isConnectable:C,isFocusable:I,selectNodesOnDrag:$,sourcePosition:V,targetPosition:T,hidden:v,resizeObserver:H,dragHandle:R,zIndex:_,isParent:M,noDragClassName:S,noPanClassName:A,initialized:L,disableKeyboardA11y:Z,ariaLabel:F,rfId:b,hasHandleBounds:P})=>{const D=ee(),k=h.useRef(null),O=h.useRef(null),Y=h.useRef(V),X=h.useRef(T),q=h.useRef(o),te=N||E||a||d||p||f,ne=qn(),J=qe(n,D.getState,d),W=qe(n,D.getState,p),de=qe(n,D.getState,f),ce=qe(n,D.getState,w),ue=qe(n,D.getState,g),ae=G=>{const{nodeDragThreshold:B}=D.getState();if(N&&(!$||!E||B>0)&&$t({id:n,store:D,nodeRef:k}),a){const ie=D.getState().nodeInternals.get(n);ie&&a(G,{...ie})}},Q=G=>{if(!Nt(G)&&!Z)if(Sn.includes(G.key)&&N){const B=G.key==="Escape";$t({id:n,store:D,unselect:B,nodeRef:k})}else E&&u&&Object.prototype.hasOwnProperty.call(Ue,G.key)&&(D.setState({ariaLiveMessage:`Moved selected node ${G.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~r}`}),ne({x:Ue[G.key].x,y:Ue[G.key].y,isShiftPressed:G.shiftKey}))};h.useEffect(()=>()=>{O.current&&(H?.unobserve(O.current),O.current=null)},[]),h.useEffect(()=>{if(k.current&&!v){const G=k.current;(!L||!P||O.current!==G)&&(O.current&&H?.unobserve(O.current),H?.observe(G),O.current=G)}},[v,L,P]),h.useEffect(()=>{const G=q.current!==o,B=Y.current!==V,ie=X.current!==T;k.current&&(G||B||ie)&&(G&&(q.current=o),B&&(Y.current=V),ie&&(X.current=T),D.getState().updateNodeDimensions([{id:n,nodeElement:k.current,forceUpdate:!0}]))},[n,o,V,T]);const ge=jn({nodeRef:k,disabled:v||!E,noDragClassName:S,handleSelector:R,nodeId:n,isSelectable:N,selectNodesOnDrag:$});return v?null:x.createElement("div",{className:re(["react-flow__node",`react-flow__node-${o}`,{[A]:E},y,{selected:u,selectable:N,parent:M,dragging:ge}]),ref:k,style:{zIndex:_,transform:`translate(${c}px,${l}px)`,pointerEvents:te?"all":"none",visibility:L?"visible":"hidden",...m},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:J,onMouseMove:W,onMouseLeave:de,onContextMenu:ce,onClick:ae,onDoubleClick:ue,onKeyDown:I?Q:void 0,tabIndex:I?0:void 0,role:I?"button":void 0,"aria-describedby":Z?void 0:`${On}-${b}`,"aria-label":F},x.createElement(cs,{value:n},x.createElement(e,{id:n,data:s,type:o,xPos:i,yPos:r,selected:u,isConnectable:C,sourcePosition:V,targetPosition:T,dragging:ge,dragHandle:R,zIndex:_})))};return t.displayName="NodeWrapper",h.memo(t)};const Gs=e=>{const t=e.getNodes().filter(n=>n.selected);return{...zt(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Ks({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const o=ee(),{width:s,height:i,x:r,y:c,transformString:l,userSelectionActive:u}=K(Gs,se),a=qn(),d=h.useRef(null);if(h.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),jn({nodeRef:d}),u||!s||!i)return null;const p=e?w=>{const g=o.getState().getNodes().filter(m=>m.selected);e(w,g)}:void 0,f=w=>{Object.prototype.hasOwnProperty.call(Ue,w.key)&&a({x:Ue[w.key].x,y:Ue[w.key].y,isShiftPressed:w.shiftKey})};return x.createElement("div",{className:re(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},x.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:s,height:i,top:c,left:r}}))}var js=h.memo(Ks);const qs=e=>e.nodesSelectionActive,Qn=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:r,deleteKeyCode:c,onMove:l,onMoveStart:u,onMoveEnd:a,selectionKeyCode:d,selectionOnDrag:p,selectionMode:f,onSelectionStart:w,onSelectionEnd:g,multiSelectionKeyCode:m,panActivationKeyCode:y,zoomActivationKeyCode:E,elementsSelectable:N,zoomOnScroll:C,zoomOnPinch:I,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:T,zoomOnDoubleClick:v,panOnDrag:H,defaultViewport:R,translateExtent:_,minZoom:M,maxZoom:S,preventScrolling:A,onSelectionContextMenu:L,noWheelClassName:Z,noPanClassName:F,disableKeyboardA11y:b})=>{const P=K(qs),D=tt(d),k=tt(y),O=k||H,Y=k||$,X=D||p&&O!==!0;return Ps({deleteKeyCode:c,multiSelectionKeyCode:m}),x.createElement(Ls,{onMove:l,onMoveStart:u,onMoveEnd:a,onPaneContextMenu:i,elementsSelectable:N,zoomOnScroll:C,zoomOnPinch:I,panOnScroll:Y,panOnScrollSpeed:V,panOnScrollMode:T,zoomOnDoubleClick:v,panOnDrag:!D&&O,defaultViewport:R,translateExtent:_,minZoom:M,maxZoom:S,zoomActivationKeyCode:E,preventScrolling:A,noWheelClassName:Z,noPanClassName:F},x.createElement(Wn,{onSelectionStart:w,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:r,panOnDrag:O,isSelecting:!!X,selectionMode:f},e,P&&x.createElement(js,{onSelectionContextMenu:L,noPanClassName:F,disableKeyboardA11y:b})))};Qn.displayName="FlowRenderer";var Qs=h.memo(Qn);function Js(e){return K(h.useCallback(n=>e?$n(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function er(e){const t={input:Qe(e.input||zn),default:Qe(e.default||At),output:Qe(e.output||Vn),group:Qe(e.group||Vt)},n={},o=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=Qe(e[i]||At),s),n);return{...t,...o}}const tr=({x:e,y:t,width:n,height:o,origin:s})=>!n||!o?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-o*s[1]},nr=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Jn=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:s,updateNodeDimensions:i,onError:r}=K(nr,se),c=Js(e.onlyRenderVisibleElements),l=h.useRef(),u=h.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const a=new ResizeObserver(d=>{const p=d.map(f=>({id:f.target.getAttribute("data-id"),nodeElement:f.target,forceUpdate:!0}));i(p)});return l.current=a,a},[]);return h.useEffect(()=>()=>{l?.current?.disconnect()},[]),x.createElement("div",{className:"react-flow__nodes",style:Ot},c.map(a=>{let d=a.type||"default";e.nodeTypes[d]||(r?.("003",ye.error003(d)),d="default");const p=e.nodeTypes[d]||e.nodeTypes.default,f=!!(a.draggable||t&&typeof a.draggable>"u"),w=!!(a.selectable||s&&typeof a.selectable>"u"),g=!!(a.connectable||n&&typeof a.connectable>"u"),m=!!(a.focusable||o&&typeof a.focusable>"u"),y=e.nodeExtent?Rt(a.positionAbsolute,e.nodeExtent):a.positionAbsolute,E=y?.x??0,N=y?.y??0,C=tr({x:E,y:N,width:a.width??0,height:a.height??0,origin:e.nodeOrigin});return x.createElement(p,{key:a.id,id:a.id,className:a.className,style:a.style,type:d,data:a.data,sourcePosition:a.sourcePosition||z.Bottom,targetPosition:a.targetPosition||z.Top,hidden:a.hidden,xPos:E,yPos:N,xPosOrigin:C.x,yPosOrigin:C.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!a.selected,isDraggable:f,isSelectable:w,isConnectable:g,isFocusable:m,resizeObserver:u,dragHandle:a.dragHandle,zIndex:a[j]?.z??0,isParent:!!a[j]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!a.width&&!!a.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:a.ariaLabel,hasHandleBounds:!!a[j]?.handleBounds})}))};Jn.displayName="NodeRenderer";var or=h.memo(Jn);const sr=(e,t,n)=>n===z.Left?e-t:n===z.Right?e+t:e,rr=(e,t,n)=>n===z.Top?e-t:n===z.Bottom?e+t:e,ln="react-flow__edgeupdater",dn=({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:s,onMouseEnter:i,onMouseOut:r,type:c})=>x.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:r,className:re([ln,`${ln}-${c}`]),cx:sr(t,o,e),cy:rr(n,o,e),r:o,stroke:"transparent",fill:"transparent"}),ir=()=>!0;var Oe=e=>{const t=({id:n,className:o,type:s,data:i,onClick:r,onEdgeDoubleClick:c,selected:l,animated:u,label:a,labelStyle:d,labelShowBg:p,labelBgStyle:f,labelBgPadding:w,labelBgBorderRadius:g,style:m,source:y,target:E,sourceX:N,sourceY:C,targetX:I,targetY:$,sourcePosition:V,targetPosition:T,elementsSelectable:v,hidden:H,sourceHandleId:R,targetHandleId:_,onContextMenu:M,onMouseEnter:S,onMouseMove:A,onMouseLeave:L,reconnectRadius:Z,onReconnect:F,onReconnectStart:b,onReconnectEnd:P,markerEnd:D,markerStart:k,rfId:O,ariaLabel:Y,isFocusable:X,isReconnectable:q,pathOptions:te,interactionWidth:ne,disableKeyboardA11y:J})=>{const W=h.useRef(null),[de,ce]=h.useState(!1),[ue,ae]=h.useState(!1),Q=ee(),ge=h.useMemo(()=>`url('#${Ct(k,O)}')`,[k,O]),G=h.useMemo(()=>`url('#${Ct(D,O)}')`,[D,O]);if(H)return null;const B=oe=>{const{edges:pe,addSelectedEdges:Ce,unselectNodesAndEdges:Me,multiSelectionActive:ze}=Q.getState(),he=pe.find(Ae=>Ae.id===n);he&&(v&&(Q.setState({nodesSelectionActive:!1}),he.selected&&ze?(Me({nodes:[],edges:[he]}),W.current?.blur()):Ce([n])),r&&r(oe,he))},ie=je(n,Q.getState,c),be=je(n,Q.getState,M),We=je(n,Q.getState,S),_e=je(n,Q.getState,A),De=je(n,Q.getState,L),me=(oe,pe)=>{if(oe.button!==0)return;const{edges:Ce,isValidConnection:Me}=Q.getState(),ze=pe?E:y,he=(pe?_:R)||null,Ae=pe?"target":"source",gt=Me||ir,pt=pe,Ke=Ce.find($e=>$e.id===n);ae(!0),b?.(oe,Ke,Ae);const ht=$e=>{ae(!1),P?.($e,Ke,Ae)};Dn({event:oe,handleId:he,nodeId:ze,onConnect:$e=>F?.(Ke,$e),isTarget:pt,getState:Q.getState,setState:Q.setState,isValidConnection:gt,edgeUpdaterType:Ae,onReconnectEnd:ht})},Te=oe=>me(oe,!0),Ne=oe=>me(oe,!1),ve=()=>ce(!0),ke=()=>ce(!1),Pe=!v&&!r,Ge=oe=>{if(!J&&Sn.includes(oe.key)&&v){const{unselectNodesAndEdges:pe,addSelectedEdges:Ce,edges:Me}=Q.getState();oe.key==="Escape"?(W.current?.blur(),pe({edges:[Me.find(he=>he.id===n)]})):Ce([n])}};return x.createElement("g",{className:re(["react-flow__edge",`react-flow__edge-${s}`,o,{selected:l,animated:u,inactive:Pe,updating:de}]),onClick:B,onDoubleClick:ie,onContextMenu:be,onMouseEnter:We,onMouseMove:_e,onMouseLeave:De,onKeyDown:X?Ge:void 0,tabIndex:X?0:void 0,role:X?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":Y===null?void 0:Y||`Edge from ${y} to ${E}`,"aria-describedby":X?`${Fn}-${O}`:void 0,ref:W},!ue&&x.createElement(e,{id:n,source:y,target:E,selected:l,animated:u,label:a,labelStyle:d,labelShowBg:p,labelBgStyle:f,labelBgPadding:w,labelBgBorderRadius:g,data:i,style:m,sourceX:N,sourceY:C,targetX:I,targetY:$,sourcePosition:V,targetPosition:T,sourceHandleId:R,targetHandleId:_,markerStart:ge,markerEnd:G,pathOptions:te,interactionWidth:ne}),q&&x.createElement(x.Fragment,null,(q==="source"||q===!0)&&x.createElement(dn,{position:V,centerX:N,centerY:C,radius:Z,onMouseDown:Te,onMouseEnter:ve,onMouseOut:ke,type:"source"}),(q==="target"||q===!0)&&x.createElement(dn,{position:T,centerX:I,centerY:$,radius:Z,onMouseDown:Ne,onMouseEnter:ve,onMouseOut:ke,type:"target"})))};return t.displayName="EdgeWrapper",h.memo(t)};function cr(e){const t={default:Oe(e.default||lt),straight:Oe(e.bezier||kt),step:Oe(e.step||Tt),smoothstep:Oe(e.step||ft),simplebezier:Oe(e.simplebezier||Dt)},n={},o=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=Oe(e[i]||lt),s),n);return{...t,...o}}function un(e,t,n=null){const o=(n?.x||0)+t.x,s=(n?.y||0)+t.y,i=n?.width||t.width,r=n?.height||t.height;switch(e){case z.Top:return{x:o+i/2,y:s};case z.Right:return{x:o+i,y:s+r/2};case z.Bottom:return{x:o+i/2,y:s+r};case z.Left:return{x:o,y:s+r/2}}}function fn(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const ar=(e,t,n,o,s,i)=>{const r=un(n,e,t),c=un(i,o,s);return{sourceX:r.x,sourceY:r.y,targetX:c.x,targetY:c.y}};function lr({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:s,targetHeight:i,width:r,height:c,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+o,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const a=_t({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:r/l[2],height:c/l[2]}),d=Math.max(0,Math.min(a.x2,u.x2)-Math.max(a.x,u.x)),p=Math.max(0,Math.min(a.y2,u.y2)-Math.max(a.y,u.y));return Math.ceil(d*p)>0}function gn(e){const t=e?.[j]?.handleBounds||null,n=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const dr=[{level:0,isMaxLevel:!0,edges:[]}];function ur(e,t,n=!1){let o=-1;const s=e.reduce((r,c)=>{const l=le(c.zIndex);let u=l?c.zIndex:0;if(n){const a=t.get(c.target),d=t.get(c.source),p=c.selected||a?.selected||d?.selected,f=Math.max(d?.[j]?.z||0,a?.[j]?.z||0,1e3);u=(l?c.zIndex:0)+(p?f:0)}return r[u]?r[u].push(c):r[u]=[c],o=u>o?u:o,r},{}),i=Object.entries(s).map(([r,c])=>{const l=+r;return{edges:c,level:l,isMaxLevel:l===o}});return i.length===0?dr:i}function fr(e,t,n){const o=K(h.useCallback(s=>e?s.edges.filter(i=>{const r=t.get(i.source),c=t.get(i.target);return r?.width&&r?.height&&c?.width&&c?.height&&lr({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:c.width,targetHeight:c.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return ur(o,t,n)}const gr=({color:e="none",strokeWidth:t=1})=>x.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),pr=({color:e="none",strokeWidth:t=1})=>x.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),pn={[at.Arrow]:gr,[at.ArrowClosed]:pr};function hr(e){const t=ee();return h.useMemo(()=>Object.prototype.hasOwnProperty.call(pn,e)?pn[e]:(t.getState().onError?.("009",ye.error009(e)),null),[e])}const mr=({id:e,type:t,color:n,width:o=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:r,orient:c="auto-start-reverse"})=>{const l=hr(t);return l?x.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0"},x.createElement(l,{color:n,strokeWidth:r})):null},yr=({defaultColor:e,rfId:t})=>n=>{const o=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(r=>{if(r&&typeof r=="object"){const c=Ct(r,t);o.includes(c)||(s.push({id:c,color:r.color||e,...r}),o.push(c))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},eo=({defaultColor:e,rfId:t})=>{const n=K(h.useCallback(yr({defaultColor:e,rfId:t}),[e,t]),(o,s)=>!(o.length!==s.length||o.some((i,r)=>i.id!==s[r].id)));return x.createElement("defs",null,n.map(o=>x.createElement(mr,{id:o.id,key:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient})))};eo.displayName="MarkerDefinitions";var xr=h.memo(eo);const Er=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),to=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:o,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:r,onEdgeMouseEnter:c,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:a,onEdgeDoubleClick:d,onReconnect:p,onReconnectStart:f,onReconnectEnd:w,reconnectRadius:g,children:m,disableKeyboardA11y:y})=>{const{edgesFocusable:E,edgesUpdatable:N,elementsSelectable:C,width:I,height:$,connectionMode:V,nodeInternals:T,onError:v}=K(Er,se),H=fr(t,T,n);return I?x.createElement(x.Fragment,null,H.map(({level:R,edges:_,isMaxLevel:M})=>x.createElement("svg",{key:R,style:{zIndex:R},width:I,height:$,className:"react-flow__edges react-flow__container"},M&&x.createElement(xr,{defaultColor:e,rfId:o}),x.createElement("g",null,_.map(S=>{const[A,L,Z]=gn(T.get(S.source)),[F,b,P]=gn(T.get(S.target));if(!Z||!P)return null;let D=S.type||"default";s[D]||(v?.("011",ye.error011(D)),D="default");const k=s[D]||s.default,O=V===Re.Strict?b.target:(b.target??[]).concat(b.source??[]),Y=fn(L.source,S.sourceHandle),X=fn(O,S.targetHandle),q=Y?.position||z.Bottom,te=X?.position||z.Top,ne=!!(S.focusable||E&&typeof S.focusable>"u"),J=S.reconnectable||S.updatable,W=typeof p<"u"&&(J||N&&typeof J>"u");if(!Y||!X)return v?.("008",ye.error008(Y,S)),null;const{sourceX:de,sourceY:ce,targetX:ue,targetY:ae}=ar(A,Y,q,F,X,te);return x.createElement(k,{key:S.id,id:S.id,className:re([S.className,i]),type:D,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:de,sourceY:ce,targetX:ue,targetY:ae,sourcePosition:q,targetPosition:te,elementsSelectable:C,onContextMenu:r,onMouseEnter:c,onMouseMove:l,onMouseLeave:u,onClick:a,onEdgeDoubleClick:d,onReconnect:p,onReconnectStart:f,onReconnectEnd:w,reconnectRadius:g,rfId:o,ariaLabel:S.ariaLabel,isFocusable:ne,isReconnectable:W,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:y})})))),m):null};to.displayName="EdgeRenderer";var wr=h.memo(to);const Sr=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function br({children:e}){const t=K(Sr);return x.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function Nr(e){const t=Lt(),n=h.useRef(!1);h.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const vr={[z.Left]:z.Right,[z.Right]:z.Left,[z.Top]:z.Bottom,[z.Bottom]:z.Top},no=({nodeId:e,handleType:t,style:n,type:o=we.Bezier,CustomComponent:s,connectionStatus:i})=>{const{fromNode:r,handleId:c,toX:l,toY:u,connectionMode:a}=K(h.useCallback($=>({fromNode:$.nodeInternals.get(e),handleId:$.connectionHandleId,toX:($.connectionPosition.x-$.transform[0])/$.transform[2],toY:($.connectionPosition.y-$.transform[1])/$.transform[2],connectionMode:$.connectionMode}),[e]),se),d=r?.[j]?.handleBounds;let p=d?.[t];if(a===Re.Loose&&(p=p||d?.[t==="source"?"target":"source"]),!r||!p)return null;const f=c?p.find($=>$.id===c):p[0],w=f?f.x+f.width/2:(r.width??0)/2,g=f?f.y+f.height/2:r.height??0,m=(r.positionAbsolute?.x??0)+w,y=(r.positionAbsolute?.y??0)+g,E=f?.position,N=E?vr[E]:null;if(!E||!N)return null;if(s)return x.createElement(s,{connectionLineType:o,connectionLineStyle:n,fromNode:r,fromHandle:f,fromX:m,fromY:y,toX:l,toY:u,fromPosition:E,toPosition:N,connectionStatus:i});let C="";const I={sourceX:m,sourceY:y,sourcePosition:E,targetX:l,targetY:u,targetPosition:N};return o===we.Bezier?[C]=Mn(I):o===we.Step?[C]=vt({...I,borderRadius:0}):o===we.SmoothStep?[C]=vt(I):o===we.SimpleBezier?[C]=Cn(I):C=`M${m},${y} ${l},${u}`,x.createElement("path",{d:C,fill:"none",className:"react-flow__connection-path",style:n})};no.displayName="ConnectionLine";const Cr=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Mr({containerStyle:e,style:t,type:n,component:o}){const{nodeId:s,handleType:i,nodesConnectable:r,width:c,height:l,connectionStatus:u}=K(Cr,se);return!(s&&i&&c&&r)?null:x.createElement("svg",{style:e,width:c,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},x.createElement("g",{className:re(["react-flow__connection",u])},x.createElement(no,{nodeId:s,handleType:i,style:t,type:n,CustomComponent:o,connectionStatus:u})))}function hn(e,t){return h.useRef(null),ee(),h.useMemo(()=>t(e),[e])}const oo=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:o,onMoveEnd:s,onInit:i,onNodeClick:r,onEdgeClick:c,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:a,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:f,onSelectionContextMenu:w,onSelectionStart:g,onSelectionEnd:m,connectionLineType:y,connectionLineStyle:E,connectionLineComponent:N,connectionLineContainerStyle:C,selectionKeyCode:I,selectionOnDrag:$,selectionMode:V,multiSelectionKeyCode:T,panActivationKeyCode:v,zoomActivationKeyCode:H,deleteKeyCode:R,onlyRenderVisibleElements:_,elementsSelectable:M,selectNodesOnDrag:S,defaultViewport:A,translateExtent:L,minZoom:Z,maxZoom:F,preventScrolling:b,defaultMarkerColor:P,zoomOnScroll:D,zoomOnPinch:k,panOnScroll:O,panOnScrollSpeed:Y,panOnScrollMode:X,zoomOnDoubleClick:q,panOnDrag:te,onPaneClick:ne,onPaneMouseEnter:J,onPaneMouseMove:W,onPaneMouseLeave:de,onPaneScroll:ce,onPaneContextMenu:ue,onEdgeContextMenu:ae,onEdgeMouseEnter:Q,onEdgeMouseMove:ge,onEdgeMouseLeave:G,onReconnect:B,onReconnectStart:ie,onReconnectEnd:be,reconnectRadius:We,noDragClassName:_e,noWheelClassName:De,noPanClassName:me,elevateEdgesOnSelect:Te,disableKeyboardA11y:Ne,nodeOrigin:ve,nodeExtent:ke,rfId:Pe})=>{const Ge=hn(e,er),oe=hn(t,cr);return Nr(i),x.createElement(Qs,{onPaneClick:ne,onPaneMouseEnter:J,onPaneMouseMove:W,onPaneMouseLeave:de,onPaneContextMenu:ue,onPaneScroll:ce,deleteKeyCode:R,selectionKeyCode:I,selectionOnDrag:$,selectionMode:V,onSelectionStart:g,onSelectionEnd:m,multiSelectionKeyCode:T,panActivationKeyCode:v,zoomActivationKeyCode:H,elementsSelectable:M,onMove:n,onMoveStart:o,onMoveEnd:s,zoomOnScroll:D,zoomOnPinch:k,zoomOnDoubleClick:q,panOnScroll:O,panOnScrollSpeed:Y,panOnScrollMode:X,panOnDrag:te,defaultViewport:A,translateExtent:L,minZoom:Z,maxZoom:F,onSelectionContextMenu:w,preventScrolling:b,noDragClassName:_e,noWheelClassName:De,noPanClassName:me,disableKeyboardA11y:Ne},x.createElement(br,null,x.createElement(wr,{edgeTypes:oe,onEdgeClick:c,onEdgeDoubleClick:u,onlyRenderVisibleElements:_,onEdgeContextMenu:ae,onEdgeMouseEnter:Q,onEdgeMouseMove:ge,onEdgeMouseLeave:G,onReconnect:B,onReconnectStart:ie,onReconnectEnd:be,reconnectRadius:We,defaultMarkerColor:P,noPanClassName:me,elevateEdgesOnSelect:!!Te,disableKeyboardA11y:Ne,rfId:Pe},x.createElement(Mr,{style:E,type:y,component:N,containerStyle:C})),x.createElement("div",{className:"react-flow__edgelabel-renderer"}),x.createElement(or,{nodeTypes:Ge,onNodeClick:r,onNodeDoubleClick:l,onNodeMouseEnter:a,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:f,selectNodesOnDrag:S,onlyRenderVisibleElements:_,noPanClassName:me,noDragClassName:_e,disableKeyboardA11y:Ne,nodeOrigin:ve,nodeExtent:ke,rfId:Pe})))};oo.displayName="GraphView";var Ar=h.memo(oo);const It=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],xe={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:It,nodeExtent:It,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Re.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:ts,isValidConnection:void 0},$r=()=>Uo((e,t)=>({...xe,setNodes:n=>{const{nodeInternals:o,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:xt(n,o,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:o={}}=t();e({edges:n.map(s=>({...o,...s}))})},setDefaultNodesAndEdges:(n,o)=>{const s=typeof n<"u",i=typeof o<"u",r=s?xt(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:r,edges:i?o:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:o,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:r,fitViewOnInitOptions:c,domNode:l,nodeOrigin:u}=t(),a=l?.querySelector(".react-flow__viewport");if(!a)return;const d=window.getComputedStyle(a),{m22:p}=new window.DOMMatrixReadOnly(d.transform),f=n.reduce((g,m)=>{const y=s.get(m.id);if(y?.hidden)s.set(y.id,{...y,[j]:{...y[j],handleBounds:void 0}});else if(y){const E=Ht(m.nodeElement);!!(E.width&&E.height&&(y.width!==E.width||y.height!==E.height||m.forceUpdate))&&(s.set(y.id,{...y,[j]:{...y[j],handleBounds:{source:an(".source",m.nodeElement,p,u),target:an(".target",m.nodeElement,p,u)}},...E}),g.push({id:y.id,type:"dimensions",dimensions:E}))}return g},[]);Yn(s,u);const w=r||i&&!r&&Un(t,{initial:!0,...c});e({nodeInternals:new Map(s),fitViewOnInitDone:w}),f?.length>0&&o?.(f)},updateNodePositions:(n,o=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),r=n.map(c=>{const l={id:c.id,type:"position",dragging:s};return o&&(l.positionAbsolute=c.positionAbsolute,l.position=c.position),l});i(r)},triggerNodeChanges:n=>{const{onNodesChange:o,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:r,getNodes:c,elevateNodesOnSelect:l}=t();if(n?.length){if(i){const u=Xn(n,c()),a=xt(u,s,r,l);e({nodeInternals:a})}o?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:o,edges:s,getNodes:i}=t();let r,c=null;o?r=n.map(l=>Ee(l,!0)):(r=Fe(i(),n),c=Fe(s,[])),rt({changedNodes:r,changedEdges:c,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:o,edges:s,getNodes:i}=t();let r,c=null;o?r=n.map(l=>Ee(l,!0)):(r=Fe(s,n),c=Fe(i(),[])),rt({changedNodes:c,changedEdges:r,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:o}={})=>{const{edges:s,getNodes:i}=t(),r=n||i(),c=o||s,l=r.map(a=>(a.selected=!1,Ee(a.id,!1))),u=c.map(a=>Ee(a.id,!1));rt({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:o,maxZoom:s}=t();o?.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:o,minZoom:s}=t();o?.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:o}=t(),i=o().filter(c=>c.selected).map(c=>Ee(c.id,!1)),r=n.filter(c=>c.selected).map(c=>Ee(c.id,!1));rt({changedNodes:i,changedEdges:r,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:o}=t();o.forEach(s=>{s.positionAbsolute=Rt(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(o)})},panBy:n=>{const{transform:o,width:s,height:i,d3Zoom:r,d3Selection:c,translateExtent:l}=t();if(!r||!c||!n.x&&!n.y)return!1;const u=Ze.translate(o[0]+n.x,o[1]+n.y).scale(o[2]),a=[[0,0],[s,i]],d=r?.constrain()(u,a,l);return r.transform(c,d),o[0]!==d.x||o[1]!==d.y||o[2]!==d.k},cancelConnection:()=>e({connectionNodeId:xe.connectionNodeId,connectionHandleId:xe.connectionHandleId,connectionHandleType:xe.connectionHandleType,connectionStatus:xe.connectionStatus,connectionStartHandle:xe.connectionStartHandle,connectionEndHandle:xe.connectionEndHandle}),reset:()=>e({...xe})}),Object.is),so=({children:e})=>{const t=h.useRef(null);return t.current||(t.current=$r()),x.createElement(Wo,{value:t.current},e)};so.displayName="ReactFlowProvider";const ro=({children:e})=>h.useContext(ut)?x.createElement(x.Fragment,null,e):x.createElement(so,null,e);ro.displayName="ReactFlowWrapper";const Ir={input:zn,default:At,output:Vn,group:Vt},Hr={default:lt,straight:kt,step:Tt,smoothstep:ft,simplebezier:Dt},Rr=[0,0],_r=[15,15],Dr={x:0,y:0,zoom:1},Tr={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},kr=h.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,className:s,nodeTypes:i=Ir,edgeTypes:r=Hr,onNodeClick:c,onEdgeClick:l,onInit:u,onMove:a,onMoveStart:d,onMoveEnd:p,onConnect:f,onConnectStart:w,onConnectEnd:g,onClickConnectStart:m,onClickConnectEnd:y,onNodeMouseEnter:E,onNodeMouseMove:N,onNodeMouseLeave:C,onNodeContextMenu:I,onNodeDoubleClick:$,onNodeDragStart:V,onNodeDrag:T,onNodeDragStop:v,onNodesDelete:H,onEdgesDelete:R,onSelectionChange:_,onSelectionDragStart:M,onSelectionDrag:S,onSelectionDragStop:A,onSelectionContextMenu:L,onSelectionStart:Z,onSelectionEnd:F,connectionMode:b=Re.Strict,connectionLineType:P=we.Bezier,connectionLineStyle:D,connectionLineComponent:k,connectionLineContainerStyle:O,deleteKeyCode:Y="Backspace",selectionKeyCode:X="Shift",selectionOnDrag:q=!1,selectionMode:te=et.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:J=ct()?"Meta":"Control",zoomActivationKeyCode:W=ct()?"Meta":"Control",snapToGrid:de=!1,snapGrid:ce=_r,onlyRenderVisibleElements:ue=!1,selectNodesOnDrag:ae=!0,nodesDraggable:Q,nodesConnectable:ge,nodesFocusable:G,nodeOrigin:B=Rr,edgesFocusable:ie,edgesUpdatable:be,elementsSelectable:We,defaultViewport:_e=Dr,minZoom:De=.5,maxZoom:me=2,translateExtent:Te=It,preventScrolling:Ne=!0,nodeExtent:ve,defaultMarkerColor:ke="#b1b1b7",zoomOnScroll:Pe=!0,zoomOnPinch:Ge=!0,panOnScroll:oe=!1,panOnScrollSpeed:pe=.5,panOnScrollMode:Ce=He.Free,zoomOnDoubleClick:Me=!0,panOnDrag:ze=!0,onPaneClick:he,onPaneMouseEnter:Ae,onPaneMouseMove:gt,onPaneMouseLeave:pt,onPaneScroll:Ke,onPaneContextMenu:ht,children:Ft,onEdgeContextMenu:$e,onEdgeDoubleClick:ao,onEdgeMouseEnter:lo,onEdgeMouseMove:uo,onEdgeMouseLeave:fo,onEdgeUpdate:go,onEdgeUpdateStart:po,onEdgeUpdateEnd:ho,onReconnect:mo,onReconnectStart:yo,onReconnectEnd:xo,reconnectRadius:Eo=10,edgeUpdaterRadius:wo=10,onNodesChange:So,onEdgesChange:bo,noDragClassName:No="nodrag",noWheelClassName:vo="nowheel",noPanClassName:Zt="nopan",fitView:Co=!1,fitViewOptions:Mo,connectOnClick:Ao=!0,attributionPosition:$o,proOptions:Io,defaultEdgeOptions:Ho,elevateNodesOnSelect:Ro=!0,elevateEdgesOnSelect:_o=!1,disableKeyboardA11y:Yt=!1,autoPanOnConnect:Do=!0,autoPanOnNodeDrag:To=!0,connectionRadius:ko=20,isValidConnection:Po,onError:zo,style:Bo,id:Ut,nodeDragThreshold:Vo,...Lo},Oo)=>{const mt=Ut||"1";return x.createElement("div",{...Lo,style:{...Bo,...Tr},ref:Oo,className:re(["react-flow",s]),"data-testid":"rf__wrapper",id:Ut},x.createElement(ro,null,x.createElement(Ar,{onInit:u,onMove:a,onMoveStart:d,onMoveEnd:p,onNodeClick:c,onEdgeClick:l,onNodeMouseEnter:E,onNodeMouseMove:N,onNodeMouseLeave:C,onNodeContextMenu:I,onNodeDoubleClick:$,nodeTypes:i,edgeTypes:r,connectionLineType:P,connectionLineStyle:D,connectionLineComponent:k,connectionLineContainerStyle:O,selectionKeyCode:X,selectionOnDrag:q,selectionMode:te,deleteKeyCode:Y,multiSelectionKeyCode:J,panActivationKeyCode:ne,zoomActivationKeyCode:W,onlyRenderVisibleElements:ue,selectNodesOnDrag:ae,defaultViewport:_e,translateExtent:Te,minZoom:De,maxZoom:me,preventScrolling:Ne,zoomOnScroll:Pe,zoomOnPinch:Ge,zoomOnDoubleClick:Me,panOnScroll:oe,panOnScrollSpeed:pe,panOnScrollMode:Ce,panOnDrag:ze,onPaneClick:he,onPaneMouseEnter:Ae,onPaneMouseMove:gt,onPaneMouseLeave:pt,onPaneScroll:Ke,onPaneContextMenu:ht,onSelectionContextMenu:L,onSelectionStart:Z,onSelectionEnd:F,onEdgeContextMenu:$e,onEdgeDoubleClick:ao,onEdgeMouseEnter:lo,onEdgeMouseMove:uo,onEdgeMouseLeave:fo,onReconnect:mo??go,onReconnectStart:yo??po,onReconnectEnd:xo??ho,reconnectRadius:Eo??wo,defaultMarkerColor:ke,noDragClassName:No,noWheelClassName:vo,noPanClassName:Zt,elevateEdgesOnSelect:_o,rfId:mt,disableKeyboardA11y:Yt,nodeOrigin:B,nodeExtent:ve}),x.createElement(vs,{nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:f,onConnectStart:w,onConnectEnd:g,onClickConnectStart:m,onClickConnectEnd:y,nodesDraggable:Q,nodesConnectable:ge,nodesFocusable:G,edgesFocusable:ie,edgesUpdatable:be,elementsSelectable:We,elevateNodesOnSelect:Ro,minZoom:De,maxZoom:me,nodeExtent:ve,onNodesChange:So,onEdgesChange:bo,snapToGrid:de,snapGrid:ce,connectionMode:b,translateExtent:Te,connectOnClick:Ao,defaultEdgeOptions:Ho,fitView:Co,fitViewOptions:Mo,onNodesDelete:H,onEdgesDelete:R,onNodeDragStart:V,onNodeDrag:T,onNodeDragStop:v,onSelectionDrag:S,onSelectionDragStart:M,onSelectionDragStop:A,noPanClassName:Zt,nodeOrigin:B,rfId:mt,autoPanOnConnect:Do,autoPanOnNodeDrag:To,onError:zo,connectionRadius:ko,isValidConnection:Po,nodeDragThreshold:Vo}),x.createElement(bs,{onSelectionChange:_}),Ft,x.createElement(Ko,{proOptions:Io,position:$o}),x.createElement(Is,{rfId:mt,disableKeyboardA11y:Yt})))});kr.displayName="ReactFlow";function Pr(e){return t=>{const[n,o]=h.useState(t),s=h.useCallback(i=>o(r=>e(i,r)),[]);return[n,o,s]}}const Qr=Pr(Xn);function zr(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},x.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Br(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},x.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Vr(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},x.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Lr(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},x.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Or(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},x.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Je=({children:e,className:t,...n})=>x.createElement("button",{type:"button",className:re(["react-flow__controls-button",t]),...n},e);Je.displayName="ControlButton";const Fr=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),io=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:r,onFitView:c,onInteractiveChange:l,className:u,children:a,position:d="bottom-left"})=>{const p=ee(),[f,w]=h.useState(!1),{isInteractive:g,minZoomReached:m,maxZoomReached:y}=K(Fr,se),{zoomIn:E,zoomOut:N,fitView:C}=Lt();if(h.useEffect(()=>{w(!0)},[]),!f)return null;const I=()=>{E(),i?.()},$=()=>{N(),r?.()},V=()=>{C(s),c?.()},T=()=>{p.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l?.(!g)};return x.createElement(xn,{className:re(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&x.createElement(x.Fragment,null,x.createElement(Je,{onClick:I,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},x.createElement(zr,null)),x.createElement(Je,{onClick:$,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:m},x.createElement(Br,null))),n&&x.createElement(Je,{className:"react-flow__controls-fitview",onClick:V,title:"fit view","aria-label":"fit view"},x.createElement(Vr,null)),o&&x.createElement(Je,{className:"react-flow__controls-interactive",onClick:T,title:"toggle interactivity","aria-label":"toggle interactivity"},g?x.createElement(Or,null):x.createElement(Lr,null)),a)};io.displayName="Controls";var Jr=h.memo(io),fe;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(fe||(fe={}));function Zr({color:e,dimensions:t,lineWidth:n}){return x.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function Yr({color:e,radius:t}){return x.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const Ur={[fe.Dots]:"#91919a",[fe.Lines]:"#eee",[fe.Cross]:"#e2e2e2"},Xr={[fe.Dots]:1,[fe.Lines]:1,[fe.Cross]:6},Wr=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function co({id:e,variant:t=fe.Dots,gap:n=20,size:o,lineWidth:s=1,offset:i=2,color:r,style:c,className:l}){const u=h.useRef(null),{transform:a,patternId:d}=K(Wr,se),p=r||Ur[t],f=o||Xr[t],w=t===fe.Dots,g=t===fe.Cross,m=Array.isArray(n)?n:[n,n],y=[m[0]*a[2]||1,m[1]*a[2]||1],E=f*a[2],N=g?[E,E]:y,C=w?[E/i,E/i]:[N[0]/i,N[1]/i];return x.createElement("svg",{className:re(["react-flow__background",l]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},x.createElement("pattern",{id:d+e,x:a[0]%y[0],y:a[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`},w?x.createElement(Yr,{color:p,radius:E/i}):x.createElement(Zr,{dimensions:N,color:p,lineWidth:s})),x.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}co.displayName="Background";var ei=h.memo(co);export{ei as B,Jr as C,kr as R,Qr as u};
//# sourceMappingURL=vendor-reactflow-BGigvD3b.js.map
