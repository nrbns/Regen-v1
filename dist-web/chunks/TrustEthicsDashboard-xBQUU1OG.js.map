{"version":3,"file":"TrustEthicsDashboard-xBQUU1OG.js","sources":["../../src/components/trust/TrustEthicsDashboard.tsx"],"sourcesContent":["import { useEffect, useMemo } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n  Shield,\r\n  ShieldCheck,\r\n  ShieldAlert,\r\n  Activity,\r\n  RefreshCw,\r\n  X,\r\n  CheckCircle2,\r\n  Clock,\r\n  Ban,\r\n  ArrowUpRight,\r\n  AlertTriangle,\r\n  Fingerprint,\r\n  Radar,\r\n} from 'lucide-react';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { useTrustDashboardStore } from '../../state/trustDashboardStore';\r\nimport { useConsentOverlayStore } from '../../state/consentOverlayStore';\r\n\r\nconst ACTION_LABELS: Record<string, string> = {\r\n  download: 'Download file',\r\n  form_submit: 'Submit form',\r\n  login: 'Login request',\r\n  scrape: 'Scrape content',\r\n  export_data: 'Export data',\r\n  access_clipboard: 'Clipboard access',\r\n  access_camera: 'Camera access',\r\n  access_microphone: 'Microphone access',\r\n  access_filesystem: 'Filesystem access',\r\n  ai_cloud: 'Cloud AI call',\r\n};\r\n\r\nexport function TrustEthicsDashboard() {\r\n  const {\r\n    visible,\r\n    loading,\r\n    error,\r\n    consentTimeline,\r\n    trustSignals,\r\n    shieldsStatus,\r\n    privacyAudit,\r\n    consentStats,\r\n    blockedSummary,\r\n    lastUpdated,\r\n    refresh,\r\n    close,\r\n  } = useTrustDashboardStore();\r\n  const openConsent = useConsentOverlayStore((state) => state.open);\r\n\r\n  useEffect(() => {\r\n    if (!visible) return;\r\n    void refresh();\r\n    const interval = window.setInterval(() => {\r\n      void refresh();\r\n    }, 30000);\r\n    return () => window.clearInterval(interval);\r\n  }, [visible, refresh]);\r\n\r\n  const timelineItems = useMemo(() => consentTimeline.slice(0, 8), [consentTimeline]);\r\n  const highRiskSignals = useMemo(\r\n    () => trustSignals.filter((record) => record.verdict !== 'trusted').slice(0, 6),\r\n    [trustSignals],\r\n  );\r\n  const trustedSignals = useMemo(\r\n    () => trustSignals.filter((record) => record.verdict === 'trusted').slice(0, 6),\r\n    [trustSignals],\r\n  );\r\n\r\n  if (!visible) {\r\n    return null;\r\n  }\r\n\r\n  const lastUpdatedLabel = lastUpdated ? formatDistanceToNow(lastUpdated, { addSuffix: true }) : 'just now';\r\n\r\n  const auditSeverityVariant =\r\n    privacyAudit?.grade === 'high' ? 'danger' : privacyAudit?.grade === 'moderate' ? 'warning' : 'info';\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[1125] flex items-center justify-center bg-black/70 backdrop-blur-sm\">\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.96, y: 12 }}\r\n        animate={{ opacity: 1, scale: 1, y: 0 }}\r\n        exit={{ opacity: 0, scale: 0.96, y: 12 }}\r\n        transition={{ duration: 0.18, ease: 'easeOut' }}\r\n        className=\"relative flex h-[90vh] w-[min(1100px,94vw)] flex-col overflow-hidden rounded-3xl border border-slate-700/70 bg-slate-950/95 text-gray-100 shadow-[0_20px_80px_rgba(0,0,0,0.55)]\"\r\n      >\r\n        <header className=\"flex items-start justify-between border-b border-slate-800/60 px-6 py-5\">\r\n          <div>\r\n            <div className=\"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-emerald-300/80\">\r\n              <Shield size={14} /> Trust &amp; Ethics\r\n            </div>\r\n            <h1 className=\"mt-1 text-lg font-semibold text-white\">Real-time consent ledger &amp; threat summary</h1>\r\n            <div className=\"mt-1 text-[11px] text-slate-500\">\r\n              {loading ? 'Refreshing…' : `Last updated ${lastUpdatedLabel}`}\r\n              {error && <span className=\"ml-2 text-red-300\">· {error}</span>}\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => void refresh()}\r\n              disabled={loading}\r\n              className=\"inline-flex items-center gap-2 rounded-xl border border-slate-700/60 bg-slate-900/70 px-3 py-2 text-xs text-slate-200 hover:bg-slate-900/90 disabled:opacity-50\"\r\n            >\r\n              <RefreshCw size={14} className={loading ? 'animate-spin text-emerald-300' : ''} />\r\n              Refresh\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => void openConsent()}\r\n              className=\"inline-flex items-center gap-2 rounded-xl border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-xs font-medium text-emerald-100 hover:bg-emerald-500/20\"\r\n            >\r\n              <CheckCircle2 size={14} />\r\n              Open consent ledger\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => close()}\r\n              className=\"inline-flex items-center justify-center rounded-full border border-slate-700/60 bg-slate-900/70 p-2 text-slate-200 hover:bg-slate-900/90\"\r\n              aria-label=\"Close trust dashboard\"\r\n            >\r\n              <X size={16} />\r\n            </button>\r\n          </div>\r\n        </header>\r\n\r\n        <div className=\"flex-1 overflow-y-auto px-6 py-5\">\r\n          <div className=\"grid gap-5 lg:grid-cols-[1.1fr,0.9fr]\">\r\n            <section className=\"space-y-5\">\r\n              <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                <SummaryCard\r\n                  title=\"Consent posture\"\r\n                  icon={ShieldCheck}\r\n                  tone=\"emerald\"\r\n                  stats={[\r\n                    { label: 'Pending', value: consentStats.pending },\r\n                    { label: 'Approved', value: consentStats.approved },\r\n                    { label: 'Revoked', value: consentStats.revoked },\r\n                  ]}\r\n                />\r\n                <SummaryCard\r\n                  title=\"Shields blocked\"\r\n                  icon={ShieldAlert}\r\n                  tone=\"sky\"\r\n                  stats={[\r\n                    { label: 'Trackers', value: blockedSummary.trackers },\r\n                    { label: 'Ads', value: blockedSummary.ads },\r\n                    { label: 'HTTPS upgrades', value: blockedSummary.upgrades },\r\n                  ]}\r\n                  footer={\r\n                    shieldsStatus\r\n                      ? `${shieldsStatus.cookies3p === 'block' ? '3p cookies blocked' : '3p cookies allowed'} · ${\r\n                          shieldsStatus.webrtcBlocked ? 'WebRTC protected' : 'WebRTC open'\r\n                        }`\r\n                      : 'No shield data yet'\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className=\"rounded-2xl border border-slate-800/60 bg-slate-900/70\">\r\n                <HeaderRow icon={Clock} title=\"Consent timeline\" description=\"Live ledger of ethical approvals\" />\r\n                <div className=\"divide-y divide-slate-800/60\">\r\n                  {timelineItems.length === 0 ? (\r\n                    <EmptyState message=\"No consent activity recorded yet.\" />\r\n                  ) : (\r\n                    timelineItems.map((record) => {\r\n                      const status = record.revokedAt\r\n                        ? { label: 'Revoked', tone: 'text-red-300 border-red-400/40 bg-red-500/10' }\r\n                        : record.approved\r\n                          ? { label: 'Approved', tone: 'text-emerald-300 border-emerald-400/40 bg-emerald-500/10' }\r\n                          : { label: 'Pending', tone: 'text-amber-300 border-amber-400/40 bg-amber-500/10' };\r\n                      const riskIcon =\r\n                        record.action.risk === 'high'\r\n                          ? AlertTriangle\r\n                          : record.action.risk === 'medium'\r\n                            ? ShieldAlert\r\n                            : CheckCircle2;\r\n                      const RiskIcon = riskIcon;\r\n                      return (\r\n                        <div key={record.id} className=\"flex items-center gap-4 px-4 py-3 text-sm text-gray-200\">\r\n                          <div className=\"flex h-10 w-10 items-center justify-center rounded-2xl border border-slate-800/70 bg-slate-900/80\">\r\n                            <RiskIcon size={16} className=\"text-emerald-300\" />\r\n                          </div>\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <span className=\"font-medium\">\r\n                                {ACTION_LABELS[record.action.type] ?? record.action.type}\r\n                              </span>\r\n                              <span className=\"text-xs text-slate-500\">\r\n                                {formatDistanceToNow(record.timestamp, { addSuffix: true })}\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"text-xs text-slate-400\">{record.action.description}</div>\r\n                          </div>\r\n                          <span className={`rounded-full border px-2 py-0.5 text-xs ${status.tone}`}>{status.label}</span>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"space-y-5\">\r\n              <div className=\"rounded-2xl border border-slate-800/60 bg-slate-900/70\">\r\n                <HeaderRow icon={Radar} title=\"Privacy Sentinel\" description=\"Latest AI risk sweep\" />\r\n                <div className=\"space-y-3 px-4 py-4\">\r\n                  {privacyAudit ? (\r\n                    <>\r\n                      <div\r\n                        className={`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs ${\r\n                          auditSeverityVariant === 'danger'\r\n                            ? 'border-red-500/40 bg-red-500/10 text-red-200'\r\n                            : auditSeverityVariant === 'warning'\r\n                              ? 'border-amber-500/40 bg-amber-500/10 text-amber-200'\r\n                              : 'border-sky-500/40 bg-sky-500/10 text-sky-200'\r\n                        }`}\r\n                      >\r\n                        <Activity size={12} />\r\n                        {privacyAudit.grade === 'high'\r\n                          ? 'High risk detected'\r\n                          : privacyAudit.grade === 'moderate'\r\n                            ? 'Watch this tab'\r\n                            : 'Clean'}\r\n                      </div>\r\n\r\n                      <p className=\"text-sm text-slate-300\">{privacyAudit.message}</p>\r\n\r\n                      {privacyAudit.trackers.length > 0 && (\r\n                        <div className=\"rounded-xl border border-slate-800/60 bg-slate-900/70 p-3\">\r\n                          <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-400\">Trackers</div>\r\n                          <div className=\"mt-2 flex flex-wrap gap-2 text-xs text-slate-300\">\r\n                            {privacyAudit.trackers.slice(0, 6).map((tracker) => (\r\n                              <span\r\n                                key={`${tracker.host}-${tracker.count}`}\r\n                                className=\"inline-flex items-center gap-1 rounded-full border border-slate-700/60 bg-slate-950/80 px-3 py-1\"\r\n                              >\r\n                                <Fingerprint size={11} className=\"text-slate-400\" />\r\n                                {tracker.host}\r\n                                <span className=\"text-[10px] text-slate-500\">×{tracker.count}</span>\r\n                              </span>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {privacyAudit.suggestions.length > 0 && (\r\n                        <div className=\"space-y-2 rounded-xl border border-slate-800/60 bg-slate-900/70 p-3\">\r\n                          <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-400\">Suggested fixes</div>\r\n                          <ul className=\"space-y-1 text-xs text-slate-300\">\r\n                            {privacyAudit.suggestions.slice(0, 4).map((suggestion) => (\r\n                              <li key={suggestion} className=\"flex items-start gap-2\">\r\n                                <ArrowUpRight size={11} className=\"mt-0.5 text-emerald-300\" />\r\n                                <span>{suggestion}</span>\r\n                              </li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState message=\"No privacy audit data yet. Trigger an audit from the Shield icon in the top bar.\" />\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"rounded-2xl border border-slate-800/60 bg-slate-900/70\">\r\n                <HeaderRow icon={Ban} title=\"Trust alerts\" description=\"Domains flagged by the mesh\" />\r\n                <div className=\"divide-y divide-slate-800/60\">\r\n                  {highRiskSignals.length === 0 ? (\r\n                    <EmptyState message=\"No high-risk domains flagged.\" />\r\n                  ) : (\r\n                    highRiskSignals.map((record) => (\r\n                      <div key={record.domain} className=\"flex items-center gap-3 px-4 py-3 text-sm text-gray-200\">\r\n                        <div className=\"flex h-10 w-10 items-center justify-center rounded-2xl border border-red-500/40 bg-red-500/10 text-red-200\">\r\n                          <ShieldAlert size={16} />\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span className=\"font-medium\">{record.domain}</span>\r\n                            <span className=\"rounded-full border border-red-500/40 bg-red-500/10 px-2 py-0.5 text-[10px] text-red-200\">\r\n                              {record.verdict.toUpperCase()}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"text-xs text-slate-500\">\r\n                            Score {Math.round(record.score)} · {record.signals} signals ·{' '}\r\n                            {formatDistanceToNow(record.lastUpdated, { addSuffix: true })}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"rounded-2xl border border-slate-800/60 bg-slate-900/70\">\r\n                <HeaderRow icon={ShieldCheck} title=\"Trusted mesh\" description=\"Domains with positive consensus\" />\r\n                <div className=\"flex flex-col gap-3 px-4 py-4\">\r\n                  {trustedSignals.length === 0 ? (\r\n                    <EmptyState message=\"No trusted domains recorded yet.\" />\r\n                  ) : (\r\n                    trustedSignals.map((record) => (\r\n                      <div\r\n                        key={`trusted-${record.domain}`}\r\n                        className=\"rounded-xl border border-emerald-400/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100\"\r\n                      >\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <span className=\"font-semibold\">{record.domain}</span>\r\n                          <span className=\"text-xs uppercase tracking-wide text-emerald-300/80\">Score {Math.round(record.score)}</span>\r\n                        </div>\r\n                        <div className=\"mt-1 text-xs text-emerald-200/80\">\r\n                          Confidence {Math.round(record.confidence * 100)}% · {record.signals} peer signals\r\n                        </div>\r\n                        {record.tags.length > 0 && (\r\n                          <div className=\"mt-2 flex flex-wrap gap-2 text-[11px] text-emerald-200/80\">\r\n                            {record.tags.slice(0, 4).map((tag) => (\r\n                              <span key={`${record.domain}-${tag}`} className=\"rounded-full border border-emerald-400/40 px-2 py-0.5\">\r\n                                #{tag}\r\n                              </span>\r\n                            ))}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SummaryCard({\r\n  title,\r\n  icon: Icon,\r\n  stats,\r\n  footer,\r\n  tone,\r\n}: {\r\n  title: string;\r\n  icon: typeof Shield;\r\n  stats: Array<{ label: string; value: number }>;\r\n  footer?: string;\r\n  tone: 'emerald' | 'sky';\r\n}) {\r\n  const toneClasses =\r\n    tone === 'emerald'\r\n      ? 'border-emerald-500/30 bg-emerald-500/10 text-emerald-100'\r\n      : 'border-sky-500/30 bg-sky-500/10 text-sky-100';\r\n  const accent = tone === 'emerald' ? 'text-emerald-200' : 'text-sky-200';\r\n  return (\r\n    <div className={`rounded-2xl border ${toneClasses} px-4 py-4`}>\r\n      <div className=\"flex items-center gap-2 text-sm font-semibold\">\r\n        <Icon size={16} className={accent} />\r\n        {title}\r\n      </div>\r\n      <div className=\"mt-3 grid grid-cols-3 gap-2 text-xs text-slate-300\">\r\n        {stats.map((stat) => (\r\n          <div key={stat.label} className=\"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-center\">\r\n            <div className=\"text-lg font-semibold text-white\">{stat.value}</div>\r\n            <div className=\"text-[11px] uppercase tracking-wide text-slate-300\">{stat.label}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {footer && <div className=\"mt-3 text-[11px] text-slate-200/80\">{footer}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction HeaderRow({\r\n  icon: Icon,\r\n  title,\r\n  description,\r\n}: {\r\n  icon: typeof Shield;\r\n  title: string;\r\n  description: string;\r\n}) {\r\n  return (\r\n    <div className=\"flex items-center justify-between border-b border-slate-800/60 px-4 py-3\">\r\n      <div className=\"flex items-center gap-2 text-sm font-semibold text-gray-200\">\r\n        <Icon size={14} className=\"text-emerald-300\" />\r\n        {title}\r\n      </div>\r\n      <div className=\"text-[11px] uppercase tracking-wide text-slate-500\">{description}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction EmptyState({ message }: { message: string }) {\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center gap-2 px-4 py-6 text-center text-xs text-slate-500\">\r\n      <Shield size={18} className=\"text-slate-600\" />\r\n      <span>{message}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["ACTION_LABELS","TrustEthicsDashboard","visible","loading","error","consentTimeline","trustSignals","shieldsStatus","privacyAudit","consentStats","blockedSummary","lastUpdated","refresh","close","useTrustDashboardStore","openConsent","useConsentOverlayStore","state","useEffect","interval","timelineItems","useMemo","highRiskSignals","record","trustedSignals","lastUpdatedLabel","formatDistanceToNow","auditSeverityVariant","jsx","jsxs","motion","Shield","RefreshCw","CheckCircle2","X","SummaryCard","ShieldCheck","ShieldAlert","HeaderRow","Clock","EmptyState","status","RiskIcon","AlertTriangle","Radar","Fragment","Activity","tracker","Fingerprint","suggestion","ArrowUpRight","Ban","tag","title","Icon","stats","footer","tone","toneClasses","accent","stat","description","message"],"mappings":"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"}