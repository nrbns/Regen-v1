{"version":3,"file":"Settings-DqH3fooY.js","sources":["../../src/config/externalApis.ts","../../src/state/externalApisStore.ts","../../src/components/help/ShortcutsHelp.tsx","../../src/routes/Settings.tsx"],"sourcesContent":["/**\r\n * External APIs Configuration\r\n * Defines available external APIs for different modes\r\n */\r\n\r\nexport type OmniMode = 'research' | 'trade' | 'threat' | 'image';\r\n\r\nexport type AuthType = 'apiKey' | 'oauth' | 'none';\r\n\r\nexport interface ExternalAPI {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  mode: OmniMode | OmniMode[];\r\n  authType: AuthType;\r\n  baseUrl?: string;\r\n  docsUrl?: string;\r\n  authEnvKey?: string;\r\n  rateLimitPerMin?: number;\r\n}\r\n\r\nexport const EXTERNAL_APIS: ExternalAPI[] = [\r\n  // Research mode APIs\r\n  {\r\n    id: 'openai',\r\n    name: 'OpenAI',\r\n    description: 'GPT models for research and analysis',\r\n    mode: 'research',\r\n    authType: 'apiKey',\r\n    authEnvKey: 'OPENAI_API_KEY',\r\n    docsUrl: 'https://platform.openai.com/docs',\r\n    rateLimitPerMin: 60,\r\n  },\r\n  {\r\n    id: 'anthropic',\r\n    name: 'Anthropic',\r\n    description: 'Claude models for research',\r\n    mode: 'research',\r\n    authType: 'apiKey',\r\n    authEnvKey: 'ANTHROPIC_API_KEY',\r\n    docsUrl: 'https://docs.anthropic.com',\r\n    rateLimitPerMin: 50,\r\n  },\r\n  // Trade mode APIs\r\n  {\r\n    id: 'finnhub',\r\n    name: 'Finnhub',\r\n    description: 'Real-time market data for NSE/BSE, US markets, and crypto',\r\n    mode: 'trade',\r\n    authType: 'apiKey',\r\n    authEnvKey: 'FINNHUB_API_KEY',\r\n    baseUrl: 'https://finnhub.io/api/v1',\r\n    docsUrl: 'https://finnhub.io/docs/api',\r\n    rateLimitPerMin: 60, // Free tier: 60 calls/min\r\n  },\r\n  {\r\n    id: 'zerodha',\r\n    name: 'Zerodha Kite',\r\n    description: 'Real-time order execution for NSE/BSE (India)',\r\n    mode: 'trade',\r\n    authType: 'apiKey',\r\n    authEnvKey: 'ZERODHA_API_KEY',\r\n    docsUrl: 'https://kite.trade/docs/connect/v3',\r\n    rateLimitPerMin: 300, // Kite Connect rate limits\r\n  },\r\n  {\r\n    id: 'binance',\r\n    name: 'Binance',\r\n    description: 'Real-time crypto prices via WebSocket',\r\n    mode: 'trade',\r\n    authType: 'none',\r\n    baseUrl: 'https://api.binance.com',\r\n    docsUrl: 'https://binance-docs.github.io/apidocs/spot/en',\r\n    rateLimitPerMin: 1200, // Binance allows high rate limits\r\n  },\r\n  {\r\n    id: 'alpaca',\r\n    name: 'Alpaca',\r\n    description: 'Stock trading API (US markets)',\r\n    mode: 'trade',\r\n    authType: 'apiKey',\r\n    authEnvKey: 'ALPACA_API_KEY',\r\n    docsUrl: 'https://alpaca.markets/docs',\r\n  },\r\n  // Threat mode APIs\r\n  {\r\n    id: 'virustotal',\r\n    name: 'VirusTotal',\r\n    description: 'Threat intelligence API',\r\n    mode: 'threat',\r\n    authType: 'apiKey',\r\n    authEnvKey: 'VIRUSTOTAL_API_KEY',\r\n    docsUrl: 'https://developers.virustotal.com',\r\n    rateLimitPerMin: 4,\r\n  },\r\n  // Image mode APIs\r\n  {\r\n    id: 'stability',\r\n    name: 'Stability AI',\r\n    description: 'Image generation API',\r\n    mode: 'image',\r\n    authType: 'apiKey',\r\n    authEnvKey: 'STABILITY_API_KEY',\r\n    docsUrl: 'https://platform.stability.ai/docs',\r\n  },\r\n];\r\n\r\nexport interface DefaultEnabledApis {\r\n  research: string[];\r\n  trade: string[];\r\n  threat: string[];\r\n  image: string[];\r\n}\r\n\r\nexport function getDefaultEnabledApis(): DefaultEnabledApis {\r\n  return {\r\n    research: [],\r\n    trade: ['finnhub', 'binance'], // Enable Finnhub and Binance by default (free tiers)\r\n    threat: [],\r\n    image: [],\r\n  };\r\n}\r\n\r\nexport function getApiById(apiId: string): ExternalAPI | undefined {\r\n  return EXTERNAL_APIS.find(api => api.id === apiId);\r\n}\r\n\r\nexport function getApisForMode(mode: OmniMode): ExternalAPI[] {\r\n  return EXTERNAL_APIS.filter(\r\n    api => api.mode === mode || (Array.isArray(api.mode) && api.mode.includes(mode))\r\n  );\r\n}\r\n\r\n","import { create } from 'zustand';\r\nimport { persist } from 'zustand/middleware';\r\nimport {\r\n  EXTERNAL_APIS,\r\n  getDefaultEnabledApis,\r\n  type OmniMode,\r\n  type ExternalAPI,\r\n} from '../config/externalApis';\r\n\r\n/**\r\n * API Health Status\r\n */\r\nexport interface ApiHealthStatus {\r\n  /** Last successful request timestamp */\r\n  lastSuccess?: number;\r\n\r\n  /** Last error timestamp */\r\n  lastError?: number;\r\n\r\n  /** Error count in the last hour */\r\n  errorCount: number;\r\n\r\n  /** Average latency in milliseconds */\r\n  avgLatency?: number;\r\n\r\n  /** Total request count */\r\n  requestCount: number;\r\n}\r\n\r\n/**\r\n * API Configuration (user settings)\r\n */\r\nexport interface ApiConfig {\r\n  /** Whether this API is enabled */\r\n  enabled: boolean;\r\n\r\n  /** API key (stored securely, encrypted in production) */\r\n  apiKey?: string;\r\n\r\n  /** Health status */\r\n  health: ApiHealthStatus;\r\n}\r\n\r\ntype ExternalApisState = {\r\n  /** Map of API ID -> configuration */\r\n  apis: Record<string, ApiConfig>;\r\n\r\n  /** Initialize with defaults */\r\n  initialize: () => void;\r\n\r\n  /** Enable/disable an API */\r\n  setApiEnabled: (apiId: string, enabled: boolean) => void;\r\n\r\n  /** Set API key for an API */\r\n  setApiKey: (apiId: string, key: string) => void;\r\n\r\n  /** Clear API key */\r\n  clearApiKey: (apiId: string) => void;\r\n\r\n  /** Update health status */\r\n  updateHealth: (apiId: string, update: Partial<ApiHealthStatus>) => void;\r\n\r\n  /** Record a successful request */\r\n  recordSuccess: (apiId: string, latency: number) => void;\r\n\r\n  /** Record a failed request */\r\n  recordError: (apiId: string) => void;\r\n\r\n  /** Get config for an API */\r\n  getApiConfig: (apiId: string) => ApiConfig | undefined;\r\n\r\n  /** Get all enabled APIs for a mode */\r\n  getEnabledApisForMode: (mode: OmniMode) => ExternalAPI[];\r\n\r\n  /** Reset all API settings */\r\n  reset: () => void;\r\n};\r\n\r\nconst createDefaultConfig = (): ApiConfig => ({\r\n  enabled: false,\r\n  apiKey: undefined,\r\n  health: {\r\n    errorCount: 0,\r\n    requestCount: 0,\r\n  },\r\n});\r\n\r\nconst createInitialState = (): Record<string, ApiConfig> => {\r\n  const defaults = getDefaultEnabledApis();\r\n  const state: Record<string, ApiConfig> = {};\r\n\r\n  // Initialize all APIs as disabled\r\n  for (const api of EXTERNAL_APIS) {\r\n    state[api.id] = {\r\n      ...createDefaultConfig(),\r\n      // Enable default APIs\r\n      enabled:\r\n        (api.mode === 'trade' && defaults.trade.includes(api.id)) ||\r\n        (api.mode === 'research' && defaults.research.includes(api.id)) ||\r\n        (api.mode === 'threat' && defaults.threat.includes(api.id)) ||\r\n        (api.mode === 'image' && defaults.image.includes(api.id)) ||\r\n        (Array.isArray(api.mode) && api.mode.some(m => defaults[m]?.includes(api.id))),\r\n    };\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nexport const useExternalApisStore = create<ExternalApisState>()(\r\n  persist(\r\n    (set, get) => ({\r\n      apis: createInitialState(),\r\n\r\n      initialize: () => {\r\n        const current = get().apis;\r\n        const initial = createInitialState();\r\n\r\n        // Merge: keep existing configs, add new APIs\r\n        const merged: Record<string, ApiConfig> = { ...initial };\r\n        for (const [id, config] of Object.entries(current)) {\r\n          if (merged[id]) {\r\n            // Preserve user settings\r\n            merged[id] = {\r\n              ...merged[id],\r\n              enabled: config.enabled,\r\n              apiKey: config.apiKey,\r\n              health: config.health,\r\n            };\r\n          } else {\r\n            // Keep old APIs that might have been removed\r\n            merged[id] = config;\r\n          }\r\n        }\r\n\r\n        set({ apis: merged });\r\n      },\r\n\r\n      setApiEnabled: (apiId, enabled) =>\r\n        set(state => ({\r\n          apis: {\r\n            ...state.apis,\r\n            [apiId]: {\r\n              ...(state.apis[apiId] ?? createDefaultConfig()),\r\n              enabled,\r\n            },\r\n          },\r\n        })),\r\n\r\n      setApiKey: (apiId, key) =>\r\n        set(state => ({\r\n          apis: {\r\n            ...state.apis,\r\n            [apiId]: {\r\n              ...(state.apis[apiId] ?? createDefaultConfig()),\r\n              apiKey: key,\r\n            },\r\n          },\r\n        })),\r\n\r\n      clearApiKey: apiId =>\r\n        set(state => ({\r\n          apis: {\r\n            ...state.apis,\r\n            [apiId]: {\r\n              ...(state.apis[apiId] ?? createDefaultConfig()),\r\n              apiKey: undefined,\r\n            },\r\n          },\r\n        })),\r\n\r\n      updateHealth: (apiId, update) =>\r\n        set(state => {\r\n          const current = state.apis[apiId] ?? createDefaultConfig();\r\n          return {\r\n            apis: {\r\n              ...state.apis,\r\n              [apiId]: {\r\n                ...current,\r\n                health: {\r\n                  ...current.health,\r\n                  ...update,\r\n                },\r\n              },\r\n            },\r\n          };\r\n        }),\r\n\r\n      recordSuccess: (apiId, latency) =>\r\n        set(state => {\r\n          const current = state.apis[apiId] ?? createDefaultConfig();\r\n          const health = current.health;\r\n          const newRequestCount = health.requestCount + 1;\r\n\r\n          // Calculate running average latency\r\n          const avgLatency = health.avgLatency\r\n            ? (health.avgLatency * health.requestCount + latency) / newRequestCount\r\n            : latency;\r\n\r\n          return {\r\n            apis: {\r\n              ...state.apis,\r\n              [apiId]: {\r\n                ...current,\r\n                health: {\r\n                  ...health,\r\n                  lastSuccess: Date.now(),\r\n                  requestCount: newRequestCount,\r\n                  avgLatency,\r\n                  // Reset error count on success\r\n                  errorCount: 0,\r\n                },\r\n              },\r\n            },\r\n          };\r\n        }),\r\n\r\n      recordError: apiId =>\r\n        set(state => {\r\n          const current = state.apis[apiId] ?? createDefaultConfig();\r\n          const health = current.health;\r\n          const now = Date.now();\r\n\r\n          // Reset error count if last error was > 1 hour ago\r\n          const oneHourAgo = now - 60 * 60 * 1000;\r\n          const errorCount =\r\n            health.lastError && health.lastError > oneHourAgo ? health.errorCount + 1 : 1;\r\n\r\n          return {\r\n            apis: {\r\n              ...state.apis,\r\n              [apiId]: {\r\n                ...current,\r\n                health: {\r\n                  ...health,\r\n                  lastError: now,\r\n                  errorCount,\r\n                },\r\n              },\r\n            },\r\n          };\r\n        }),\r\n\r\n      getApiConfig: apiId => {\r\n        return get().apis[apiId];\r\n      },\r\n\r\n      getEnabledApisForMode: mode => {\r\n        const state = get();\r\n        return EXTERNAL_APIS.filter(api => {\r\n          const config = state.apis[api.id];\r\n          if (!config?.enabled) return false;\r\n\r\n          if (Array.isArray(api.mode)) {\r\n            return api.mode.includes(mode);\r\n          }\r\n          return api.mode === mode;\r\n        });\r\n      },\r\n\r\n      reset: () => {\r\n        set({ apis: createInitialState() });\r\n      },\r\n    }),\r\n    {\r\n      name: 'regen:external-apis-v1',\r\n      version: 1,\r\n      // Don't persist API keys in localStorage (should use secure storage in production)\r\n      partialize: state => ({\r\n        apis: Object.fromEntries(\r\n          Object.entries(state.apis).map(([id, config]) => [\r\n            id,\r\n            {\r\n              enabled: config.enabled,\r\n              // apiKey is NOT persisted for security\r\n              health: config.health,\r\n            },\r\n          ])\r\n        ),\r\n      }),\r\n    }\r\n  )\r\n);\r\n","import { useMemo, useState } from 'react';\nimport { Search, Command, MousePointerClick, Sparkles } from 'lucide-react';\n\ntype ShortcutEntry = {\n  combo: string;\n  action: string;\n  context: string;\n};\n\nconst SHORTCUT_GROUPS: Array<{ id: string; title: string; shortcuts: ShortcutEntry[] }> = [\n  {\n    id: 'navigation',\n    title: 'Global navigation',\n    shortcuts: [\n      { combo: 'Ctrl/Cmd + L', action: 'Focus omnibox', context: 'Global' },\n      { combo: 'Ctrl/Cmd + K', action: 'Command palette / AI actions', context: 'Global' },\n      { combo: 'Ctrl/Cmd + T', action: 'Open new tab', context: 'Tabs' },\n      { combo: 'Ctrl/Cmd + W', action: 'Close current tab', context: 'Tabs' },\n      { combo: 'Ctrl/Cmd + Shift + T', action: 'Reopen last closed tab', context: 'Tabs' },\n      { combo: 'Ctrl/Cmd + Tab', action: 'Cycle tabs in current mode', context: 'Tabs' },\n    ],\n  },\n  {\n    id: 'research',\n    title: 'Research mode',\n    shortcuts: [\n      { combo: 'Ctrl/Cmd + Shift + G', action: 'Open tab DNA graph', context: 'Research' },\n      { combo: 'Ctrl/Cmd + Shift + H', action: 'Capture highlight clipper', context: 'Research' },\n      { combo: 'Ctrl/Cmd + Shift + M', action: 'Toggle memory sidebar', context: 'Research' },\n    ],\n  },\n  {\n    id: 'trade',\n    title: 'Trade mode',\n    shortcuts: [\n      { combo: 'Shift + 1..9', action: 'Toggle indicator presets', context: 'Trade' },\n      { combo: 'Ctrl/Cmd + Shift + R', action: 'Refresh TradingView feed', context: 'Trade' },\n      { combo: 'Ctrl/Cmd + Enter', action: 'Submit staged order', context: 'Trade' },\n    ],\n  },\n  {\n    id: 'system',\n    title: 'System & overlays',\n    shortcuts: [\n      { combo: 'Esc', action: 'Dismiss active overlay', context: 'Global' },\n      { combo: 'Ctrl/Cmd + Shift + A', action: 'Toggle Agent console', context: 'Global' },\n      { combo: 'F11', action: 'Toggle full-screen game mode', context: 'Games' },\n    ],\n  },\n];\n\nexport function ShortcutsHelp() {\n  const [query, setQuery] = useState('');\n\n  const filteredGroups = useMemo(() => {\n    if (!query.trim()) {\n      return SHORTCUT_GROUPS;\n    }\n    const lower = query.toLowerCase();\n    return SHORTCUT_GROUPS.map(group => ({\n      ...group,\n      shortcuts: group.shortcuts.filter(\n        shortcut =>\n          shortcut.combo.toLowerCase().includes(lower) ||\n          shortcut.action.toLowerCase().includes(lower) ||\n          shortcut.context.toLowerCase().includes(lower)\n      ),\n    })).filter(group => group.shortcuts.length > 0);\n  }, [query]);\n\n  return (\n    <div className=\"space-y-6\">\n      <header className=\"space-y-2\">\n        <h1 className=\"flex items-center gap-2 text-2xl font-semibold text-white\">\n          <Command size={18} className=\"text-purple-300\" />\n          Keyboard reference\n        </h1>\n        <p className=\"text-sm text-slate-400\">\n          Every shortcut in Regen grouped by context. Type to filter or scan per-mode highlights.\n        </p>\n        <div className=\"relative mt-4\">\n          <Search size={16} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500\" />\n          <input\n            value={query}\n            onChange={event => setQuery(event.target.value)}\n            placeholder=\"Filter shortcuts by key, action, or context\"\n            className=\"w-full rounded-2xl border border-slate-800 bg-slate-950/70 py-2 pl-9 pr-4 text-sm text-white placeholder:text-slate-500 focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500/60\"\n          />\n        </div>\n      </header>\n\n      <div className=\"grid gap-4\">\n        {filteredGroups.map(group => (\n          <section\n            key={group.id}\n            className=\"rounded-3xl border border-slate-900/70 bg-slate-950/60 p-4 shadow-inner shadow-black/30\"\n          >\n            <div className=\"mb-3 flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-sm font-semibold uppercase tracking-[0.25em] text-white\">\n                  {group.title}\n                </h2>\n              </div>\n              {group.id === 'research' && (\n                <span className=\"inline-flex items-center gap-1 rounded-full bg-sky-500/10 px-2.5 py-0.5 text-[11px] font-semibold text-sky-200\">\n                  <Sparkles size={12} />\n                  AI aware\n                </span>\n              )}\n            </div>\n            <div className=\"space-y-2\">\n              {group.shortcuts.map(shortcut => (\n                <div\n                  key={`${group.id}-${shortcut.combo}`}\n                  className=\"border-white/8 flex items-center justify-between rounded-2xl border bg-white/5 px-3 py-2 text-sm text-slate-200\"\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <kbd className=\"rounded-xl border border-white/20 bg-black/30 px-3 py-1 text-xs font-semibold tracking-wide text-white\">\n                      {shortcut.combo}\n                    </kbd>\n                    <span>{shortcut.action}</span>\n                  </div>\n                  <span className=\"text-xs uppercase tracking-[0.3em] text-slate-500\">\n                    {shortcut.context}\n                  </span>\n                </div>\n              ))}\n              {group.shortcuts.length === 0 && (\n                <div className=\"rounded-2xl border border-dashed border-white/10 bg-white/5 px-3 py-2 text-xs text-slate-500\">\n                  No shortcuts match “{query}” in this group.\n                </div>\n              )}\n            </div>\n          </section>\n        ))}\n        {filteredGroups.length === 0 && (\n          <div className=\"rounded-3xl border border-dashed border-white/10 bg-white/5 p-6 text-center text-sm text-slate-500\">\n            No shortcuts match “{query}”. Try searching “tab”, “agent”, or “games”.\n          </div>\n        )}\n      </div>\n\n      <div className=\"flex items-start gap-3 rounded-3xl border border-white/10 bg-white/[0.03] p-4 text-xs text-slate-400\">\n        <MousePointerClick size={14} className=\"mt-0.5 text-purple-300\" />\n        <span>\n          Tip: Hold <strong>Ctrl/Cmd</strong> while hovering UI buttons to see contextual shortcuts\n          in-line. This onboarding helper is also available from{' '}\n          <strong>Settings → Shortcuts</strong> anytime.\n        </span>\n      </div>\n    </div>\n  );\n}\n","/**\n * Settings Page - Complete UI for all settings\n * Tabs: Accounts, Appearance, APIs, Bookmarks, Workspaces, Safety, Shortcuts\n */\n\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport {\n  User,\n  Palette,\n  Plug,\n  Bookmark,\n  FolderOpen,\n  Shield,\n  Keyboard,\n  Zap,\n  Activity,\n} from 'lucide-react';\nimport { useSettingsStore } from '../state/settingsStore';\nimport { useExternalApisStore } from '../state/externalApisStore';\nimport { useCapabilityStore, getCapabilityDescriptions } from '../core/security/capabilities';\nimport { pluginRegistry } from '../core/plugins/registry';\nimport { crashReporter } from '../core/crash-reporting';\nimport { BookmarksPanel } from '../components/bookmarks/BookmarksPanel';\nimport { WorkspacesPanel } from '../components/WorkspacesPanel';\nimport { ShortcutsHelp } from '../components/help/ShortcutsHelp';\nimport { EXTERNAL_APIS, getApisForMode, type ExternalAPI } from '../config/externalApis';\nimport { formatDistanceToNow } from 'date-fns';\nimport { PrivacyDashboard } from '../components/integrations/PrivacyDashboard';\n\n// Helper Components\nfunction SectionCard({\n  title,\n  description,\n  icon: Icon,\n  children,\n}: {\n  title: string;\n  description?: string;\n  icon?: React.ComponentType<{ size?: number | string; className?: string }>;\n  children: React.ReactNode;\n}) {\n  return (\n    <div className=\"rounded-lg border border-slate-800 bg-slate-900/50 p-6\">\n      <div className=\"mb-4 flex items-center gap-3\">\n        {Icon && <Icon size={20} className=\"text-slate-400\" />}\n        <div>\n          <h3 className=\"text-lg font-semibold text-white\">{title}</h3>\n          {description && <p className=\"mt-1 text-sm text-slate-400\">{description}</p>}\n        </div>\n      </div>\n      <div className=\"space-y-4\">{children}</div>\n    </div>\n  );\n}\n\nfunction ToggleRow({\n  label,\n  checked,\n  onChange,\n  description,\n}: {\n  label: string;\n  checked: boolean;\n  onChange: (checked: boolean) => void;\n  description?: string;\n}) {\n  return (\n    <div className=\"flex items-center justify-between py-2\">\n      <div className=\"flex-1\">\n        <label className=\"cursor-pointer text-sm font-medium text-slate-200\">{label}</label>\n        {description && <p className=\"mt-1 text-xs text-slate-400\">{description}</p>}\n      </div>\n      <button\n        type=\"button\"\n        onClick={() => onChange(!checked)}\n        className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n          checked ? 'bg-blue-600' : 'bg-slate-700'\n        }`}\n        role=\"switch\"\n        aria-checked={checked}\n      >\n        <span\n          className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n            checked ? 'translate-x-6' : 'translate-x-1'\n          }`}\n        />\n      </button>\n    </div>\n  );\n}\n\nfunction LabeledField({ label, children }: { label: string; children: React.ReactNode }) {\n  return (\n    <div className=\"space-y-2\">\n      <label className=\"text-sm font-medium text-slate-200\">{label}</label>\n      {children}\n    </div>\n  );\n}\n\n// Tab definitions\nconst TABS = [\n  { id: 'accounts', label: 'Account', icon: User },\n  { id: 'appearance', label: 'Appearance', icon: Palette },\n  { id: 'apis', label: 'APIs', icon: Plug },\n  { id: 'bookmarks', label: 'Bookmarks', icon: Bookmark },\n  { id: 'workspaces', label: 'Workspaces', icon: FolderOpen },\n  { id: 'safety', label: 'Safety', icon: Shield },\n  { id: 'shortcuts', label: 'Shortcuts', icon: Keyboard },\n] as const;\n\ntype TabId = (typeof TABS)[number]['id'];\n\nexport default function SettingsRoute() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const tabParam = searchParams.get('tab') as TabId | null;\n  const [activeTab, setActiveTab] = useState<TabId>(\n    tabParam && TABS.some(t => t.id === tabParam) ? tabParam : 'accounts'\n  );\n\n  useEffect(() => {\n    if (tabParam && TABS.some(t => t.id === tabParam)) {\n      setActiveTab(tabParam);\n    }\n  }, [tabParam]);\n\n  const handleTabChange = (tabId: TabId) => {\n    setActiveTab(tabId);\n    setSearchParams({ tab: tabId });\n  };\n\n  return (\n    <div className=\"flex h-full w-full bg-slate-950 text-slate-100\">\n      {/* Sidebar */}\n      <div className=\"w-64 border-r border-slate-800 bg-slate-900/50 p-4\">\n        <h2 className=\"mb-4 text-lg font-semibold\">Settings</h2>\n        <nav className=\"space-y-1\">\n          {TABS.map(tab => {\n            const Icon = tab.icon;\n            return (\n              <button\n                key={tab.id}\n                onClick={() => handleTabChange(tab.id)}\n                className={`flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm transition-colors ${\n                  activeTab === tab.id\n                    ? 'border border-blue-500/40 bg-blue-600/20 text-blue-300'\n                    : 'text-slate-400 hover:bg-slate-800/50 hover:text-slate-200'\n                }`}\n              >\n                <Icon size={18} />\n                <span>{tab.label}</span>\n              </button>\n            );\n          })}\n        </nav>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-y-auto p-6\">\n        {activeTab === 'accounts' && <AccountsPanel />}\n        {activeTab === 'appearance' && <AppearancePanel />}\n        {activeTab === 'apis' && <ApisPanel />}\n        {activeTab === 'bookmarks' && (\n          <div className=\"h-full\">\n            <BookmarksPanel />\n          </div>\n        )}\n        {activeTab === 'workspaces' && (\n          <div className=\"h-full\">\n            <WorkspacesPanel />\n          </div>\n        )}\n        {activeTab === 'safety' && <SafetyPanel />}\n        {activeTab === 'shortcuts' && <ShortcutsHelp />}\n      </div>\n    </div>\n  );\n}\n\n// Accounts Panel\nfunction AccountsPanel() {\n  const settings = useSettingsStore();\n  const account = settings.account;\n\n  return (\n    <div className=\"space-y-6\">\n      <SectionCard title=\"Profile\" icon={User}>\n        <LabeledField label=\"Display Name\">\n          <input\n            type=\"text\"\n            value={account?.displayName || ''}\n            onChange={e => settings.updateAccount({ displayName: e.target.value })}\n            placeholder=\"Your name\"\n            className=\"w-full rounded-lg border border-slate-700 bg-slate-800 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\n          />\n        </LabeledField>\n        <LabeledField label=\"Avatar Color\">\n          <input\n            type=\"color\"\n            value={account?.avatarColor || '#8b5cf6'}\n            onChange={e => settings.updateAccount({ avatarColor: e.target.value })}\n            className=\"h-10 w-20 cursor-pointer rounded\"\n          />\n        </LabeledField>\n      </SectionCard>\n\n      <SectionCard title=\"Account Status\" icon={User}>\n        <div className=\"text-sm text-slate-400\">\n          <p>Local account (no sign-in required)</p>\n          <p className=\"mt-2 text-xs\">Your data is stored locally on this device.</p>\n        </div>\n      </SectionCard>\n    </div>\n  );\n}\n\n// Appearance Panel\nfunction AppearancePanel() {\n  const settings = useSettingsStore();\n  const appearance = settings.appearance;\n\n  return (\n    <div className=\"space-y-6\">\n      <SectionCard title=\"Theme\" icon={Palette}>\n        <LabeledField label=\"Color Scheme\">\n          <select\n            value={appearance.theme || 'dark'}\n            onChange={e =>\n              settings.updateAppearance({ theme: e.target.value as 'light' | 'dark' | 'system' })\n            }\n            className=\"w-full rounded-lg border border-slate-700 bg-slate-800 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\n          >\n            <option value=\"dark\">Dark</option>\n            <option value=\"light\">Light</option>\n            <option value=\"system\">System</option>\n          </select>\n        </LabeledField>\n        <ToggleRow\n          label=\"Compact UI\"\n          checked={appearance.compactUI || false}\n          onChange={checked => settings.updateAppearance({ compactUI: checked })}\n          description=\"Reduce spacing and padding for a more compact interface\"\n        />\n        <ToggleRow\n          label=\"Chrome-style New Tab Page\"\n          checked={appearance.chromeNewTabPage ?? true}\n          onChange={checked => settings.updateAppearance({ chromeNewTabPage: checked })}\n          description=\"Use Google Chrome-style new tab page\"\n        />\n      </SectionCard>\n    </div>\n  );\n}\n\n// APIs Panel\nfunction ApisPanel() {\n  const { apis, setApiEnabled, setApiKey } = useExternalApisStore();\n  const [selectedMode, setSelectedMode] = useState<'trade' | 'research' | 'threat' | 'image'>(\n    'research'\n  );\n  const [showDiagnostics, setShowDiagnostics] = useState(false);\n\n  const modeApis = getApisForMode(selectedMode);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Mode Selector */}\n      <div className=\"mb-6 flex gap-2\">\n        {(['research', 'trade', 'threat', 'image'] as const).map(mode => (\n          <button\n            key={mode}\n            onClick={() => setSelectedMode(mode)}\n            className={`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${\n              selectedMode === mode\n                ? 'bg-blue-600 text-white'\n                : 'bg-slate-800 text-slate-300 hover:bg-slate-700'\n            }`}\n          >\n            {mode.charAt(0).toUpperCase() + mode.slice(1)}\n          </button>\n        ))}\n      </div>\n\n      {/* APIs List */}\n      <SectionCard\n        title={`${selectedMode.charAt(0).toUpperCase() + selectedMode.slice(1)} Mode APIs`}\n        icon={Plug}\n      >\n        <div className=\"space-y-3\">\n          {modeApis.map((api: ExternalAPI) => {\n            const apiState = apis[api.id];\n            const health = apiState?.health;\n            const isEnabled = apiState?.enabled ?? false;\n            const needsApiKey = api.authType === 'apiKey' && !apiState?.apiKey;\n\n            return (\n              <div key={api.id} className=\"rounded-lg border border-slate-800 bg-slate-800/30 p-4\">\n                <div className=\"mb-3 flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"mb-1 flex items-center gap-2\">\n                      <h4 className=\"font-medium text-slate-200\">{api.name}</h4>\n                      {needsApiKey && (\n                        <span className=\"rounded bg-amber-500/20 px-2 py-0.5 text-xs text-amber-300\">\n                          Key Required\n                        </span>\n                      )}\n                      {api.rateLimitPerMin && api.rateLimitPerMin > 100 && (\n                        <span className=\"rounded bg-blue-500/20 px-2 py-0.5 text-xs text-blue-300\">\n                          High Rate Limit\n                        </span>\n                      )}\n                    </div>\n                    <p className=\"mb-2 text-xs text-slate-400\">{api.description}</p>\n                    {health && (\n                      <div className=\"text-xs text-slate-500\">\n                        Last success:{' '}\n                        {health.lastSuccess\n                          ? formatDistanceToNow(new Date(health.lastSuccess), { addSuffix: true })\n                          : 'Never'}\n                        {health.requestCount > 0 &&\n                          health.errorCount > 0 &&\n                          ` • Error rate: ${((health.errorCount / health.requestCount) * 100).toFixed(1)}%`}\n                      </div>\n                    )}\n                  </div>\n                  <ToggleRow\n                    label=\"\"\n                    checked={isEnabled}\n                    onChange={checked => setApiEnabled(api.id, checked)}\n                  />\n                </div>\n                {isEnabled && needsApiKey && (\n                  <div className=\"mt-3 border-t border-slate-700 pt-3\">\n                    <LabeledField label=\"API Key\">\n                      <input\n                        type=\"password\"\n                        value={apiState?.apiKey || ''}\n                        onChange={e => setApiKey(api.id, e.target.value)}\n                        placeholder={`Enter ${api.name} API key`}\n                        className=\"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\n                      />\n                    </LabeledField>\n                    {api.docsUrl && (\n                      <a\n                        href={api.docsUrl}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"mt-1 inline-block text-xs text-blue-400 hover:text-blue-300\"\n                      >\n                        Get API key →\n                      </a>\n                    )}\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </SectionCard>\n\n      {/* Diagnostics */}\n      <SectionCard title=\"API Diagnostics\" icon={Activity}>\n        <ToggleRow\n          label=\"Show Diagnostics\"\n          checked={showDiagnostics}\n          onChange={setShowDiagnostics}\n          description=\"View detailed API health metrics\"\n        />\n        {showDiagnostics && <ApiDiagnosticsPanel />}\n      </SectionCard>\n    </div>\n  );\n}\n\nfunction ApiDiagnosticsPanel() {\n  const { apis } = useExternalApisStore();\n  const allApis = EXTERNAL_APIS;\n\n  return (\n    <div className=\"mt-4 overflow-x-auto\">\n      <table className=\"w-full text-sm\">\n        <thead>\n          <tr className=\"border-b border-slate-700\">\n            <th className=\"px-3 py-2 text-left text-slate-400\">API</th>\n            <th className=\"px-3 py-2 text-left text-slate-400\">Mode</th>\n            <th className=\"px-3 py-2 text-left text-slate-400\">Status</th>\n            <th className=\"px-3 py-2 text-left text-slate-400\">Last Success</th>\n            <th className=\"px-3 py-2 text-left text-slate-400\">Error Rate</th>\n            <th className=\"px-3 py-2 text-left text-slate-400\">Avg Latency</th>\n          </tr>\n        </thead>\n        <tbody>\n          {allApis.map((api: ExternalAPI) => {\n            const apiState = apis[api.id];\n            const health = apiState?.health;\n            const isEnabled = apiState?.enabled ?? false;\n\n            return (\n              <tr key={api.id} className=\"border-b border-slate-800\">\n                <td className=\"px-3 py-2 text-slate-200\">{api.name}</td>\n                <td className=\"px-3 py-2 text-slate-400\">{api.mode}</td>\n                <td className=\"px-3 py-2\">\n                  <span\n                    className={`rounded px-2 py-0.5 text-xs ${\n                      isEnabled ? 'bg-green-500/20 text-green-300' : 'bg-slate-700 text-slate-400'\n                    }`}\n                  >\n                    {isEnabled ? 'Enabled' : 'Disabled'}\n                  </span>\n                </td>\n                <td className=\"px-3 py-2 text-slate-400\">\n                  {health?.lastSuccess\n                    ? formatDistanceToNow(new Date(health.lastSuccess), { addSuffix: true })\n                    : 'Never'}\n                </td>\n                <td className=\"px-3 py-2 text-slate-400\">\n                  {health && health.requestCount > 0\n                    ? `${((health.errorCount / health.requestCount) * 100).toFixed(1)}%`\n                    : 'N/A'}\n                </td>\n                <td className=\"px-3 py-2 text-slate-400\">\n                  {health?.avgLatency ? `${health.avgLatency}ms` : 'N/A'}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\n// Safety Panel\nfunction SafetyPanel() {\n  const {\n    capabilities,\n    experimentalToolsEnabled,\n    externalPluginsEnabled,\n    setCapability,\n    setExperimentalTools,\n    setExternalPlugins,\n  } = useCapabilityStore();\n\n  const capabilityDescriptions = getCapabilityDescriptions();\n  const plugins = pluginRegistry.getAll();\n\n  return (\n    <div className=\"space-y-6\">\n      <SectionCard title=\"Agent Capabilities\" icon={Shield}>\n        <p className=\"mb-4 text-sm text-slate-400\">\n          Control what OmniAgent can do. Disable capabilities you don't trust.\n        </p>\n        {Object.entries(capabilities).map(([cap, enabled]) => (\n          <ToggleRow\n            key={cap}\n            label={capabilityDescriptions[cap as keyof typeof capabilityDescriptions]}\n            checked={enabled}\n            onChange={checked => setCapability(cap as any, checked)}\n          />\n        ))}\n      </SectionCard>\n\n      <SectionCard title=\"Experimental Features\" icon={Zap}>\n        <ToggleRow\n          label=\"Allow experimental tools\"\n          checked={experimentalToolsEnabled}\n          onChange={setExperimentalTools}\n          description=\"Enable experimental agent tools that may be unstable\"\n        />\n        <ToggleRow\n          label=\"Allow external plugins\"\n          checked={externalPluginsEnabled}\n          onChange={setExternalPlugins}\n          description=\"Allow loading and running external plugins\"\n        />\n      </SectionCard>\n\n      <SectionCard title=\"Plugins\" icon={Plug}>\n        <p className=\"mb-4 text-sm text-slate-400\">Manage installed plugins and extensions.</p>\n        {plugins.length === 0 ? (\n          <p className=\"text-sm text-slate-500\">No plugins installed</p>\n        ) : (\n          <div className=\"space-y-2\">\n            {plugins.map(plugin => (\n              <div\n                key={plugin.id}\n                className=\"flex items-center justify-between rounded-lg border border-slate-800 p-3\"\n              >\n                <div>\n                  <p className=\"text-sm font-medium text-white\">{plugin.name}</p>\n                  <p className=\"text-xs text-slate-400\">{plugin.description || 'No description'}</p>\n                </div>\n                <ToggleRow\n                  label=\"\"\n                  checked={plugin.enabled}\n                  onChange={enabled => {\n                    if (enabled) {\n                      pluginRegistry.enable(plugin.id);\n                    } else {\n                      pluginRegistry.disable(plugin.id);\n                    }\n                  }}\n                />\n              </div>\n            ))}\n          </div>\n        )}\n      </SectionCard>\n\n      <SectionCard title=\"Crash Reporting\" icon={Activity}>\n        <p className=\"mb-4 text-sm text-slate-400\">\n          Help improve Regen by automatically reporting crashes and errors.\n        </p>\n        <ToggleRow\n          label=\"Send crash reports\"\n          checked={crashReporter.isEnabled()}\n          onChange={enabled => crashReporter.setEnabled(enabled)}\n          description=\"Automatically send error reports to help improve Regen\"\n        />\n      </SectionCard>\n\n      {/* Phase 2: Privacy Dashboard */}\n      <SectionCard\n        title=\"Privacy & Trust Controls\"\n        icon={Shield}\n        description=\"Manage domain trust levels and privacy settings\"\n      >\n        <PrivacyDashboard />\n      </SectionCard>\n    </div>\n  );\n}\n"],"names":["EXTERNAL_APIS","getDefaultEnabledApis","getApisForMode","mode","api","createDefaultConfig","createInitialState","defaults","state","m","useExternalApisStore","create","persist","set","get","current","merged","id","config","apiId","enabled","key","update","latency","health","newRequestCount","avgLatency","now","oneHourAgo","errorCount","SHORTCUT_GROUPS","ShortcutsHelp","query","setQuery","useState","filteredGroups","useMemo","lower","group","shortcut","jsxs","jsx","Command","Search","event","Sparkles","MousePointerClick","SectionCard","title","description","Icon","children","ToggleRow","label","checked","onChange","LabeledField","TABS","User","Palette","Plug","Bookmark","FolderOpen","Shield","Keyboard","SettingsRoute","searchParams","setSearchParams","useSearchParams","tabParam","activeTab","setActiveTab","t","useEffect","handleTabChange","tabId","tab","AccountsPanel","AppearancePanel","ApisPanel","BookmarksPanel","WorkspacesPanel","SafetyPanel","settings","useSettingsStore","account","e","appearance","apis","setApiEnabled","setApiKey","selectedMode","setSelectedMode","showDiagnostics","setShowDiagnostics","modeApis","apiState","isEnabled","needsApiKey","formatDistanceToNow","Activity","ApiDiagnosticsPanel","allApis","capabilities","experimentalToolsEnabled","externalPluginsEnabled","setCapability","setExperimentalTools","setExternalPlugins","useCapabilityStore","capabilityDescriptions","getCapabilityDescriptions","plugins","pluginRegistry","cap","Zap","plugin","crashReporter","PrivacyDashboard"],"mappings":"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"}