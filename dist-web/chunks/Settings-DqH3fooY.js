import{r as u,j as e,aQ as L,o as U,S as D,aR as M,aS as _,aT as v,aU as E,aV as A,a4 as O,an as q,e as C,aW as F,ak as k,Z as G}from"./vendor-react-gmX1Lmvt.js";import{u as K}from"./core-ai-yFIunLTZ.js";import{c as $,p as H}from"./vendor-zustand-BWsgwsXr.js";import{b as B,g as Y}from"./mode-research-BclgCwOH.js";import{pluginRegistry as j}from"./registry-CG5fPtjR.js";import{crashReporter as P}from"./crash-reporting-Dtoe4cFC.js";import{B as z,W}from"./WorkspacesPanel-3geKynW_.js";import{P as V}from"./PrivacyDashboard-B5QYv-jo.js";import{f as R}from"./vendor-utils-5Vdoy44w.js";import"./vendor-react-dom-Bkb6jJ_S.js";import"./vendor-Vl2WtvH-.js";import"./mode-manager.ts-DwguZmJt.js";import"./core-memory-DmK-uh9X.js";import"./mode-docs-FcsoolLb.js";import"./vendor-pdf-ejcqEZLU.js";import"./vendor-mammoth-BPQIafDs.js";import"./vendor-framer-motion-DDE19Uim.js";import"./auth-Cg8cvnkf.js";import"./bookmarksStore-CAScveEF.js";import"./workspacesStore-BSqEl-CQ.js";import"../assets/index-D9cF9G1U.js";import"@tauri-apps/api/core";const g=[{id:"openai",name:"OpenAI",description:"GPT models for research and analysis",mode:"research",authType:"apiKey",authEnvKey:"OPENAI_API_KEY",docsUrl:"https://platform.openai.com/docs",rateLimitPerMin:60},{id:"anthropic",name:"Anthropic",description:"Claude models for research",mode:"research",authType:"apiKey",authEnvKey:"ANTHROPIC_API_KEY",docsUrl:"https://docs.anthropic.com",rateLimitPerMin:50},{id:"finnhub",name:"Finnhub",description:"Real-time market data for NSE/BSE, US markets, and crypto",mode:"trade",authType:"apiKey",authEnvKey:"FINNHUB_API_KEY",baseUrl:"https://finnhub.io/api/v1",docsUrl:"https://finnhub.io/docs/api",rateLimitPerMin:60},{id:"zerodha",name:"Zerodha Kite",description:"Real-time order execution for NSE/BSE (India)",mode:"trade",authType:"apiKey",authEnvKey:"ZERODHA_API_KEY",docsUrl:"https://kite.trade/docs/connect/v3",rateLimitPerMin:300},{id:"binance",name:"Binance",description:"Real-time crypto prices via WebSocket",mode:"trade",authType:"none",baseUrl:"https://api.binance.com",docsUrl:"https://binance-docs.github.io/apidocs/spot/en",rateLimitPerMin:1200},{id:"alpaca",name:"Alpaca",description:"Stock trading API (US markets)",mode:"trade",authType:"apiKey",authEnvKey:"ALPACA_API_KEY",docsUrl:"https://alpaca.markets/docs"},{id:"virustotal",name:"VirusTotal",description:"Threat intelligence API",mode:"threat",authType:"apiKey",authEnvKey:"VIRUSTOTAL_API_KEY",docsUrl:"https://developers.virustotal.com",rateLimitPerMin:4},{id:"stability",name:"Stability AI",description:"Image generation API",mode:"image",authType:"apiKey",authEnvKey:"STABILITY_API_KEY",docsUrl:"https://platform.stability.ai/docs"}];function Z(){return{research:[],trade:["finnhub","binance"],threat:[],image:[]}}function Q(r){return g.filter(n=>n.mode===r||Array.isArray(n.mode)&&n.mode.includes(r))}const p=()=>({enabled:!1,apiKey:void 0,health:{errorCount:0,requestCount:0}}),y=()=>{const r=Z(),n={};for(const t of g)n[t.id]={...p(),enabled:t.mode==="trade"&&r.trade.includes(t.id)||t.mode==="research"&&r.research.includes(t.id)||t.mode==="threat"&&r.threat.includes(t.id)||t.mode==="image"&&r.image.includes(t.id)||Array.isArray(t.mode)&&t.mode.some(s=>r[s]?.includes(t.id))};return n},I=$()(H((r,n)=>({apis:y(),initialize:()=>{const t=n().apis,a={...y()};for(const[i,o]of Object.entries(t))a[i]?a[i]={...a[i],enabled:o.enabled,apiKey:o.apiKey,health:o.health}:a[i]=o;r({apis:a})},setApiEnabled:(t,s)=>r(a=>({apis:{...a.apis,[t]:{...a.apis[t]??p(),enabled:s}}})),setApiKey:(t,s)=>r(a=>({apis:{...a.apis,[t]:{...a.apis[t]??p(),apiKey:s}}})),clearApiKey:t=>r(s=>({apis:{...s.apis,[t]:{...s.apis[t]??p(),apiKey:void 0}}})),updateHealth:(t,s)=>r(a=>{const i=a.apis[t]??p();return{apis:{...a.apis,[t]:{...i,health:{...i.health,...s}}}}}),recordSuccess:(t,s)=>r(a=>{const i=a.apis[t]??p(),o=i.health,c=o.requestCount+1,l=o.avgLatency?(o.avgLatency*o.requestCount+s)/c:s;return{apis:{...a.apis,[t]:{...i,health:{...o,lastSuccess:Date.now(),requestCount:c,avgLatency:l,errorCount:0}}}}}),recordError:t=>r(s=>{const a=s.apis[t]??p(),i=a.health,o=Date.now(),c=o-3600*1e3,l=i.lastError&&i.lastError>c?i.errorCount+1:1;return{apis:{...s.apis,[t]:{...a,health:{...i,lastError:o,errorCount:l}}}}}),getApiConfig:t=>n().apis[t],getEnabledApisForMode:t=>{const s=n();return g.filter(a=>s.apis[a.id]?.enabled?Array.isArray(a.mode)?a.mode.includes(t):a.mode===t:!1)},reset:()=>{r({apis:y()})}}),{name:"regen:external-apis-v1",version:1,partialize:r=>({apis:Object.fromEntries(Object.entries(r.apis).map(([n,t])=>[n,{enabled:t.enabled,health:t.health}]))})})),T=[{id:"navigation",title:"Global navigation",shortcuts:[{combo:"Ctrl/Cmd + L",action:"Focus omnibox",context:"Global"},{combo:"Ctrl/Cmd + K",action:"Command palette / AI actions",context:"Global"},{combo:"Ctrl/Cmd + T",action:"Open new tab",context:"Tabs"},{combo:"Ctrl/Cmd + W",action:"Close current tab",context:"Tabs"},{combo:"Ctrl/Cmd + Shift + T",action:"Reopen last closed tab",context:"Tabs"},{combo:"Ctrl/Cmd + Tab",action:"Cycle tabs in current mode",context:"Tabs"}]},{id:"research",title:"Research mode",shortcuts:[{combo:"Ctrl/Cmd + Shift + G",action:"Open tab DNA graph",context:"Research"},{combo:"Ctrl/Cmd + Shift + H",action:"Capture highlight clipper",context:"Research"},{combo:"Ctrl/Cmd + Shift + M",action:"Toggle memory sidebar",context:"Research"}]},{id:"trade",title:"Trade mode",shortcuts:[{combo:"Shift + 1..9",action:"Toggle indicator presets",context:"Trade"},{combo:"Ctrl/Cmd + Shift + R",action:"Refresh TradingView feed",context:"Trade"},{combo:"Ctrl/Cmd + Enter",action:"Submit staged order",context:"Trade"}]},{id:"system",title:"System & overlays",shortcuts:[{combo:"Esc",action:"Dismiss active overlay",context:"Global"},{combo:"Ctrl/Cmd + Shift + A",action:"Toggle Agent console",context:"Global"},{combo:"F11",action:"Toggle full-screen game mode",context:"Games"}]}];function X(){const[r,n]=u.useState(""),t=u.useMemo(()=>{if(!r.trim())return T;const s=r.toLowerCase();return T.map(a=>({...a,shortcuts:a.shortcuts.filter(i=>i.combo.toLowerCase().includes(s)||i.action.toLowerCase().includes(s)||i.context.toLowerCase().includes(s))})).filter(a=>a.shortcuts.length>0)},[r]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"space-y-2",children:[e.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-semibold text-white",children:[e.jsx(L,{size:18,className:"text-purple-300"}),"Keyboard reference"]}),e.jsx("p",{className:"text-sm text-slate-400",children:"Every shortcut in Regen grouped by context. Type to filter or scan per-mode highlights."}),e.jsxs("div",{className:"relative mt-4",children:[e.jsx(U,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{value:r,onChange:s=>n(s.target.value),placeholder:"Filter shortcuts by key, action, or context",className:"w-full rounded-2xl border border-slate-800 bg-slate-950/70 py-2 pl-9 pr-4 text-sm text-white placeholder:text-slate-500 focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500/60"})]})]}),e.jsxs("div",{className:"grid gap-4",children:[t.map(s=>e.jsxs("section",{className:"rounded-3xl border border-slate-900/70 bg-slate-950/60 p-4 shadow-inner shadow-black/30",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-sm font-semibold uppercase tracking-[0.25em] text-white",children:s.title})}),s.id==="research"&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-sky-500/10 px-2.5 py-0.5 text-[11px] font-semibold text-sky-200",children:[e.jsx(D,{size:12}),"AI aware"]})]}),e.jsxs("div",{className:"space-y-2",children:[s.shortcuts.map(a=>e.jsxs("div",{className:"border-white/8 flex items-center justify-between rounded-2xl border bg-white/5 px-3 py-2 text-sm text-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("kbd",{className:"rounded-xl border border-white/20 bg-black/30 px-3 py-1 text-xs font-semibold tracking-wide text-white",children:a.combo}),e.jsx("span",{children:a.action})]}),e.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:a.context})]},`${s.id}-${a.combo}`)),s.shortcuts.length===0&&e.jsxs("div",{className:"rounded-2xl border border-dashed border-white/10 bg-white/5 px-3 py-2 text-xs text-slate-500",children:["No shortcuts match “",r,"” in this group."]})]})]},s.id)),t.length===0&&e.jsxs("div",{className:"rounded-3xl border border-dashed border-white/10 bg-white/5 p-6 text-center text-sm text-slate-500",children:["No shortcuts match “",r,"”. Try searching “tab”, “agent”, or “games”."]})]}),e.jsxs("div",{className:"flex items-start gap-3 rounded-3xl border border-white/10 bg-white/[0.03] p-4 text-xs text-slate-400",children:[e.jsx(M,{size:14,className:"mt-0.5 text-purple-300"}),e.jsxs("span",{children:["Tip: Hold ",e.jsx("strong",{children:"Ctrl/Cmd"})," while hovering UI buttons to see contextual shortcuts in-line. This onboarding helper is also available from"," ",e.jsx("strong",{children:"Settings → Shortcuts"})," anytime."]})]})]})}function d({title:r,description:n,icon:t,children:s}){return e.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/50 p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t&&e.jsx(t,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:r}),n&&e.jsx("p",{className:"mt-1 text-sm text-slate-400",children:n})]})]}),e.jsx("div",{className:"space-y-4",children:s})]})}function h({label:r,checked:n,onChange:t,description:s}){return e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"cursor-pointer text-sm font-medium text-slate-200",children:r}),s&&e.jsx("p",{className:"mt-1 text-xs text-slate-400",children:s})]}),e.jsx("button",{type:"button",onClick:()=>t(!n),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n?"bg-blue-600":"bg-slate-700"}`,role:"switch","aria-checked":n,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]})}function b({label:r,children:n}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-200",children:r}),n]})}const N=[{id:"accounts",label:"Account",icon:v},{id:"appearance",label:"Appearance",icon:E},{id:"apis",label:"APIs",icon:A},{id:"bookmarks",label:"Bookmarks",icon:O},{id:"workspaces",label:"Workspaces",icon:q},{id:"safety",label:"Safety",icon:C},{id:"shortcuts",label:"Shortcuts",icon:F}];function Se(){const[r,n]=_(),t=r.get("tab"),[s,a]=u.useState(t&&N.some(o=>o.id===t)?t:"accounts");u.useEffect(()=>{t&&N.some(o=>o.id===t)&&a(t)},[t]);const i=o=>{a(o),n({tab:o})};return e.jsxs("div",{className:"flex h-full w-full bg-slate-950 text-slate-100",children:[e.jsxs("div",{className:"w-64 border-r border-slate-800 bg-slate-900/50 p-4",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Settings"}),e.jsx("nav",{className:"space-y-1",children:N.map(o=>{const c=o.icon;return e.jsxs("button",{onClick:()=>i(o.id),className:`flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm transition-colors ${s===o.id?"border border-blue-500/40 bg-blue-600/20 text-blue-300":"text-slate-400 hover:bg-slate-800/50 hover:text-slate-200"}`,children:[e.jsx(c,{size:18}),e.jsx("span",{children:o.label})]},o.id)})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s==="accounts"&&e.jsx(J,{}),s==="appearance"&&e.jsx(ee,{}),s==="apis"&&e.jsx(te,{}),s==="bookmarks"&&e.jsx("div",{className:"h-full",children:e.jsx(z,{})}),s==="workspaces"&&e.jsx("div",{className:"h-full",children:e.jsx(W,{})}),s==="safety"&&e.jsx(ae,{}),s==="shortcuts"&&e.jsx(X,{})]})]})}function J(){const r=K(),n=r.account;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{title:"Profile",icon:v,children:[e.jsx(b,{label:"Display Name",children:e.jsx("input",{type:"text",value:n?.displayName||"",onChange:t=>r.updateAccount({displayName:t.target.value}),placeholder:"Your name",className:"w-full rounded-lg border border-slate-700 bg-slate-800 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50"})}),e.jsx(b,{label:"Avatar Color",children:e.jsx("input",{type:"color",value:n?.avatarColor||"#8b5cf6",onChange:t=>r.updateAccount({avatarColor:t.target.value}),className:"h-10 w-20 cursor-pointer rounded"})})]}),e.jsx(d,{title:"Account Status",icon:v,children:e.jsxs("div",{className:"text-sm text-slate-400",children:[e.jsx("p",{children:"Local account (no sign-in required)"}),e.jsx("p",{className:"mt-2 text-xs",children:"Your data is stored locally on this device."})]})})]})}function ee(){const r=K(),n=r.appearance;return e.jsx("div",{className:"space-y-6",children:e.jsxs(d,{title:"Theme",icon:E,children:[e.jsx(b,{label:"Color Scheme",children:e.jsxs("select",{value:n.theme||"dark",onChange:t=>r.updateAppearance({theme:t.target.value}),className:"w-full rounded-lg border border-slate-700 bg-slate-800 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"system",children:"System"})]})}),e.jsx(h,{label:"Compact UI",checked:n.compactUI||!1,onChange:t=>r.updateAppearance({compactUI:t}),description:"Reduce spacing and padding for a more compact interface"}),e.jsx(h,{label:"Chrome-style New Tab Page",checked:n.chromeNewTabPage??!0,onChange:t=>r.updateAppearance({chromeNewTabPage:t}),description:"Use Google Chrome-style new tab page"})]})})}function te(){const{apis:r,setApiEnabled:n,setApiKey:t}=I(),[s,a]=u.useState("research"),[i,o]=u.useState(!1),c=Q(s);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6 flex gap-2",children:["research","trade","threat","image"].map(l=>e.jsx("button",{onClick:()=>a(l),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${s===l?"bg-blue-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:l.charAt(0).toUpperCase()+l.slice(1)},l))}),e.jsx(d,{title:`${s.charAt(0).toUpperCase()+s.slice(1)} Mode APIs`,icon:A,children:e.jsx("div",{className:"space-y-3",children:c.map(l=>{const x=r[l.id],m=x?.health,w=x?.enabled??!1,S=l.authType==="apiKey"&&!x?.apiKey;return e.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-800/30 p-4",children:[e.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-slate-200",children:l.name}),S&&e.jsx("span",{className:"rounded bg-amber-500/20 px-2 py-0.5 text-xs text-amber-300",children:"Key Required"}),l.rateLimitPerMin&&l.rateLimitPerMin>100&&e.jsx("span",{className:"rounded bg-blue-500/20 px-2 py-0.5 text-xs text-blue-300",children:"High Rate Limit"})]}),e.jsx("p",{className:"mb-2 text-xs text-slate-400",children:l.description}),m&&e.jsxs("div",{className:"text-xs text-slate-500",children:["Last success:"," ",m.lastSuccess?R(new Date(m.lastSuccess),{addSuffix:!0}):"Never",m.requestCount>0&&m.errorCount>0&&` • Error rate: ${(m.errorCount/m.requestCount*100).toFixed(1)}%`]})]}),e.jsx(h,{label:"",checked:w,onChange:f=>n(l.id,f)})]}),w&&S&&e.jsxs("div",{className:"mt-3 border-t border-slate-700 pt-3",children:[e.jsx(b,{label:"API Key",children:e.jsx("input",{type:"password",value:x?.apiKey||"",onChange:f=>t(l.id,f.target.value),placeholder:`Enter ${l.name} API key`,className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50"})}),l.docsUrl&&e.jsx("a",{href:l.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-1 inline-block text-xs text-blue-400 hover:text-blue-300",children:"Get API key →"})]})]},l.id)})})}),e.jsxs(d,{title:"API Diagnostics",icon:k,children:[e.jsx(h,{label:"Show Diagnostics",checked:i,onChange:o,description:"View detailed API health metrics"}),i&&e.jsx(se,{})]})]})}function se(){const{apis:r}=I(),n=g;return e.jsx("div",{className:"mt-4 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-700",children:[e.jsx("th",{className:"px-3 py-2 text-left text-slate-400",children:"API"}),e.jsx("th",{className:"px-3 py-2 text-left text-slate-400",children:"Mode"}),e.jsx("th",{className:"px-3 py-2 text-left text-slate-400",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-left text-slate-400",children:"Last Success"}),e.jsx("th",{className:"px-3 py-2 text-left text-slate-400",children:"Error Rate"}),e.jsx("th",{className:"px-3 py-2 text-left text-slate-400",children:"Avg Latency"})]})}),e.jsx("tbody",{children:n.map(t=>{const s=r[t.id],a=s?.health,i=s?.enabled??!1;return e.jsxs("tr",{className:"border-b border-slate-800",children:[e.jsx("td",{className:"px-3 py-2 text-slate-200",children:t.name}),e.jsx("td",{className:"px-3 py-2 text-slate-400",children:t.mode}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:`rounded px-2 py-0.5 text-xs ${i?"bg-green-500/20 text-green-300":"bg-slate-700 text-slate-400"}`,children:i?"Enabled":"Disabled"})}),e.jsx("td",{className:"px-3 py-2 text-slate-400",children:a?.lastSuccess?R(new Date(a.lastSuccess),{addSuffix:!0}):"Never"}),e.jsx("td",{className:"px-3 py-2 text-slate-400",children:a&&a.requestCount>0?`${(a.errorCount/a.requestCount*100).toFixed(1)}%`:"N/A"}),e.jsx("td",{className:"px-3 py-2 text-slate-400",children:a?.avgLatency?`${a.avgLatency}ms`:"N/A"})]},t.id)})})]})})}function ae(){const{capabilities:r,experimentalToolsEnabled:n,externalPluginsEnabled:t,setCapability:s,setExperimentalTools:a,setExternalPlugins:i}=B(),o=Y(),c=j.getAll();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{title:"Agent Capabilities",icon:C,children:[e.jsx("p",{className:"mb-4 text-sm text-slate-400",children:"Control what OmniAgent can do. Disable capabilities you don't trust."}),Object.entries(r).map(([l,x])=>e.jsx(h,{label:o[l],checked:x,onChange:m=>s(l,m)},l))]}),e.jsxs(d,{title:"Experimental Features",icon:G,children:[e.jsx(h,{label:"Allow experimental tools",checked:n,onChange:a,description:"Enable experimental agent tools that may be unstable"}),e.jsx(h,{label:"Allow external plugins",checked:t,onChange:i,description:"Allow loading and running external plugins"})]}),e.jsxs(d,{title:"Plugins",icon:A,children:[e.jsx("p",{className:"mb-4 text-sm text-slate-400",children:"Manage installed plugins and extensions."}),c.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No plugins installed"}):e.jsx("div",{className:"space-y-2",children:c.map(l=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-800 p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:l.name}),e.jsx("p",{className:"text-xs text-slate-400",children:l.description||"No description"})]}),e.jsx(h,{label:"",checked:l.enabled,onChange:x=>{x?j.enable(l.id):j.disable(l.id)}})]},l.id))})]}),e.jsxs(d,{title:"Crash Reporting",icon:k,children:[e.jsx("p",{className:"mb-4 text-sm text-slate-400",children:"Help improve Regen by automatically reporting crashes and errors."}),e.jsx(h,{label:"Send crash reports",checked:P.isEnabled(),onChange:l=>P.setEnabled(l),description:"Automatically send error reports to help improve Regen"})]}),e.jsx(d,{title:"Privacy & Trust Controls",icon:C,description:"Manage domain trust levels and privacy settings",children:e.jsx(V,{})})]})}export{Se as default};
//# sourceMappingURL=Settings-DqH3fooY.js.map
