const h="wispr:userProfile";function g(d){try{const a={...m(),...d};localStorage.setItem(h,JSON.stringify(a))}catch(e){throw console.error("[WISPR] Failed to save profile:",e),new Error("Failed to save profile")}}function m(){try{const d=localStorage.getItem(h);if(d)return JSON.parse(d)}catch(d){console.warn("[WISPR] Failed to load profile:",d)}return{}}function b(d,e){let a=0;return d.querySelectorAll("input, textarea, select").forEach(l=>{const n=l.name?.toLowerCase()||"",c=l.id?.toLowerCase()||"",t=l.placeholder?.toLowerCase()||"",o=l.type?.toLowerCase()||"text",i=l.labels?.[0]?.textContent?.toLowerCase()||"";if(o==="hidden"||o==="submit"||o==="button"||o==="reset")return;let s;if(n.includes("name")||c.includes("name")||t.includes("name")||i.includes("name")?s=e.name:n.includes("email")||c.includes("email")||t.includes("email")||i.includes("email")?s=e.email:n.includes("phone")||c.includes("phone")||t.includes("phone")||n.includes("mobile")||i.includes("phone")||i.includes("mobile")?s=e.phone:n.includes("address")||c.includes("address")||t.includes("address")||i.includes("address")?s=e.address:n.includes("city")||c.includes("city")||t.includes("city")||i.includes("city")?s=e.city:n.includes("state")||c.includes("state")||t.includes("state")||i.includes("state")?s=e.state:n.includes("pincode")||c.includes("pincode")||t.includes("pincode")||n.includes("zip")||n.includes("postal")||i.includes("pincode")||i.includes("zip")?s=e.pincode:n.includes("country")||c.includes("country")||t.includes("country")||i.includes("country")?s=e.country:n.includes("aadhaar")||c.includes("aadhaar")||t.includes("aadhaar")||i.includes("aadhaar")||n.includes("aadhar")?s=e.aadhaar:n.includes("pan")||c.includes("pan")||t.includes("pan")||i.includes("pan")?s=e.pan:n.includes("dob")||c.includes("dob")||t.includes("dob")||n.includes("birth")||i.includes("birth")||i.includes("dob")?s=e.dob:(n.includes("gender")||c.includes("gender")||t.includes("gender")||i.includes("gender"))&&(s=e.gender),s){if(l.tagName==="SELECT"){const u=Array.from(l.options).find(f=>f.value.toLowerCase()===s.toLowerCase()||f.text.toLowerCase().includes(s.toLowerCase()));u&&(l.value=u.value)}else o==="checkbox"||o==="radio"?(l.value===s||l.value.toLowerCase()===s.toLowerCase())&&(l.checked=!0):l.value=s;l.dispatchEvent(new Event("input",{bubbles:!0})),l.dispatchEvent(new Event("change",{bubbles:!0})),a++}}),a}function w(d){const e=document.querySelectorAll("form");if(e.length===0)return 0;const a=d||m();if(Object.keys(a).length===0)return 0;let r=0;return e.forEach(l=>{r+=b(l,a)}),r}export{w as fillAllForms,b as fillForm,m as getUserProfile,g as saveUserProfile};
//# sourceMappingURL=formFiller-CRt4dSj3.js.map
