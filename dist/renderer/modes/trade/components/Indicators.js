import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { SlidersHorizontal, Settings2 } from 'lucide-react';
export default function Indicators({ indicators, onToggle, onUpdate }) {
    return (_jsxs("div", { className: "rounded-2xl border border-white/10 bg-[#080b12] p-4 text-white shadow-inner shadow-black/40 space-y-3", children: [_jsxs("div", { className: "flex items-center justify-between text-xs uppercase tracking-wide text-indigo-200", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx(SlidersHorizontal, { size: 16 }), "Indicators"] }), _jsxs("div", { className: "flex items-center gap-2 text-[11px] text-gray-400", children: [_jsx(Settings2, { size: 13 }), "Configure overlays & oscillators"] })] }), _jsx("div", { className: "space-y-3", children: indicators.map(indicator => (_jsxs("div", { className: "rounded-2xl border border-white/10 bg-white/[0.02] p-3 shadow-inner shadow-black/30 transition hover:border-white/20", children: [_jsxs("div", { className: "flex flex-wrap items-center justify-between gap-2", children: [_jsxs("div", { children: [_jsxs("p", { className: "text-sm font-semibold", children: [indicator.label, ' ', _jsxs("span", { className: "text-[11px] uppercase text-gray-500", children: ["(", indicator.type.toUpperCase(), ")"] })] }), _jsx("p", { className: "text-[11px] text-gray-400", children: indicator.type === 'sma' || indicator.type === 'ema'
                                                ? `Period ${indicator.period}`
                                                : indicator.type === 'rsi'
                                                    ? `Period ${indicator.period} • Bands ${indicator.lowerBand ?? 30}/${indicator.upperBand ?? 70}`
                                                    : `Fast ${indicator.fastPeriod} • Slow ${indicator.slowPeriod} • Signal ${indicator.signalPeriod}` })] }), _jsx("button", { type: "button", onClick: () => onToggle(indicator.id), className: `rounded-full px-4 py-1 text-xs font-semibold uppercase tracking-wide transition ${indicator.enabled
                                        ? 'bg-emerald-500/80 text-white shadow-[0_0_15px_rgba(16,185,129,0.4)]'
                                        : 'bg-white/5 text-gray-400 hover:text-white'}`, children: indicator.enabled ? 'Enabled' : 'Enable' })] }), _jsxs("div", { className: "mt-3 grid gap-3 text-xs text-gray-300 sm:grid-cols-2", children: [(indicator.type === 'sma' || indicator.type === 'ema') && (_jsxs(_Fragment, { children: [_jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "Period" }), _jsx("input", { type: "number", min: 2, max: 500, value: indicator.period, onChange: event => onUpdate(indicator.id, {
                                                        period: clampNumber(Number(event.target.value), 2, 500),
                                                    }), className: "w-full rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-white focus:border-indigo-500 focus:outline-none" })] }), _jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "Color" }), _jsx("input", { type: "color", value: indicator.color, onChange: event => onUpdate(indicator.id, { color: event.target.value }), className: "h-10 w-full cursor-pointer rounded-xl border border-white/10 bg-black/40 p-1" })] })] })), indicator.type === 'rsi' && (_jsxs(_Fragment, { children: [_jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "Period" }), _jsx("input", { type: "number", min: 2, max: 200, value: indicator.period, onChange: event => onUpdate(indicator.id, {
                                                        period: clampNumber(Number(event.target.value), 2, 200),
                                                    }), className: "w-full rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-white focus:border-indigo-500 focus:outline-none" })] }), _jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "Upper Band" }), _jsx("input", { type: "number", min: 40, max: 90, value: indicator.upperBand ?? 70, onChange: event => onUpdate(indicator.id, {
                                                        upperBand: clampNumber(Number(event.target.value), 40, 90),
                                                    }), className: "w-full rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-white focus:border-indigo-500 focus:outline-none" })] }), _jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "Lower Band" }), _jsx("input", { type: "number", min: 10, max: 60, value: indicator.lowerBand ?? 30, onChange: event => onUpdate(indicator.id, {
                                                        lowerBand: clampNumber(Number(event.target.value), 10, 60),
                                                    }), className: "w-full rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-white focus:border-indigo-500 focus:outline-none" })] }), _jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "Color" }), _jsx("input", { type: "color", value: indicator.color, onChange: event => onUpdate(indicator.id, { color: event.target.value }), className: "h-10 w-full cursor-pointer rounded-xl border border-white/10 bg-black/40 p-1" })] })] })), indicator.type === 'macd' && (_jsxs(_Fragment, { children: [_jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "Fast Period" }), _jsx("input", { type: "number", min: 2, max: 200, value: indicator.fastPeriod, onChange: event => onUpdate(indicator.id, {
                                                        fastPeriod: clampNumber(Number(event.target.value), 2, 200),
                                                    }), className: "w-full rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-white focus:border-indigo-500 focus:outline-none" })] }), _jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "Slow Period" }), _jsx("input", { type: "number", min: indicator.fastPeriod + 1, max: 400, value: indicator.slowPeriod, onChange: event => onUpdate(indicator.id, {
                                                        slowPeriod: clampNumber(Number(event.target.value), indicator.fastPeriod + 1, 400),
                                                    }), className: "w-full rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-white focus:border-indigo-500 focus:outline-none" })] }), _jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "Signal Period" }), _jsx("input", { type: "number", min: 2, max: 200, value: indicator.signalPeriod, onChange: event => onUpdate(indicator.id, {
                                                        signalPeriod: clampNumber(Number(event.target.value), 2, 200),
                                                    }), className: "w-full rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-white focus:border-indigo-500 focus:outline-none" })] }), _jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "MACD Color" }), _jsx("input", { type: "color", value: indicator.color, onChange: event => onUpdate(indicator.id, { color: event.target.value }), className: "h-10 w-full cursor-pointer rounded-xl border border-white/10 bg-black/40 p-1" })] }), _jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "Signal Color" }), _jsx("input", { type: "color", value: indicator.signalColor, onChange: event => onUpdate(indicator.id, { signalColor: event.target.value }), className: "h-10 w-full cursor-pointer rounded-xl border border-white/10 bg-black/40 p-1" })] }), _jsxs("label", { className: "space-y-1", children: [_jsx("span", { children: "Histogram Color" }), _jsx("input", { type: "color", value: indicator.histogramColor, onChange: event => onUpdate(indicator.id, { histogramColor: event.target.value }), className: "h-10 w-full cursor-pointer rounded-xl border border-white/10 bg-black/40 p-1" })] })] }))] })] }, indicator.id))) })] }));
}
function clampNumber(value, min, max) {
    if (Number.isNaN(value))
        return min;
    return Math.min(max, Math.max(min, value));
}
