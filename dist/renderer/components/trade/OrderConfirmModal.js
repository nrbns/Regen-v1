import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { motion, AnimatePresence } from 'framer-motion';
import { X, CheckCircle2, AlertTriangle } from 'lucide-react';
export default function OrderConfirmModal({ isOpen, order, onConfirm, onCancel, warnings = [], errors = [], }) {
    if (!order)
        return null;
    const canConfirm = errors.length === 0;
    return (_jsx(AnimatePresence, { children: isOpen && (_jsxs(_Fragment, { children: [_jsx(motion.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, onClick: onCancel, className: "fixed inset-0 z-50 bg-black/60 backdrop-blur-sm" }), _jsx(motion.div, { initial: { opacity: 0, scale: 0.95, y: 20 }, animate: { opacity: 1, scale: 1, y: 0 }, exit: { opacity: 0, scale: 0.95, y: 20 }, className: "fixed inset-0 z-50 flex items-center justify-center p-4", onClick: e => e.stopPropagation(), children: _jsxs("div", { className: "w-full max-w-md rounded-2xl border border-gray-700 bg-gray-900 shadow-2xl", children: [_jsxs("div", { className: "flex items-center justify-between border-b border-gray-700 p-6", children: [_jsx("h3", { className: "text-xl font-bold text-white", children: "Confirm Order" }), _jsx("button", { onClick: onCancel, className: "rounded-lg p-2 transition-colors hover:bg-gray-800", "aria-label": "Close", children: _jsx(X, { size: 20, className: "text-gray-400" }) })] }), _jsxs("div", { className: "space-y-4 p-6", children: [errors.length > 0 && (_jsxs("div", { className: "rounded-lg border border-red-700 bg-red-900/30 p-4", children: [_jsxs("div", { className: "mb-2 flex items-center gap-2", children: [_jsx(AlertTriangle, { size: 16, className: "text-red-400" }), _jsx("span", { className: "text-sm font-semibold text-red-300", children: "Errors" })] }), _jsx("ul", { className: "space-y-1 text-xs text-red-200", children: errors.map((error, idx) => (_jsxs("li", { children: ["\u2022 ", error] }, idx))) })] })), warnings.length > 0 && (_jsxs("div", { className: "rounded-lg border border-yellow-700 bg-yellow-900/30 p-4", children: [_jsxs("div", { className: "mb-2 flex items-center gap-2", children: [_jsx(AlertTriangle, { size: 16, className: "text-yellow-400" }), _jsx("span", { className: "text-sm font-semibold text-yellow-300", children: "Warnings" })] }), _jsx("ul", { className: "space-y-1 text-xs text-yellow-200", children: warnings.map((warning, idx) => (_jsxs("li", { children: ["\u2022 ", warning] }, idx))) })] })), _jsxs("div", { className: "space-y-3", children: [_jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Side" }), _jsx("span", { className: `text-sm font-bold ${order.side === 'buy' ? 'text-green-400' : 'text-red-400'}`, children: order.side.toUpperCase() })] }), _jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Symbol" }), _jsx("span", { className: "text-sm font-semibold text-white", children: order.symbol })] }), _jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Quantity" }), _jsx("span", { className: "text-sm font-semibold text-white", children: order.quantity })] }), _jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Order Type" }), _jsx("span", { className: "text-sm font-semibold text-white", children: order.orderType.toUpperCase() })] }), order.orderType === 'limit' && (_jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Limit Price" }), _jsx("span", { className: "text-sm font-semibold text-white", children: order.price.toLocaleString(undefined, { minimumFractionDigits: 2 }) })] })), order.stopLoss && (_jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Stop Loss" }), _jsx("span", { className: "text-sm font-semibold text-red-400", children: order.stopLoss.toLocaleString(undefined, { minimumFractionDigits: 2 }) })] })), order.takeProfit && (_jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Take Profit" }), _jsx("span", { className: "text-sm font-semibold text-green-400", children: order.takeProfit.toLocaleString(undefined, { minimumFractionDigits: 2 }) })] })), _jsxs("div", { className: "space-y-2 border-t border-gray-700 pt-3", children: [_jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Estimated Cost" }), _jsx("span", { className: "text-sm font-semibold text-white", children: order.estimatedCost.toLocaleString(undefined, {
                                                                    minimumFractionDigits: 2,
                                                                }) })] }), _jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Fees" }), _jsx("span", { className: "text-sm text-gray-300", children: order.fees.toLocaleString(undefined, { minimumFractionDigits: 2 }) })] }), order.marginRequired && (_jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Margin Required" }), _jsx("span", { className: "text-sm font-semibold text-yellow-400", children: order.marginRequired.toLocaleString(undefined, {
                                                                    minimumFractionDigits: 2,
                                                                }) })] })), _jsxs("div", { className: "flex items-center justify-between border-t border-gray-700 pt-2", children: [_jsx("span", { className: "text-base font-semibold text-gray-300", children: "Total" }), _jsx("span", { className: "text-lg font-bold text-white", children: (order.estimatedCost + order.fees).toLocaleString(undefined, {
                                                                    minimumFractionDigits: 2,
                                                                }) })] })] })] })] }), _jsxs("div", { className: "flex gap-3 border-t border-gray-700 p-6", children: [_jsx("button", { onClick: onCancel, className: "flex-1 rounded-lg bg-gray-800 px-4 py-3 font-semibold text-white transition-colors hover:bg-gray-700", children: "Cancel" }), _jsx("button", { onClick: onConfirm, disabled: !canConfirm, className: `flex flex-1 items-center justify-center gap-2 rounded-lg px-4 py-3 font-semibold transition-all ${order.side === 'buy'
                                            ? 'bg-green-600 text-white hover:bg-green-500'
                                            : 'bg-red-600 text-white hover:bg-red-500'} ${!canConfirm ? 'cursor-not-allowed opacity-50' : 'shadow-lg'}`, children: canConfirm ? (_jsxs(_Fragment, { children: [_jsx(CheckCircle2, { size: 18 }), "Confirm ", order.side.toUpperCase()] })) : ('Cannot Confirm') })] }), _jsxs("div", { className: "px-6 pb-4 text-center text-xs text-gray-500", children: ["Press ", _jsx("kbd", { className: "rounded bg-gray-800 px-1.5 py-0.5", children: "Enter" }), " to confirm,", ' ', _jsx("kbd", { className: "rounded bg-gray-800 px-1.5 py-0.5", children: "Esc" }), " to cancel"] })] }) })] })) }));
}
