# RegenBrowser Environment Variables
# Copy this file to .env and fill in your API keys

# ============================================
# AI PROVIDERS (Required for AI features)
# ============================================

# OpenAI API (Optional - for GPT-4 Vision, advanced features)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic Claude API (Optional - for Claude Sonnet)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Groq API (Optional - for fast inference)
# Get from: https://console.groq.com/
GROQ_API_KEY=gsk_your-groq-api-key-here

# Hugging Face API (Optional - for model hosting)
# Get from: https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=hf_your-huggingface-token-here

# Hugging Face Model (Optional - default: meta-llama/Llama-2-7b-chat-hf)
# Popular models: meta-llama/Llama-2-7b-chat-hf, mistralai/Mistral-7B-Instruct-v0.1, google/flan-t5-large
HUGGINGFACE_MODEL=meta-llama/Llama-2-7b-chat-hf

# LLM Provider (default: ollama - FREE, unlimited usage)
# Options: ollama (FREE), huggingface, hf, openai, anthropic
# PRIORITY: Use ollama for free unlimited usage
# Set to "huggingface" or "hf" to use Hugging Face Inference API
LLM_PROVIDER=ollama

# AI Provider (for server-side - default: ollama for FREE usage)
# Options: ollama (FREE), openai, anthropic
# PRIORITY: Use ollama for free unlimited usage
AI_PROVIDER=ollama

# OpenAI Model (default: gpt-4o)
OPENAI_MODEL=gpt-4o

# OpenAI Base URL (default: https://api.openai.com/v1)
OPENAI_BASE_URL=https://api.openai.com/v1

# Anthropic Model (default: claude-haiku-4.5)
# Set to the Anthropic model you want to use for Claude (server-side)
ANTHROPIC_MODEL=claude-haiku-4.5

# Anthropic Base URL (default: https://api.anthropic.com/v1)
ANTHROPIC_BASE_URL=https://api.anthropic.com/v1

# ============================================
# GOOGLE INTEGRATIONS (Mail/Slides)
# ============================================

# Gmail / Slides OAuth
GMAIL_CLIENT_ID=your-google-oauth-client-id
GMAIL_CLIENT_SECRET=your-google-oauth-client-secret
GMAIL_REDIRECT_URI=http://localhost:3000/auth/callback

# ============================================
# FLIGHT SEARCH (Amadeus)
# ============================================

AMADEUS_CLIENT_ID=your-amadeus-api-key
AMADEUS_CLIENT_SECRET=your-amadeus-api-secret
# Options: test | production (default: test)
AMADEUS_ENVIRONMENT=test

# ============================================
# DOCUMENT SERVICES
# ============================================

# Excel processing is disabled by default due to upstream xlsx vulnerabilities.
# Set to true ONLY if you accept the risk or use a vetted patched build.
ALLOW_EXCEL_PROCESSING=false

# Mistral API (Optional)
# Get from: https://console.mistral.ai/
MISTRAL_API_KEY=your-mistral-api-key-here

# ============================================
# OLLAMA (Local AI - Recommended)
# ============================================

# Ollama runs locally - no API key needed (FREE, unlimited usage)
# Just install from: https://ollama.com/download
# Recommended models for research:
#   - llama3.1 (8B) - Fast, accurate, great for research
#   - qwen2.5:14b - More factual, better grounding
#   - deepseek-r1:14b - Strong reasoning
#   - gemma2:9b - Multi-lingual support
# Then run: ollama pull llama3.1

# Ollama Base URL (default: http://localhost:11434)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_URL=http://127.0.0.1:11434

# Ollama Model (default: llama3.1 for research)
# Popular models: llama3.1, qwen2.5:14b, deepseek-r1:14b, gemma2:9b
OLLAMA_MODEL=llama3.1

# Force OpenAI (set to true to use paid OpenAI instead of free Ollama)
FORCE_OPENAI=false

# Ollama Origins (for CORS - auto-set by app, but can override)
OLLAMA_ORIGINS=*

# Ollama Host (auto-set by app, but can override)
OLLAMA_HOST=127.0.0.1:11434

# Ollama Origin (auto-set by app, but can override)
OLLAMA_ORIGIN=*

# Ollama Allow Private Network (auto-set by app)
OLLAMA_ALLOW_PRIVATE_NETWORK=true

# ============================================
# SEARCH APIs (FREE STACK)
# ============================================

# Brave Search API (FREE - 2,000 queries/day)
# Get free key: https://api.search.brave.com/app/documentation/web-search/free-api
BRAVE_API_KEY=your_brave_api_key_here
BRAVE_SEARCH_API_KEY=your_brave_api_key_here

# Bing Search API (Optional - paid, use Brave instead for free)
BING_SEARCH_API_KEY=your_bing_api_key_here
BING_API_KEY=your_bing_api_key_here

# Google Custom Search API (Optional - paid, use Brave instead for free)
GOOGLE_SEARCH_API_KEY=your_google_search_api_key_here
GOOGLE_SEARCH_ENGINE_ID=your_google_search_engine_id_here

# ============================================
# TRADING/BROKER APIs (Optional)
# ============================================

# Market Data Provider (default: mock)
# Options: mock, binance
# Set to "binance" for real Binance WebSocket feed
MARKET_DATA_PROVIDER=mock

# Binance API Configuration (optional - only needed if MARKET_DATA_PROVIDER=binance)
# Defaults to public Binance API endpoints
BINANCE_API_URL=https://api.binance.com/api/v3
BINANCE_WS_URL=wss://stream.binance.com:9443/ws

# Zerodha Kite API (For auto trade execution)
# Get from: https://kite.trade/apps/
ZERODHA_API_KEY=your-zerodha-api-key
ZERODHA_API_SECRET=your-zerodha-api-secret
ZERODHA_ACCESS_TOKEN=your-zerodha-access-token

# TradingView Broker REST API (Optional - for trading integration)
# Get from: https://www.tradingview.com/rest-api-docs/
TRADINGVIEW_API_BASE_URL=https://your-rest-implementation.com/api
TRADINGVIEW_ACCESS_TOKEN=your-tradingview-access-token
TRADINGVIEW_ACCOUNT_ID=your-account-id
TRADINGVIEW_CLIENT_ID=your-client-id
TRADINGVIEW_CLIENT_SECRET=your-client-secret

# Finnhub API (Optional - for real-time market data)
FINNHUB_API_KEY=your-finnhub-api-key

# OpenWeatherMap API (Optional - for weather data)
# Get from: https://openweathermap.org/api
OPENWEATHER_API_KEY=your-openweather-api-key

# ============================================
# ANALYTICS & MONITORING (Optional)
# ============================================

# Sentry (Error tracking)
# Get from: https://sentry.io/settings/your-org/projects/your-project/keys/
SENTRY_DSN=your-sentry-dsn-here
VITE_SENTRY_DSN=your-sentry-dsn-here
VITE_SENTRY_TRACES_SAMPLE_RATE=0.1

# PostHog (Analytics)
POSTHOG_API_KEY=your-posthog-api-key
POSTHOG_HOST=https://app.posthog.com

# ============================================
# DEVELOPMENT
# ============================================

# Node Environment
NODE_ENV=development

# Vite Dev Server Port
VITE_DEV_PORT=1420

# Tauri Dev URL
VITE_TAURI_DEV_URL=http://localhost:1420

# Backend API Configuration
# API Base URL (for frontend to connect to backend server)
VITE_API_BASE_URL=http://127.0.0.1:4000
VITE_APP_API_URL=http://127.0.0.1:4000

# Frontend API Keys (for client-side access)
VITE_OPENAI_API_KEY=sk-your-openai-api-key-here
VITE_ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
VITE_MISTRAL_API_KEY=your-mistral-api-key-here
VITE_OLLAMA_BASE_URL=http://localhost:11434
VITE_OPENAI_BASE_URL=https://api.openai.com/v1

# Expose Anthropic model to frontend clients (optional)
# If set, frontend will use this model identifier when calling server-side endpoints
VITE_ANTHROPIC_MODEL=claude-haiku-4.5

# Search & Research APIs
VITE_BING_API_KEY=your-bing-api-key-here
VITE_BHASHINI_API_KEY=your-bhashini-api-key-here
VITE_SEARCH_PROXY_URL=http://127.0.0.1:4000/api/search/proxy

# Trade API Configuration
VITE_TRADE_API_BASE=http://127.0.0.1:4000/api/trade
VITE_TRADE_API_KEY=your-trade-api-key-here

# n8n Workflow Automation
VITE_N8N_BASE_URL=http://localhost:5678
VITE_N8N_WEBHOOK_URL=http://localhost:5678/webhook
VITE_N8N_API_KEY=your-n8n-api-key-here

# MeiliSearch Configuration
VITE_MEILI_URL=http://localhost:7700
VITE_MEILI_MASTER_KEY=regen2026

# Metrics & Monitoring
VITE_METRICS_INTERVAL_MS=5000

# Mock LLM Server (Development)
MOCK_LLM_PORT=4000

# Backend Server Port (for server to listen on)
REDIX_PORT=4000

# Regen Server URL (for agent communication)
REGEN_SERVER_URL=http://127.0.0.1:4000

# Redis Configuration
REDIS_URL=redis://127.0.0.1:6379

# Redix Core URLs (for frontend)
VITE_REDIX_CORE_URL=http://localhost:8001
VITE_REDIX_WS_URL=ws://localhost:8001
VITE_REDIX_HTTP_URL=http://localhost:8001
VITE_REDIX_SSE_URL=http://localhost:8001/sse

# Disable Redix (set to true to disable)
VITE_DISABLE_REDIX=false

# ============================================
# FEATURE FLAGS (Optional)
# ============================================

# Enable experimental features
VITE_ENABLE_EXPERIMENTAL=true

# Enable telemetry (set to false to disable)
VITE_ENABLE_TELEMETRY=true

# Enable offline mode (default: true)
VITE_OFFLINE_MODE=true

# ============================================
# NOTES
# ============================================

# 1. For OFFLINE MODE (recommended):
#    - Install Ollama: https://ollama.com/download
#    - Pull models: ollama pull phi3:mini && ollama pull llava:7b
#    - No API keys needed! Everything works offline.

# 2. For ONLINE MODE (advanced features):
#    - Add OpenAI API key for GPT-4 Vision
#    - Add Anthropic key for Claude Sonnet
#    - Add Groq key for fast inference

# ============================================
# TRADING & MARKET DATA
# ============================================

# Market Data Provider (default: mock)
# Options: mock, binance
# Set to "binance" for real Binance WebSocket feed
MARKET_DATA_PROVIDER=mock

# Binance API Configuration (optional)
# Defaults to public Binance API endpoints
BINANCE_API_URL=https://api.binance.com/api/v3
BINANCE_WS_URL=wss://stream.binance.com:9443/ws

# Zerodha API (for auto trade execution)
# Get from: https://kite.trade/
ZERODHA_API_KEY=your-zerodha-api-key
ZERODHA_API_SECRET=your-zerodha-api-secret

# Finnhub API (for real-time market data)
# Get from: https://finnhub.io/
FINNHUB_API_KEY=your-finnhub-api-key

# 3. For TRADING:
#    - Add Zerodha API keys for auto trade execution
#    - Add Finnhub key for real-time market data
#    - Set MARKET_DATA_PROVIDER=binance for Binance WebSocket feed
#    - Set BINANCE_API_URL (optional, defaults to https://api.binance.com/api/v3)
#    - Set BINANCE_WS_URL (optional, defaults to wss://stream.binance.com:9443/ws)

# 4. All API keys are OPTIONAL except for specific features:
#    - Offline AI: No keys needed (uses Ollama)
#    - Online AI: OpenAI/Anthropic/Groq keys
#    - Trading: Zerodha keys
#    - Analytics: Sentry/PostHog keys

# ============================================
# SECURITY NOTES
# ============================================

# - Never commit .env file to git (it's in .gitignore)
# - Keep API keys secret
# - Rotate keys regularly
# - Use environment-specific keys (dev/staging/prod)

# ============================================
# ADDITIONAL CONFIGURATION NOTES
# ============================================

# VITE_* variables are exposed to the frontend (browser)
# Variables without VITE_ prefix are backend-only (Tauri/Node.js)

# For offline mode, you only need:
# - OLLAMA_BASE_URL (default: http://localhost:11434)
# - OLLAMA_MODEL (default: llama3.2:3b)
# - No API keys required!

# For online mode with cloud LLMs:
# - Set LLM_PROVIDER=huggingface or AI_PROVIDER=openai/anthropic
# - Add corresponding API keys (HUGGINGFACE_API_KEY, OPENAI_API_KEY, etc.)

# For n8n workflow automation:
# - Install n8n: npm install -g n8n
# - Set VITE_N8N_BASE_URL and VITE_N8N_API_KEY
# - n8n auto-starts from bundled binary if available

# For MeiliSearch indexing:
# - MeiliSearch auto-starts from bundled binary
# - Set VITE_MEILI_URL and VITE_MEILI_MASTER_KEY if using custom instance

# ============================================
# CORE MODE CONFIGURATION (NEW)
# ============================================

# Regen Mode: online (free cloud APIs) or offline (local models)
# Set to 'offline' for air-gapped deployment
# This single variable controls all provider switching
REGEN_MODE=online

# ============================================
# FREE LLM APIs (Online Mode - NEW)
# ============================================

# DeepInfra API ($25 free credit forever)
# Get from: https://deepinfra.com → sign-up
DEEPINFRA_API_KEY=

# Poe API (Unlimited Claude-3.5 + Gemini via bot)
# Get from: https://poe.com → create bot with your own key
POE_API_KEY=

# Gemini API (1500 requests/day free)
# Get from: Google AI Studio → "Get API key" (no card needed)
# Note: GEMINI_API_KEY is already defined above, but can be used for vision too

# ============================================
# LOCAL LLM CONFIGURATION (Offline Mode - ENHANCED)
# ============================================

# Use Local LLM even in online mode (force offline)
USE_LOCAL_LLM=false

# Local vision model (for offline mode)
# Options: moondream2, llava-1.6-vicuna-13b, bakllava
LOCAL_VISION_MODEL=moondream2

# ============================================
# VOICE / SPEECH SERVICES (NEW)
# ============================================

# Whisper Configuration
WHISPER_MODEL=base
USE_LOCAL_WHISPER=false

# ElevenLabs API (10k chars/month free)
# Get from: https://elevenlabs.io
ELEVENLABS_API_KEY=

# ============================================
# SEARCH SERVICES (ENHANCED)
# ============================================

# SearXNG URL (self-hosted search, free)
# Default: http://localhost:8080
# Install: docker run -d -p 8080:8080 searxng/searxng
SEARXNG_URL=http://localhost:8080

# ============================================
# YOUTUBE ANALYSIS (NEW)
# ============================================

# YouTube analysis uses yt-dlp (no API key needed)
# System tool: ffmpeg (for frame extraction)
# Python packages: yt-dlp, youtube-transcript-api, pillow
# Install: pip install yt-dlp youtube-transcript-api pillow
# System: Install ffmpeg (apt-get install ffmpeg / brew install ffmpeg)

# ============================================
# VIDEO GENERATION (NEW)
# ============================================

# HeyGen API (for video summaries)
# Get from: https://heygen.com
HEYGEN_API_KEY=
HEYGEN_API_URL=https://api.heygen.com/v2

# Custom voice ID (from HeyGen voice cloning)
MY_VOICE_ID=

# ============================================
# EXPORT SERVICES (NEW)
# ============================================

# Notion API (for export to Notion)
# Get from: https://www.notion.so/my-integrations
NOTION_API_KEY=

# Roam API (for export to Roam)
# Requires: npm i -g roam-research-private-api
ROAM_API_EMAIL=
ROAM_API_PASSWORD=
ROAM_API_GRAPH=

# Obsidian: No API key needed (file download)

# ============================================
# GITHUB INTEGRATION (NEW)
# ============================================

# GitHub Token (for GitHub search in research)
# Get from: https://github.com/settings/tokens
GITHUB_TOKEN=

# ============================================
# ADDITIONAL SERVICES (ENHANCED)
# ============================================

# PostgreSQL (optional - for frontier table)
POSTGRES_URL=postgres://regen:regen@localhost/regen

# MinIO (optional - for object storage)
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin

# Qdrant (optional - for vector DB)
QDRANT_URL=http://localhost:6333

# Prometheus (metrics - optional)
PROMETHEUS_PORT=9090

# ============================================
# WEB SOCKET CONFIGURATION
# ============================================

# WebSocket URL (for real-time features)
VITE_WS_URL=ws://localhost:4000

# Bus URL (for message bus)
VITE_BUS_URL=ws://localhost:4000/ws/bus

# ============================================
# QUICK START GUIDE
# ============================================

# OFFLINE MODE (Recommended for privacy):
# 1. Set REGEN_MODE=offline
# 2. Install Ollama: https://ollama.com/download
# 3. Pull models: ollama pull llama3.1:8b && ollama pull moondream2 && ollama pull whisper
# 4. No API keys needed! Everything works offline.

# ONLINE MODE (Maximum features):
# 1. Set REGEN_MODE=online
# 2. Get free API keys (all optional):
#    - Groq: https://console.groq.com/keys (1M tokens/day)
#    - DeepInfra: https://deepinfra.com ($25 free forever)
#    - Brave: https://search.brave.com/api (10k queries/month)
#    - Gemini: Google AI Studio (1500 requests/day)
# 3. Add keys above
# 4. System auto-rotates free APIs for unlimited usage

# YOUTUBE ANALYSIS:
# 1. Install: pip install yt-dlp youtube-transcript-api pillow
# 2. Install ffmpeg: apt-get install ffmpeg (Linux) or brew install ffmpeg (macOS)
# 3. No API keys needed!

# VIDEO GENERATION:
# 1. Get HeyGen API key: https://heygen.com
# 2. Set HEYGEN_API_KEY above
# 3. Optional: Clone your voice for custom voiceovers

# EXPORT SERVICES:
# 1. Notion: Get key from https://www.notion.so/my-integrations
# 2. Roam: Install npm i -g roam-research-private-api, set credentials above
# 3. Obsidian: No setup needed (file download)
